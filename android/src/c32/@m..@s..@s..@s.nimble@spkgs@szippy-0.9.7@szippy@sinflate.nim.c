/* Generated by Nim Compiler v1.6.4 */
#define NIM_INTBITS 32
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg;
typedef struct tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ tySequence__6H5Oh5UUvVCLiakt9aTwtUQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg {
NU8* src;
NI len;
NI pos;
NU64 bitBuffer;
NI bitsBuffered;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ {
  tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw Sup;
};
typedef NU16 tyArray__C4LXewwYvv4lHcEgVwRSnQ[16];
typedef NU32 tyArray__shRjKVKA1yX9anQH88sX9ckQ[17];
typedef NU8 tyArray__uj2LU37JRZUnq6aXgN9aP9aw[288];
typedef NU16 tyArray__sBRhJDQs6hGOcTnn3WFNFA[288];
typedef NU16 tyArray__ApEGSvLG2Wp9awGaXtK4gbw[512];
struct tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw {
tyArray__C4LXewwYvv4lHcEgVwRSnQ firstCode;
tyArray__C4LXewwYvv4lHcEgVwRSnQ firstSymbol;
tyArray__shRjKVKA1yX9anQH88sX9ckQ maxCodes;
tyArray__uj2LU37JRZUnq6aXgN9aP9aw lengths;
tyArray__sBRhJDQs6hGOcTnn3WFNFA values;
tyArray__ApEGSvLG2Wp9awGaXtK4gbw fast;
};
typedef NU16 tyArray__7BM9aBQkcDVlrEK1G9aBN13g[17];
typedef NU32 tyArray__U0SiHM0pVagA9c71oWelQMA[16];
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ {
  NI len; tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content* p;
};
typedef NU8 tyArray__wBhHnWndyyi5SA1Gi8nMsg[19];
typedef NU8 tyArray__NiTJzntNtmwdpiO4zgZt1A[320];
typedef NU16 tyArray__JGxY4jRKVLYBFHYRC0aqgw[29];
typedef NU8 tyArray__Xu3oxJynEoNYWLdMbzkWgw[29];
typedef NU16 tyArray__w4pf2aeJoenCwuaCVUN3ig[30];
typedef NU8 tyArray__7lnYrpDEoa71dNXHF5y2HA[30];
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
#define tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE];};
#endif

      static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(NU16, readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI bits);
static N_INLINE(void, fillBitBuffer__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_13)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b);
N_LIB_PRIVATE N_NIMCALL(void, inflateNoCompression__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_488)(NimStringV2* dst, tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI* op);
N_LIB_PRIVATE N_NIMCALL(void, skipRemainingBitsInCurrentByte__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_40)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void, readBytes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_33)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, void* dst, NI len);
N_LIB_PRIVATE N_NIMCALL(void, inflateBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_178)(NimStringV2* dst, tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI* op, NIM_BOOL fixedCodes);
N_LIB_PRIVATE N_NIMCALL(void, init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22)(tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* huffman, NU8* codeLengths, NI codeLengthsLen_0);
N_LIB_PRIVATE N_NIMCALL(NU16, reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159)(NU16 x);
static N_INLINE(NU16, decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_219)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* h);
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, nimPrepareStrMutationImpl__system_2312)(NimStringV2* s);
static N_INLINE(NU16, readBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_346)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI bits);
static N_INLINE(NU16, decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_368)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* h);
static N_INLINE(void, copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402)(NU8* dst, NU8* src, NI op, NI ip);
static N_INLINE(void, write64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_398)(NU8* dst, NI op, NU64 v);
static N_INLINE(NU64, read64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_394)(NU8* src, NI ip);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__systemZassertions_53)(NimStringV2 msg);
extern TNimTypeV2 NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_;
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__DfGUlULz7L6yCrKDOEacgQ_2 = { 36 | NIM_STRLIT_FLAG, "Invalid buffer, unable to uncompress" };
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_3 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_4 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_5 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
extern NIM_CONST tySequence__6H5Oh5UUvVCLiakt9aTwtUQ fixedLitLenCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_324;
extern NIM_CONST tySequence__6H5Oh5UUvVCLiakt9aTwtUQ fixedDistanceCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_361;
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_6 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_7 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
extern NIM_CONST tyArray__wBhHnWndyyi5SA1Gi8nMsg clclOrder__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_30;
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_8 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const struct {
  NI cap; NIM_CHAR data[37+1];
} TM__DfGUlULz7L6yCrKDOEacgQ_9 = { 37 | NIM_STRLIT_FLAG, "Cannot read further, at end of buffer" };
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_10 = {37, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_9};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_11 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_12 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const struct {
  NI cap; NIM_CHAR data[14+1];
} TM__DfGUlULz7L6yCrKDOEacgQ_13 = { 14 | NIM_STRLIT_FLAG, "Invalid symbol" };
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_14 = {14, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_13};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_15 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_16 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
extern NIM_CONST tyArray__JGxY4jRKVLYBFHYRC0aqgw baseLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_25;
extern NIM_CONST tyArray__Xu3oxJynEoNYWLdMbzkWgw baseLengthsExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_26;
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_17 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_18 = {37, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_9};
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_19 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
extern NIM_CONST tyArray__w4pf2aeJoenCwuaCVUN3ig baseDistances__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_28;
extern NIM_CONST tyArray__7lnYrpDEoa71dNXHF5y2HA baseDistanceExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_29;
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_20 = {36, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_2};
static const struct {
  NI cap; NIM_CHAR data[29+1];
} TM__DfGUlULz7L6yCrKDOEacgQ_21 = { 29 | NIM_STRLIT_FLAG, "inflate.nim(220, 22) `false` " };
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_22 = {29, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_21};
static const struct {
  NI cap; NIM_CHAR data[20+1];
} TM__DfGUlULz7L6yCrKDOEacgQ_23 = { 20 | NIM_STRLIT_FLAG, "Invalid block header" };
static const NimStringV2 TM__DfGUlULz7L6yCrKDOEacgQ_24 = {20, (NimStrPayload*)&TM__DfGUlULz7L6yCrKDOEacgQ_23};
extern NIM_BOOL nimInErrorMode__system_3443;
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3443);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, fillBitBuffer__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_13)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b) {
	{
		while (1) {
			if (!((*b).bitsBuffered <= ((NI) 56))) goto LA2;
			{
				if (!((*b).len <= (*b).pos)) goto LA5_;
				goto LA1;
			}
			LA5_: ;
			(*b).bitBuffer = (NU64)((*b).bitBuffer | (NU64)((NU64)(((NU64) ((*b).src[(*b).pos]))) << (NU64)((*b).bitsBuffered)));
			(*b).pos += ((NI) 1);
			(*b).bitsBuffered += ((NI) 8);
		} LA2: ;
	} LA1: ;
}
static N_INLINE(NU16, readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI bits) {
	NU16 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NU16)0;
	fillBitBuffer__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_13(b);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ((NU16) ((NU64)((*b).bitBuffer & (NU64)((NU64)((NU64)((NU64)(1ULL) << (NU64)(bits))) - (NU64)(1ULL)))));
	(*b).bitBuffer = (NU64)((NU64)((*b).bitBuffer) >> (NU64)(bits));
	(*b).bitsBuffered -= bits;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, inflateNoCompression__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_488)(NimStringV2* dst, tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI* op) {
	NI len;
	NU16 T1_;
	NI nlen;
	NU16 T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	skipRemainingBitsInCurrentByte__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_40(b);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NU16)0;
	T1_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 16));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	len = ((NI) (T1_));
	T2_ = (NU16)0;
	T2_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 16));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	nlen = ((NI) (T2_));
	{
		tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T7_;
		if (!!(((NI)(len + nlen) == ((NI) 65535)))) goto LA5_;
		T7_ = NIM_NIL;
		T7_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
		(*T7_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
		(*T7_).Sup.Sup.Sup.name = "ZippyError";
		(*T7_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_3;
		(*T7_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T7_, "ZippyError", "inflateNoCompression", "inflate.nim", 237);
		goto BeforeRet_;
	}
	LA5_: ;
	{
		if (!(((NI) 0) < len)) goto LA10_;
		setLengthStrV2((&(*dst)), ((NI) ((NI)((*op) + len))));
		readBytes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_33(b, ((void*) ((&(*dst).p->data[(*op)]))), len);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA10_: ;
	(*op) += len;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22)(tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* huffman, NU8* codeLengths, NI codeLengthsLen_0) {
	tyArray__7BM9aBQkcDVlrEK1G9aBN13g histogram;
	NU32 code;
	NU16 k;
	tyArray__U0SiHM0pVagA9c71oWelQMA nextCode;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)histogram, sizeof(tyArray__7BM9aBQkcDVlrEK1G9aBN13g));
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = codeLengthsLen_0;
		i_2 = ((NI) 0);
		{
			while (1) {
				if (!(i_2 < colontmp_)) goto LA3;
				i = i_2;
				histogram[(codeLengths[i])- 0] += ((NI) 1);
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	histogram[(((NI) 0))- 0] = ((NU16) 0);
	{
		NI i_3;
		NI i_4;
		i_3 = (NI)0;
		i_4 = ((NI) 1);
		{
			while (1) {
				if (!(i_4 < ((NI) 16))) goto LA6;
				i_3 = i_4;
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T11_;
					if (!((NU16)((NU16)((NU32)(((NU16) 1)) << (NU32)(i_3))) < (NU16)(histogram[(i_3)- 0]))) goto LA9_;
					T11_ = NIM_NIL;
					T11_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T11_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T11_).Sup.Sup.Sup.name = "ZippyError";
					(*T11_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_4;
					(*T11_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T11_, "ZippyError", "init", "inflate.nim", 27);
					goto BeforeRet_;
				}
				LA9_: ;
				i_4 += ((NI) 1);
			} LA6: ;
		}
	}
	code = (NU32)0;
	k = (NU16)0;
	nimZeroMem((void*)nextCode, sizeof(tyArray__U0SiHM0pVagA9c71oWelQMA));
	{
		NI i_5;
		NI i_6;
		i_5 = (NI)0;
		i_6 = ((NI) 1);
		{
			while (1) {
				if (!(i_6 < ((NI) 16))) goto LA14;
				i_5 = i_6;
				nextCode[(i_5)- 0] = code;
				(*huffman).firstCode[(i_5)- 0] = ((NU16) (code));
				(*huffman).firstSymbol[(i_5)- 0] = k;
				code = (NU32)((NU32)(code) + (NU32)(((NU32) (histogram[(i_5)- 0]))));
				{
					NIM_BOOL T17_;
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T21_;
					T17_ = (NIM_BOOL)0;
					T17_ = ((NU16)(((NU16) 0)) < (NU16)(histogram[(i_5)- 0]));
					if (!(T17_)) goto LA18_;
					T17_ = ((NU32)((NU32)((NU32)(((NU32) 1)) << (NU32)(i_5))) <= (NU32)((NU32)((NU32)(code) - (NU32)(((NU32) 1)))));
					LA18_: ;
					if (!T17_) goto LA19_;
					T21_ = NIM_NIL;
					T21_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T21_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T21_).Sup.Sup.Sup.name = "ZippyError";
					(*T21_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_5;
					(*T21_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T21_, "ZippyError", "init", "inflate.nim", 39);
					goto BeforeRet_;
				}
				LA19_: ;
				(*huffman).maxCodes[(i_5)- 0] = (NU32)((NU32)(code) << (NU32)((NI)(((NI) 16) - i_5)));
				code = (NU32)((NU32)(code) << (NU32)(((NI) 1)));
				k += histogram[(i_5)- 0];
				i_6 += ((NI) 1);
			} LA14: ;
		}
	}
	(*huffman).maxCodes[(((NI) 16))- 0] = ((NU32) 65536);
	{
		NI i_7;
		NU8 len;
		NI i_8;
		i_7 = (NI)0;
		len = (NU8)0;
		i_8 = ((NI) 0);
		{
			while (1) {
				if (!(i_8 < codeLengthsLen_0)) goto LA24;
				i_7 = i_8;
				len = codeLengths[i_8];
				{
					NU32 symbolId;
					if (!((NU8)(((NU8) 0)) < (NU8)(len))) goto LA27_;
					symbolId = (NU32)((NU32)((NU32)((NU32)(nextCode[(len)- 0]) - (NU32)(((NU32) ((*huffman).firstCode[(len)- 0]))))) + (NU32)(((NU32) ((*huffman).firstSymbol[(len)- 0]))));
					(*huffman).lengths[(symbolId)- 0] = len;
					(*huffman).values[(symbolId)- 0] = ((NU16) (i_7));
					{
						NU16 fast;
						NU16 k_2;
						NU16 T33_;
						if (!((NU8)(len) <= (NU8)(((NU8) 9)))) goto LA31_;
						fast = (NU16)((NU16)((NU32)(((NU16) (len))) << (NU32)(((NI) 9))) | ((NU16) (i_7)));
						T33_ = (NU16)0;
						T33_ = reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159(((NU16) (nextCode[(len)- 0])));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						k_2 = (NU16)((NU16)(T33_) >> (NU16)((NU16)((NU16)(((NU16) 16)) - (NU16)(((NU16) (len))))));
						{
							while (1) {
								if (!((NU16)(k_2) < (NU16)(((NU16) 512)))) goto LA35;
								(*huffman).fast[(k_2)- 0] = fast;
								k_2 += (NU16)((NU16)(((NU16) 1)) << (NU16)(len));
							} LA35: ;
						}
					}
					LA31_: ;
					nextCode[(len)- 0] += ((NI) 1);
				}
				LA27_: ;
				i_8 += ((NI) 1);
			} LA24: ;
		}
	}
	}BeforeRet_: ;
}
static N_INLINE(NU16, decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_219)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* h) {
	NU16 result;
	NU16 fast;
	NU16 codeLength;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NU16)0;
	{
		if (!((*b).bitsBuffered < ((NI) 16))) goto LA3_;
		fillBitBuffer__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_13(b);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	fast = (*h).fast[((NU64)((*b).bitBuffer & 511ULL))- 0];
	codeLength = (NU16)0;
	{
		if (!((NU16)(((NU16) 0)) < (NU16)(fast))) goto LA7_;
		codeLength = (NU16)((NU16)(fast) >> (NU32)(((NI) 9)));
		result = (NU16)(fast & ((NU16) 511));
	}
	goto LA5_;
	LA7_: ;
	{
		NU16 k;
		NU16 maxCodeLength;
		NU16 symbolId;
		k = reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159(((NU16) ((*b).bitBuffer)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		codeLength = ((NU16) 1);
		maxCodeLength = ((NU16) 17);
		{
			while (1) {
				if (!((NU16)(codeLength) < (NU16)(maxCodeLength))) goto LA11;
				{
					if (!((NU32)(((NU32) (k))) < (NU32)((*h).maxCodes[(codeLength)- 0]))) goto LA14_;
					goto LA10;
				}
				LA14_: ;
				codeLength += ((NI) 1);
			} LA11: ;
		} LA10: ;
		{
			tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T20_;
			if (!((NU16)(((NU16) 16)) <= (NU16)(codeLength))) goto LA18_;
			T20_ = NIM_NIL;
			T20_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
			(*T20_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
			(*T20_).Sup.Sup.Sup.name = "ZippyError";
			(*T20_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_8;
			(*T20_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T20_, "ZippyError", "decodeSymbol", "inflate.nim", 85);
			goto BeforeRet_;
		}
		LA18_: ;
		symbolId = (NU16)((NU16)((NU16)((NU16)((NU16)((NU16)(k) >> (NU16)((NU16)((NU16)(((NU16) 16)) - (NU16)(codeLength))))) - (NU16)((*h).firstCode[(codeLength)- 0]))) + (NU16)((*h).firstSymbol[(codeLength)- 0]));
		result = (*h).values[(symbolId)- 0];
	}
	LA5_: ;
	{
		tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T25_;
		if (!((*b).bitsBuffered < ((NI) (codeLength)))) goto LA23_;
		T25_ = NIM_NIL;
		T25_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
		(*T25_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
		(*T25_).Sup.Sup.Sup.name = "ZippyError";
		(*T25_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_10;
		(*T25_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T25_, "ZippyError", "decodeSymbol", "inflate.nim", 94);
		goto BeforeRet_;
	}
	LA23_: ;
	(*b).bitBuffer = (NU64)((NU64)((*b).bitBuffer) >> (NU64)(codeLength));
	(*b).bitsBuffered -= ((NI) (codeLength));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = !(((*s).p == ((NimStrPayload*) NIM_NIL)));
		if (!(T3_)) goto LA4_;
		T3_ = ((NI)((*(*s).p).cap & ((NI) 1073741824)) == ((NI) 1073741824));
		LA4_: ;
		if (!T3_) goto LA5_;
		nimPrepareStrMutationImpl__system_2312(s);
	}
	LA5_: ;
}
static N_INLINE(NU16, readBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_346)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI bits) {
	NU16 result;
	result = (NU16)0;
	result = ((NU16) ((NU64)((*b).bitBuffer & (NU64)((NU64)((NU64)((NU64)(1ULL) << (NU64)(bits))) - (NU64)(1ULL)))));
	(*b).bitBuffer = (NU64)((NU64)((*b).bitBuffer) >> (NU64)(bits));
	(*b).bitsBuffered -= bits;
	return result;
}
static N_INLINE(NU16, decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_368)(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw* h) {
	NU16 result;
	NU16 fast;
	NU16 codeLength;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NU16)0;
	fast = (*h).fast[((NU64)((*b).bitBuffer & 511ULL))- 0];
	codeLength = (NU16)0;
	{
		if (!((NU16)(((NU16) 0)) < (NU16)(fast))) goto LA3_;
		codeLength = (NU16)((NU16)(fast) >> (NU32)(((NI) 9)));
		result = (NU16)(fast & ((NU16) 511));
	}
	goto LA1_;
	LA3_: ;
	{
		NU16 k;
		NU16 maxCodeLength;
		NU16 symbolId;
		k = reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159(((NU16) ((*b).bitBuffer)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		codeLength = ((NU16) 1);
		maxCodeLength = ((NU16) 17);
		{
			while (1) {
				if (!((NU16)(codeLength) < (NU16)(maxCodeLength))) goto LA7;
				{
					if (!((NU32)(((NU32) (k))) < (NU32)((*h).maxCodes[(codeLength)- 0]))) goto LA10_;
					goto LA6;
				}
				LA10_: ;
				codeLength += ((NI) 1);
			} LA7: ;
		} LA6: ;
		{
			tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T16_;
			if (!((NU16)(((NU16) 16)) <= (NU16)(codeLength))) goto LA14_;
			T16_ = NIM_NIL;
			T16_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
			(*T16_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
			(*T16_).Sup.Sup.Sup.name = "ZippyError";
			(*T16_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_17;
			(*T16_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T16_, "ZippyError", "decodeSymbol", "inflate.nim", 85);
			goto BeforeRet_;
		}
		LA14_: ;
		symbolId = (NU16)((NU16)((NU16)((NU16)((NU16)((NU16)(k) >> (NU16)((NU16)((NU16)(((NU16) 16)) - (NU16)(codeLength))))) - (NU16)((*h).firstCode[(codeLength)- 0]))) + (NU16)((*h).firstSymbol[(codeLength)- 0]));
		result = (*h).values[(symbolId)- 0];
	}
	LA1_: ;
	{
		tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T21_;
		if (!((*b).bitsBuffered < ((NI) (codeLength)))) goto LA19_;
		T21_ = NIM_NIL;
		T21_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
		(*T21_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
		(*T21_).Sup.Sup.Sup.name = "ZippyError";
		(*T21_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_18;
		(*T21_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T21_, "ZippyError", "decodeSymbol", "inflate.nim", 94);
		goto BeforeRet_;
	}
	LA19_: ;
	(*b).bitBuffer = (NU64)((NU64)((*b).bitBuffer) >> (NU64)(codeLength));
	(*b).bitsBuffered -= ((NI) (codeLength));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, write64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_398)(NU8* dst, NI op, NU64 v) {
	(*((NU64*) ((&dst[op])))) = v;
}
static N_INLINE(NU64, read64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_394)(NU8* src, NI ip) {
	NU64 result;
	result = (NU64)0;
	result = (*((NU64*) ((&src[ip]))));
	return result;
}
static N_INLINE(void, copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402)(NU8* dst, NU8* src, NI op, NI ip) {
	NU64 T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (NU64)0;
	T1_ = read64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_394(src, ip);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	write64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_398(dst, op, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, inflateBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_178)(NimStringV2* dst, tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg* b, NI* op, NIM_BOOL fixedCodes) {
	tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw literalsHuffman;
	tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw distancesHuffman;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&literalsHuffman), sizeof(tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw));
	nimZeroMem((void*)(&distancesHuffman), sizeof(tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw));
	{
		if (!fixedCodes) goto LA3_;
		init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22((&literalsHuffman), fixedLitLenCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_324.p->data, fixedLitLenCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_324.len);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22((&distancesHuffman), fixedDistanceCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_361.p->data, fixedDistanceCodeLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_361.len);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA1_;
	LA3_: ;
	{
		NI hlit;
		NU16 T6_;
		NI hdist;
		NU16 T7_;
		NI hclen;
		NU16 T8_;
		tyArray__wBhHnWndyyi5SA1Gi8nMsg clcls;
		tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw clclsHuffman;
		tyArray__NiTJzntNtmwdpiO4zgZt1A unpacked;
		NI i_3;
		T6_ = (NU16)0;
		T6_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 5));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		hlit = (NI)(((NI) (T6_)) + ((NI) 257));
		T7_ = (NU16)0;
		T7_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 5));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		hdist = (NI)(((NI) (T7_)) + ((NI) 1));
		T8_ = (NU16)0;
		T8_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 4));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		hclen = (NI)(((NI) (T8_)) + ((NI) 4));
		{
			tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T13_;
			if (!(((NI) 286) < hlit)) goto LA11_;
			T13_ = NIM_NIL;
			T13_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
			(*T13_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
			(*T13_).Sup.Sup.Sup.name = "ZippyError";
			(*T13_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_6;
			(*T13_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T13_, "ZippyError", "inflateBlock", "inflate.nim", 116);
			goto BeforeRet_;
		}
		LA11_: ;
		{
			tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T18_;
			if (!(((NI) 30) < hdist)) goto LA16_;
			T18_ = NIM_NIL;
			T18_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
			(*T18_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
			(*T18_).Sup.Sup.Sup.name = "ZippyError";
			(*T18_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_7;
			(*T18_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T18_, "ZippyError", "inflateBlock", "inflate.nim", 119);
			goto BeforeRet_;
		}
		LA16_: ;
		nimZeroMem((void*)clcls, sizeof(tyArray__wBhHnWndyyi5SA1Gi8nMsg));
		{
			NI i;
			NI i_2;
			i = (NI)0;
			i_2 = ((NI) 0);
			{
				while (1) {
					NU16 T22_;
					if (!(i_2 < hclen)) goto LA21;
					i = i_2;
					T22_ = (NU16)0;
					T22_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 3));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					clcls[(clclOrder__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_30[(i)- 0])- 0] = ((NU8) (T22_));
					i_2 += ((NI) 1);
				} LA21: ;
			}
		}
		nimZeroMem((void*)(&clclsHuffman), sizeof(tyObject_Huffman__hVd0hCWUeIHOQgg8ZweXHw));
		init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22((&clclsHuffman), clcls, 19);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimZeroMem((void*)unpacked, sizeof(tyArray__NiTJzntNtmwdpiO4zgZt1A));
		i_3 = (NI)0;
		{
			while (1) {
				NU16 symbol;
				if (!!((i_3 == (NI)(hlit + hdist)))) goto LA24;
				symbol = decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_219(b, (&clclsHuffman));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					if (!((NU16)(symbol) <= (NU16)(((NU16) 15)))) goto LA27_;
					unpacked[(i_3)- 0] = ((NU8) (symbol));
					i_3 += ((NI) 1);
				}
				goto LA25_;
				LA27_: ;
				{
					NU8 prev;
					NI repeatCount;
					NU16 T37_;
					if (!(symbol == ((NU16) 16))) goto LA30_;
					{
						tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T36_;
						if (!(i_3 == ((NI) 0))) goto LA34_;
						T36_ = NIM_NIL;
						T36_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
						(*T36_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
						(*T36_).Sup.Sup.Sup.name = "ZippyError";
						(*T36_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_11;
						(*T36_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
						raiseExceptionEx((Exception*)T36_, "ZippyError", "inflateBlock", "inflate.nim", 141);
						goto BeforeRet_;
					}
					LA34_: ;
					prev = unpacked[((NI)(i_3 - ((NI) 1)))- 0];
					T37_ = (NU16)0;
					T37_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 2));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					repeatCount = (NI)(((NI) (T37_)) + ((NI) 3));
					{
						tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T42_;
						if (!(((NI) 320) < (NI)(i_3 + repeatCount))) goto LA40_;
						T42_ = NIM_NIL;
						T42_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
						(*T42_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
						(*T42_).Sup.Sup.Sup.name = "ZippyError";
						(*T42_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_12;
						(*T42_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
						raiseExceptionEx((Exception*)T42_, "ZippyError", "inflateBlock", "inflate.nim", 146);
						goto BeforeRet_;
					}
					LA40_: ;
					{
						NI _;
						NI i_4;
						_ = (NI)0;
						i_4 = ((NI) 0);
						{
							while (1) {
								if (!(i_4 < repeatCount)) goto LA45;
								_ = i_4;
								unpacked[(i_3)- 0] = prev;
								i_3 += ((NI) 1);
								i_4 += ((NI) 1);
							} LA45: ;
						}
					}
				}
				goto LA25_;
				LA30_: ;
				{
					NI repeatZeroCount;
					NU16 T49_;
					if (!(symbol == ((NU16) 17))) goto LA47_;
					T49_ = (NU16)0;
					T49_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 3));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					repeatZeroCount = (NI)(((NI) (T49_)) + ((NI) 3));
					i_3 += repeatZeroCount;
				}
				goto LA25_;
				LA47_: ;
				{
					NI repeatZeroCount_2;
					NU16 T53_;
					if (!(symbol == ((NU16) 18))) goto LA51_;
					T53_ = (NU16)0;
					T53_ = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242(b, ((NI) 7));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					repeatZeroCount_2 = (NI)(((NI) (T53_)) + ((NI) 11));
					i_3 += repeatZeroCount_2;
				}
				goto LA25_;
				LA51_: ;
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T55_;
					T55_ = NIM_NIL;
					T55_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T55_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T55_).Sup.Sup.Sup.name = "ZippyError";
					(*T55_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_14;
					(*T55_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T55_, "ZippyError", "inflateBlock", "inflate.nim", 157);
					goto BeforeRet_;
				}
				LA25_: ;
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T60_;
					if (!((NI)(hlit + hdist) < i_3)) goto LA58_;
					T60_ = NIM_NIL;
					T60_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T60_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T60_).Sup.Sup.Sup.name = "ZippyError";
					(*T60_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_15;
					(*T60_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T60_, "ZippyError", "inflateBlock", "inflate.nim", 160);
					goto BeforeRet_;
				}
				LA58_: ;
			} LA24: ;
		}
		init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22((&literalsHuffman), (NU8*)((unpacked)+(((NI) 0))), ((NI)(hlit - ((NI) 1)))-(((NI) 0))+1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		init__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_22((&distancesHuffman), (NU8*)((unpacked)+(hlit)), ((NI)((NI)(hlit + hdist) - ((NI) 1)))-(hlit)+1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA1_: ;
	{
		while (1) {
			NU16 symbol_2;
			symbol_2 = decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_219(b, (&literalsHuffman));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				if (!((NU16)(symbol_2) <= (NU16)(((NU16) 255)))) goto LA65_;
				{
					if (!((*dst).len <= (*op))) goto LA69_;
					setLengthStrV2((&(*dst)), ((NI) ((((NI)((*op) * ((NI) 2)) >= ((NI) 2)) ? (NI)((*op) * ((NI) 2)) : ((NI) 2)))));
				}
				LA69_: ;
				nimPrepareStrMutationV2((&(*dst)));
				(*dst).p->data[(*op)] = ((NIM_CHAR) (symbol_2));
				(*op) += ((NI) 1);
			}
			goto LA63_;
			LA65_: ;
			{
				if (!(symbol_2 == ((NU16) 256))) goto LA72_;
				goto LA61;
			}
			goto LA63_;
			LA72_: ;
			{
				NI lengthIdx;
				NI copyLength;
				NU16 T80_;
				NU16 distanceIdx;
				NI distance;
				NU16 T86_;
				NU8* dst_2;
				fillBitBuffer__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_13(b);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				lengthIdx = ((NI) ((NU16)((NU16)(symbol_2) - (NU16)(((NU16) 257)))));
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T79_;
					if (!(((NI) 29) <= lengthIdx)) goto LA77_;
					T79_ = NIM_NIL;
					T79_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T79_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T79_).Sup.Sup.Sup.name = "ZippyError";
					(*T79_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_16;
					(*T79_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T79_, "ZippyError", "inflateBlock", "inflate.nim", 179);
					goto BeforeRet_;
				}
				LA77_: ;
				T80_ = (NU16)0;
				T80_ = readBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_346(b, ((NI) (baseLengthsExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_26[(lengthIdx)- 0])));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				copyLength = ((NI) ((NU16)((NU16)(baseLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_25[(lengthIdx)- 0]) + (NU16)(T80_))));
				distanceIdx = decodeSymbol__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_368(b, (&distancesHuffman));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T85_;
					if (!((NU16)(((NU16) 30)) <= (NU16)(distanceIdx))) goto LA83_;
					T85_ = NIM_NIL;
					T85_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T85_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T85_).Sup.Sup.Sup.name = "ZippyError";
					(*T85_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_19;
					(*T85_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T85_, "ZippyError", "inflateBlock", "inflate.nim", 188);
					goto BeforeRet_;
				}
				LA83_: ;
				T86_ = (NU16)0;
				T86_ = readBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_346(b, ((NI) (baseDistanceExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_29[(distanceIdx)- 0])));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				distance = ((NI) ((NU16)((NU16)(baseDistances__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_28[(distanceIdx)- 0]) + (NU16)(T86_))));
				{
					tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T91_;
					if (!((*op) < distance)) goto LA89_;
					T91_ = NIM_NIL;
					T91_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
					(*T91_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
					(*T91_).Sup.Sup.Sup.name = "ZippyError";
					(*T91_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_20;
					(*T91_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
					raiseExceptionEx((Exception*)T91_, "ZippyError", "inflateBlock", "inflate.nim", 196);
					goto BeforeRet_;
				}
				LA89_: ;
				{
					if (!((*dst).len < (NI)((NI)((*op) + copyLength) + ((NI) 13)))) goto LA94_;
					setLengthStrV2((&(*dst)), ((NI) ((NI)((NI)((NI)((*op) + copyLength) * ((NI) 2)) + ((NI) 10)))));
				}
				LA94_: ;
				dst_2 = ((NU8*) ((&(*dst).p->data[((NI) 0)])));
				{
					NIM_BOOL T98_;
					T98_ = (NIM_BOOL)0;
					T98_ = (copyLength <= ((NI) 16));
					if (!(T98_)) goto LA99_;
					T98_ = (((NI) 8) <= distance);
					LA99_: ;
					if (!T98_) goto LA100_;
					copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402(dst_2, dst_2, (*op), (NI)((*op) - distance));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402(dst_2, dst_2, (NI)((*op) + ((NI) 8)), (NI)((NI)((*op) - distance) + ((NI) 8)));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				goto LA96_;
				LA100_: ;
				{
					NI copyFrom;
					NI copyTo;
					NI remaining;
					copyFrom = (NI)((*op) - distance);
					copyTo = (*op);
					remaining = copyLength;
					{
						while (1) {
							if (!((NI)(copyTo - copyFrom) < ((NI) 8))) goto LA104;
							copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402(dst_2, dst_2, copyTo, copyFrom);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							remaining -= (NI)(copyTo - copyFrom);
							copyTo += (NI)(copyTo - copyFrom);
						} LA104: ;
					}
					{
						while (1) {
							if (!(((NI) 0) < remaining)) goto LA106;
							{
								if (!(copyTo < ((NI) 0))) goto LA109_;
								{
									if (!NIM_TRUE) goto LA113_;
									failedAssertImpl__systemZassertions_53(TM__DfGUlULz7L6yCrKDOEacgQ_22);
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								}
								LA113_: ;
							}
							LA109_: ;
							copy64__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_402(dst_2, dst_2, copyTo, copyFrom);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							copyFrom += ((NI) 8);
							copyTo += ((NI) 8);
							remaining -= ((NI) 8);
						} LA106: ;
					}
				}
				LA96_: ;
				(*op) += copyLength;
			}
			LA63_: ;
		}
	} LA61: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, inflate__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_509)(NimStringV2* dst, NU8* src, NI len, NI pos) {
	tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg b;
	NI op;
	NIM_BOOL finalBlock;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&b), sizeof(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg));
	nimZeroMem((void*)(&b), sizeof(tyObject_BitStreamReader__L9bhT9bps9bnMmbwnAY0ZCuHg));
	b.src = src;
	b.len = len;
	b.pos = pos;
	op = (NI)0;
	finalBlock = (NIM_BOOL)0;
	{
		while (1) {
			NU16 bfinal;
			NU16 btype;
			if (!!(finalBlock)) goto LA2;
			bfinal = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242((&b), ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			btype = readBits__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfileformatsZgif_242((&b), ((NI) 2));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				if (!((NU16)(((NU16) 0)) < (NU16)(bfinal))) goto LA5_;
				finalBlock = NIM_TRUE;
			}
			LA5_: ;
			switch (btype) {
			case ((NI) 0):
			{
				inflateNoCompression__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_488(dst, (&b), (&op));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			break;
			case ((NI) 1):
			{
				inflateBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_178(dst, (&b), (&op), NIM_TRUE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			break;
			case ((NI) 2):
			{
				inflateBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinflate_178(dst, (&b), (&op), NIM_FALSE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			break;
			default:
			{
				tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T11_;
				T11_ = NIM_NIL;
				T11_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
				(*T11_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
				(*T11_).Sup.Sup.Sup.name = "ZippyError";
				(*T11_).Sup.Sup.Sup.message = TM__DfGUlULz7L6yCrKDOEacgQ_24;
				(*T11_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
				raiseExceptionEx((Exception*)T11_, "ZippyError", "inflate", "inflate.nim", 264);
				goto BeforeRet_;
			}
			break;
			}
		} LA2: ;
	}
	setLengthStrV2((&(*dst)), ((NI) (op)));
	}BeforeRet_: ;
}
