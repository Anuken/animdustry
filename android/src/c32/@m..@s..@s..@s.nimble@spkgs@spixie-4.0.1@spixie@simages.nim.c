/* Generated by Nim Compiler v1.6.4 */
#define NIM_INTBITS 32
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#include <math.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw;
typedef struct tySequence__SAu3TlCYLYik19b9aAxDCNzA tySequence__SAu3TlCYLYik19b9aAxDCNzA;
typedef struct tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content;
typedef struct tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ;
typedef struct tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw;
typedef struct tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g;
typedef struct tyObject_Segment__bVALsjLvLede7zx2gKXK2Q tyObject_Segment__bVALsjLvLede7zx2gKXK2Q;
typedef struct tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg;
typedef struct tyObject_Line__ryZK5C1mFivVyaO4shnJtQ tyObject_Line__ryZK5C1mFivVyaO4shnJtQ;
typedef struct tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw;
typedef struct tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ tySequence__6H5Oh5UUvVCLiakt9aTwtUQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content;
typedef struct tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct tySequence__SAu3TlCYLYik19b9aAxDCNzA {
  NI len; tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content* p;
};
struct tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw {
NI width;
NI height;
tySequence__SAu3TlCYLYik19b9aAxDCNzA data;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ {
  tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw Sup;
};
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
};
typedef NF32 tyArray__mEOj6RCJtUq5VS5mI7S2ew[9];
struct tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ {
tyArray__mEOj6RCJtUq5VS5mI7S2ew arr;
};
typedef NU8 tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ;
struct tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw {
NU8 r;
NU8 g;
NU8 b;
NU8 a;
};
typedef struct {
N_NIMCALL_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, ClP_0) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source, void* ClE_0);
void* ClE_0;
} tyProc__ahx1kvZUd3gRcZmpO4ziwg;
typedef NF32 tyArray__4YxcnnI8do9a6vmNKtzdSKw[2];
struct tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g {
tyArray__4YxcnnI8do9a6vmNKtzdSKw arr;
};
typedef tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g tyArray__TfVGx6kAYdT9c2FikHUD2ZQ[4];
struct tyObject_Segment__bVALsjLvLede7zx2gKXK2Q {
tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g at;
tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g to;
};
typedef tyObject_Segment__bVALsjLvLede7zx2gKXK2Q tyArray__v6R0b9aa3zS2R7GdzSGbrJw[4];
struct tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg {
tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image;
};
struct tyObject_Line__ryZK5C1mFivVyaO4shnJtQ {
tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a;
tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b;
};
typedef N_CLOSURE_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, TM__oewZtFr9csbtRIdn2ZrlawQ_9) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
typedef NI32 tyArray__9aCDQwgHopxUvI9buP3ce7ZQ[2];
struct tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw {
tyArray__9aCDQwgHopxUvI9buP3ce7ZQ arr;
};
typedef N_CLOSURE_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, TM__oewZtFr9csbtRIdn2ZrlawQ_10) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
typedef N_CLOSURE_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, TM__oewZtFr9csbtRIdn2ZrlawQ_11) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ {
  NI len; tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content* p;
};
struct tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q {
NI width;
NI height;
tySequence__6H5Oh5UUvVCLiakt9aTwtUQ data;
};
typedef N_CLOSURE_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, TM__oewZtFr9csbtRIdn2ZrlawQ_12) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
struct tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ {
tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask;
};
typedef N_CLOSURE_PTR(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, TM__oewZtFr9csbtRIdn2ZrlawQ_13) (tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);


#ifndef tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content_PP
#define tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content_PP
struct tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content { NI cap; tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content_PP
#define tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content_PP
struct tySequence__SAu3TlCYLYik19b9aAxDCNzA_Content { NI cap; tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
#define tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
#define tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_104)(tySequence__SAu3TlCYLYik19b9aAxDCNzA* dest);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_110)(tySequence__SAu3TlCYLYik19b9aAxDCNzA* dest, tySequence__SAu3TlCYLYik19b9aAxDCNzA src);
N_LIB_PRIVATE N_NIMCALL(tySequence__SAu3TlCYLYik19b9aAxDCNzA, newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_96)(NI len);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p);
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_125)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* dest);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p, NI alignment);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979)(NF32 xX60gensym72_, NF32 yX60gensym72_);
static N_INLINE(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q, segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g at, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g to);
static N_INLINE(void, inverse__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_844)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result);
static N_INLINE(NF32, determinant__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_850)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym153_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym153_);
static N_INLINE(NF32, max__system_2054)(NF32 x, NF32 y);
static N_INLINE(NF32, length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src);
static N_INLINE(void, nimIncRef)(void* p);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src);
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_390)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI power);
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, copy__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_160)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image);
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, newImage__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_16)(NI width, NI height);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_107)(tySequence__SAu3TlCYLYik19b9aAxDCNzA* dest, tySequence__SAu3TlCYLYik19b9aAxDCNzA src);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest);
static N_INLINE(NI, dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y);
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116)(NU8 r, NU8 g, NU8 b, NU8 a);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_89)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw color, NF32 opacity);
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw a, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw b, NF32 t);
static N_INLINE(void, slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym162_, NF32 bX60gensym162_);
static N_INLINE(void, slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40)(NF32* x, NF32 y);
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_428)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI power);
N_LIB_PRIVATE N_NIMCALL(NI, roof___pureZtimes_2617)(NI x, NI y);
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
static N_INLINE(void, stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym161_, NF32 bX60gensym161_);
static N_INLINE(void, stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29)(NF32* x, NF32 y);
static N_INLINE(NIM_BOOL, eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b);
static N_INLINE(NF32, fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177)(NF32 v);
static N_INLINE(NF32, abs__OOZfauZsrcZfauZfmath_71)(NF32 x);
N_LIB_PRIVATE N_NIMCALL(NI, clamp__OOZfauZsrcZfauZfmath_707)(NI x, NI a, NI b);
N_LIB_PRIVATE N_NIMCALL(void, blender__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_308)(tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode, tyProc__ahx1kvZUd3gRcZmpO4ziwg* Result);
static N_INLINE(void, zeroMem__system_1706)(void* p, NI size);
static N_INLINE(NIM_BOOL, intersects__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_1163)(tyObject_Line__ryZK5C1mFivVyaO4shnJtQ l, tyObject_Segment__bVALsjLvLede7zx2gKXK2Q s, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* at);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym152_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym152_);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_588)(NF32 aX60gensym154_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym154_);
static N_INLINE(NIM_BOOL, emarkeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1242)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b);
static N_INLINE(NF32, min__system_2046)(NF32 x, NF32 y);
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym154_, NF32 bX60gensym154_);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, getRgbaSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_540)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NF32 x, NF32 y, NIM_BOOL wrapped);
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y);
static N_INLINE(NIM_BOOL, inside__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_166)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_247)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw x, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw y);
static N_INLINE(void, pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym159_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym159_);
static N_INLINE(void, pluseq___OOZfauZsrcZfauZfmath_107)(NF32* x, NF32 y);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isOpaque__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_137)(tySequence__SAu3TlCYLYik19b9aAxDCNzA* data, NI start, NI len);
N_LIB_PRIVATE N_NIMCALL(NF32, clamp__OOZfauZsrcZfauZfmath_78)(NF32 x, NF32 a, NF32 b);
static N_INLINE(tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw, ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619)(NI32 xX60gensym28_, NI32 yX60gensym28_);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, blendNormal__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_148)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, blendMask__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_279)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_311)(tyProc__ahx1kvZUd3gRcZmpO4ziwg* dest);
N_LIB_PRIVATE N_NIMCALL(void, drawCorrect__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3774)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* a, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ transform, tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode, NIM_BOOL tiled);
static N_INLINE(void, star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3967)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result);
static N_INLINE(void, scale__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3934)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g v, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result);
static N_INLINE(void, gmat3__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_2807)(NF32 m00, NF32 m01, NF32 m02, NF32 m10, NF32 m11, NF32 m12, NF32 m20, NF32 m21, NF32 m22, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result);
static N_INLINE(NF, slash___system_6042)(NI x, NI y);
static N_INLINE(NF, toFloat__system_1684)(NI i);
static N_INLINE(void, fill__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_162)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NU8 value);
N_LIB_PRIVATE N_NIMCALL(void, fillUnsafe__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_98)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* data, NU8 value, NI start, NI len);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_36)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q** dest, tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* src);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_39)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q** dest, tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* src);
N_LIB_PRIVATE N_NIMCALL(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q*, minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_104)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NI power);
N_LIB_PRIVATE N_NIMCALL(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q*, magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_127)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NI power);
N_LIB_PRIVATE N_NIMCALL(NU8, getValueSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_168)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NF32 x, NF32 y);
static N_INLINE(NI, dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_33)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q** dest);
extern TNimTypeV2 NTIv2__iGcRqvltYLQCoM1tI9cqukQ_;
static const struct {
  NI cap; NIM_CHAR data[34+1];
} TM__oewZtFr9csbtRIdn2ZrlawQ_2 = { 34 | NIM_STRLIT_FLAG, "Image width and height must be > 0" };
static const NimStringV2 TM__oewZtFr9csbtRIdn2ZrlawQ_3 = {34, (NimStrPayload*)&TM__oewZtFr9csbtRIdn2ZrlawQ_2};
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__oewZtFr9csbtRIdn2ZrlawQ_4 = { 36 | NIM_STRLIT_FLAG, "Cannot minifyBy2 with negative power" };
static const NimStringV2 TM__oewZtFr9csbtRIdn2ZrlawQ_5 = {36, (NimStrPayload*)&TM__oewZtFr9csbtRIdn2ZrlawQ_4};
static const struct {
  NI cap; NIM_CHAR data[37+1];
} TM__oewZtFr9csbtRIdn2ZrlawQ_6 = { 37 | NIM_STRLIT_FLAG, "Cannot magnifyBy2 with negative power" };
static const NimStringV2 TM__oewZtFr9csbtRIdn2ZrlawQ_7 = {37, (NimStrPayload*)&TM__oewZtFr9csbtRIdn2ZrlawQ_6};
static NIM_CONST tyArray__4YxcnnI8do9a6vmNKtzdSKw TM__oewZtFr9csbtRIdn2ZrlawQ_8 = {0.0f,
1.0f}
;
extern NIM_BOOL nimInErrorMode__system_3443;
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_125)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* dest) {
	eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_104((&(*dest).data));
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, newImage__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_16)(NI width, NI height) {
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* result;
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T8_;
	tySequence__SAu3TlCYLYik19b9aAxDCNzA T9_;
{	result = NIM_NIL;
	{
		NIM_BOOL T3_;
		tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ* T7_;
		T3_ = (NIM_BOOL)0;
		T3_ = (width <= ((NI) 0));
		if (T3_) goto LA4_;
		T3_ = (height <= ((NI) 0));
		LA4_: ;
		if (!T3_) goto LA5_;
		T7_ = NIM_NIL;
		T7_ = (tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ*) nimNewObj(sizeof(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ), NIM_ALIGNOF(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ));
		(*T7_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__iGcRqvltYLQCoM1tI9cqukQ_);
		(*T7_).Sup.Sup.Sup.name = "PixieError";
		(*T7_).Sup.Sup.Sup.message = TM__oewZtFr9csbtRIdn2ZrlawQ_3;
		(*T7_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T7_, "PixieError", "newImage", "images.nim", 23);
		goto BeforeRet_;
	}
	LA5_: ;
	T8_ = NIM_NIL;
	T8_ = (tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*) nimNewObj(sizeof(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw), NIM_ALIGNOF(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw));
	result = T8_;
	(*result).width = width;
	(*result).height = height;
	T9_.len = 0; T9_.p = NIM_NIL;
	T9_ = newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_96(((NI) ((NI)(width * height))));
	eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_110((&(*result).data), T9_);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU32)(((NU) (x))) - (NU32)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 4));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			if (!((NI)((*cell).rc & ((NI) -8)) == ((NI) 0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
		LA8_: ;
		{
			(*cell).rc -= ((NI) 8);
		}
		LA6_: ;
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_125((*dest));
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3443);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T1_;
	nimZeroMem((void*)(&T1_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T1_.arr[0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(b.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(b.arr[(((NI) 1))- 0]))))) + (NF32)(a.arr[(((NI) 6))- 0]));
	T1_.arr[1] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 1))- 0]) * (NF32)(b.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(a.arr[(((NI) 4))- 0]) * (NF32)(b.arr[(((NI) 1))- 0]))))) + (NF32)(a.arr[(((NI) 7))- 0]));
	result = T1_;
	return result;
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979)(NF32 xX60gensym72_, NF32 yX60gensym72_) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	NF32 colontmpD_;
	NF32 colontmpD__2;
	colontmpD_ = (NF32)0;
	colontmpD__2 = (NF32)0;
	nimZeroMem((void*)(&result), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	colontmpD_ = xX60gensym72_;
	result.arr[0] = colontmpD_;
	colontmpD__2 = yX60gensym72_;
	result.arr[1] = colontmpD__2;
	return result;
}
static N_INLINE(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q, segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g at, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g to) {
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g colontmpD_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g colontmpD__2;
	nimZeroMem((void*)(&result), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	nimZeroMem((void*)(&colontmpD__2), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	nimZeroMem((void*)(&result), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	colontmpD_ = at;
	result.at = colontmpD_;
	colontmpD__2 = to;
	result.to = colontmpD__2;
	return result;
}
static N_INLINE(NF32, determinant__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_850)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a) {
	NF32 result;
	result = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(((NF32)(((NF32)(a.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 7))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))))))) - (NF32)(((NF32)(a.arr[(((NI) 1))- 0]) * (NF32)(((NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 5))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))))))))) + (NF32)(((NF32)(a.arr[(((NI) 2))- 0]) * (NF32)(((NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))))))));
	return result;
}
static N_INLINE(void, inverse__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_844)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result) {
	NF32 invDet;
	NF32 T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (NF32)0;
	T1_ = determinant__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_850(a);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	invDet = ((NF32)(1.0f) / (NF32)(T1_));
	(*Result).arr[(((NI) 0))- 0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 7))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 1))- 0] = ((NF32)(-(((NF32)(((NF32)(a.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 7))- 0])))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 2))- 0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 3))- 0] = ((NF32)(-(((NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 5))- 0]) * (NF32)(a.arr[(((NI) 6))- 0])))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 4))- 0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 5))- 0] = ((NF32)(-(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 2))- 0])))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 6))- 0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 6))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 7))- 0] = ((NF32)(-(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 6))- 0]) * (NF32)(a.arr[(((NI) 1))- 0])))))) * (NF32)(invDet));
	(*Result).arr[(((NI) 8))- 0] = ((NF32)(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))) - (NF32)(((NF32)(a.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 1))- 0]))))) * (NF32)(invDet));
	}BeforeRet_: ;
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym153_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym153_) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T1_;
	nimZeroMem((void*)(&T1_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T1_.arr[0] = ((NF32)(aX60gensym153_.arr[(((NI) 0))- 0]) - (NF32)(bX60gensym153_.arr[(((NI) 0))- 0]));
	T1_.arr[1] = ((NF32)(aX60gensym153_.arr[(((NI) 1))- 0]) - (NF32)(bX60gensym153_.arr[(((NI) 1))- 0]));
	result = T1_;
	return result;
}
static N_INLINE(NF32, max__system_2054)(NF32 x, NF32 y) {
	NF32 result;
	NF32 colontmpD_;
	NF32 colontmpD__2;
	result = (NF32)0;
	colontmpD_ = (NF32)0;
	colontmpD__2 = (NF32)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (y <= x);
		if (T3_) goto LA4_;
		T3_ = !((y == y));
		LA4_: ;
		if (!T3_) goto LA5_;
		colontmpD_ = x;
		result = colontmpD_;
	}
	goto LA1_;
	LA5_: ;
	{
		colontmpD__2 = y;
		result = colontmpD__2;
	}
	LA1_: ;
	return result;
}
static N_INLINE(NF32, length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a) {
	NF32 result;
	result = sqrtf(((NF32)(((NF32)(a.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(a.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 1))- 0])))));
	return result;
}
static N_INLINE(void, nimIncRef)(void* p) {
	NI T1_;
	T1_ = (NI)0;
	T1_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 4));
	(*((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T1_))).rc += ((NI) 8);
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src) {
	{
		if (!src) goto LA3_;
		nimIncRef(src);
	}
	LA3_: ;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = nimDecRefIsLast((*dest));
		if (!T7_) goto LA8_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_125((*dest));
		nimRawDispose((*dest), ((NI) 4));
	}
	LA8_: ;
	(*dest) = src;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw** dest, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_125((*dest));
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
	(*dest) = src;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, copy__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_160)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image) {
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	result = newImage__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_16((*image).width, (*image).height);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_107((&(*result).data), (*image).data);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y) {
	NI result;
	result = (NI)0;
	result = (NI)((NI)((*image).width * y) + x);
	return result;
}
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116)(NU8 r, NU8 g, NU8 b, NU8 a) {
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw result;
	NU8 colontmpD_;
	NU8 colontmpD__2;
	NU8 colontmpD__3;
	NU8 colontmpD__4;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	colontmpD_ = (NU8)0;
	colontmpD__2 = (NU8)0;
	colontmpD__3 = (NU8)0;
	colontmpD__4 = (NU8)0;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	colontmpD_ = r;
	result.r = colontmpD_;
	colontmpD__2 = g;
	result.g = colontmpD__2;
	colontmpD__3 = b;
	result.b = colontmpD__3;
	colontmpD__4 = a;
	result.a = colontmpD__4;
	return result;
}
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35)(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw a, tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw b, NF32 t) {
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw result;
	NU32 x;
	NF32 T1_;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	T1_ = (NF32)0;
	T1_ = roundf(((NF32)(t) * (NF32)(255.0f)));
	x = ((NU32) (T1_));
	result.r = ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.r))) * (NU32)((NU32)((NU32)(((NU32) 255)) - (NU32)(x))))) + (NU32)((NU32)((NU32)(((NU32) (b.r))) * (NU32)(x))))) / (NU32)(((NU32) 255)))));
	result.g = ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.g))) * (NU32)((NU32)((NU32)(((NU32) 255)) - (NU32)(x))))) + (NU32)((NU32)((NU32)(((NU32) (b.g))) * (NU32)(x))))) / (NU32)(((NU32) 255)))));
	result.b = ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.b))) * (NU32)((NU32)((NU32)(((NU32) 255)) - (NU32)(x))))) + (NU32)((NU32)((NU32)(((NU32) (b.b))) * (NU32)(x))))) / (NU32)(((NU32) 255)))));
	result.a = ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.a))) * (NU32)((NU32)((NU32)(((NU32) 255)) - (NU32)(x))))) + (NU32)((NU32)((NU32)(((NU32) (b.a))) * (NU32)(x))))) / (NU32)(((NU32) 255)))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_390)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI power) {
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* result;
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	src = NIM_NIL;
	{
		tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ* T6_;
		if (!(power < ((NI) 0))) goto LA4_;
		T6_ = NIM_NIL;
		T6_ = (tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ*) nimNewObj(sizeof(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ), NIM_ALIGNOF(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ));
		(*T6_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__iGcRqvltYLQCoM1tI9cqukQ_);
		(*T6_).Sup.Sup.Sup.name = "PixieError";
		(*T6_).Sup.Sup.Sup.message = TM__oewZtFr9csbtRIdn2ZrlawQ_5;
		(*T6_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "PixieError", "minifyBy2", "images.nim", 228);
		goto LA1_;
	}
	LA4_: ;
	{
		if (!(power == ((NI) 0))) goto LA9_;
		result = copy__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_160(image);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135(&src);
		goto BeforeRet_;
	}
	LA9_: ;
	eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138(&src, image);
	{
		NI _;
		NI res;
		_ = (NI)0;
		res = ((NI) 1);
		{
			while (1) {
				NI colontmpD_;
				NI colontmpD__2;
				NI colontmpD__3;
				NI colontmpD__4;
				NIM_BOOL srcWidthIsOdd;
				NIM_BOOL srcHeightIsOdd;
				NI resultEvenWidth;
				NI resultEvenHeight;
				NI T14_;
				NI T20_;
				tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T26_;
				if (!(res <= power)) goto LA13;
				colontmpD_ = (NI)0;
				colontmpD__2 = (NI)0;
				colontmpD__3 = (NI)0;
				colontmpD__4 = (NI)0;
				_ = res;
				srcWidthIsOdd = !(((NI)((*src).width % ((NI) 2)) == ((NI) 0)));
				srcHeightIsOdd = !(((NI)((*src).height % ((NI) 2)) == ((NI) 0)));
				resultEvenWidth = (NI)((*src).width / ((NI) 2));
				resultEvenHeight = (NI)((*src).height / ((NI) 2));
				T14_ = (NI)0;
				{
					if (!srcWidthIsOdd) goto LA17_;
					colontmpD_ = (NI)(resultEvenWidth + ((NI) 1));
					T14_ = colontmpD_;
				}
				goto LA15_;
				LA17_: ;
				{
					colontmpD__2 = resultEvenWidth;
					T14_ = colontmpD__2;
				}
				LA15_: ;
				T20_ = (NI)0;
				{
					if (!srcHeightIsOdd) goto LA23_;
					colontmpD__3 = (NI)(resultEvenHeight + ((NI) 1));
					T20_ = colontmpD__3;
				}
				goto LA21_;
				LA23_: ;
				{
					colontmpD__4 = resultEvenHeight;
					T20_ = colontmpD__4;
				}
				LA21_: ;
				T26_ = NIM_NIL;
				T26_ = newImage__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_16(T14_, T20_);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141(&result, T26_);
				{
					NI y;
					NI i;
					y = (NI)0;
					i = ((NI) 0);
					{
						while (1) {
							NI x;
							if (!(i < resultEvenHeight)) goto LA29;
							y = i;
							x = (NI)0;
							{
								NI x_2;
								NI i_2;
								x_2 = (NI)0;
								i_2 = x;
								{
									while (1) {
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw a;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T33_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T34_;
										NI T35_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw b;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T36_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T37_;
										NI T38_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw c;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T39_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T40_;
										NI T41_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw d;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T42_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T43_;
										NI T44_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw rgba;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T45_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T46_;
										NI T47_;
										if (!(i_2 < resultEvenWidth)) goto LA32;
										x_2 = i_2;
										nimZeroMem((void*)(&T33_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T33_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T33_.image = src;
										nimZeroMem((void*)(&T34_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T34_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T34_.image = src;
										T35_ = (NI)0;
										T35_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T34_.image, (NI)((NI)(x_2 * ((NI) 2)) + ((NI) 0)), (NI)((NI)(y * ((NI) 2)) + ((NI) 0)));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										a = (*T33_.image).data.p->data[T35_];
										nimZeroMem((void*)(&T36_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T36_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T36_.image = src;
										nimZeroMem((void*)(&T37_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T37_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T37_.image = src;
										T38_ = (NI)0;
										T38_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T37_.image, (NI)((NI)(x_2 * ((NI) 2)) + ((NI) 1)), (NI)((NI)(y * ((NI) 2)) + ((NI) 0)));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										b = (*T36_.image).data.p->data[T38_];
										nimZeroMem((void*)(&T39_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T39_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T39_.image = src;
										nimZeroMem((void*)(&T40_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T40_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T40_.image = src;
										T41_ = (NI)0;
										T41_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T40_.image, (NI)((NI)(x_2 * ((NI) 2)) + ((NI) 1)), (NI)((NI)(y * ((NI) 2)) + ((NI) 1)));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										c = (*T39_.image).data.p->data[T41_];
										nimZeroMem((void*)(&T42_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T42_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T42_.image = src;
										nimZeroMem((void*)(&T43_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T43_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T43_.image = src;
										T44_ = (NI)0;
										T44_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T43_.image, (NI)((NI)(x_2 * ((NI) 2)) + ((NI) 0)), (NI)((NI)(y * ((NI) 2)) + ((NI) 1)));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										d = (*T42_.image).data.p->data[T44_];
										rgba = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.r))) + (NU32)(((NU32) (b.r))))) + (NU32)(((NU32) (c.r))))) + (NU32)(((NU32) (d.r))))) / (NU32)(((NU32) 4))))), ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.g))) + (NU32)(((NU32) (b.g))))) + (NU32)(((NU32) (c.g))))) + (NU32)(((NU32) (d.g))))) / (NU32)(((NU32) 4))))), ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.b))) + (NU32)(((NU32) (b.b))))) + (NU32)(((NU32) (c.b))))) + (NU32)(((NU32) (d.b))))) / (NU32)(((NU32) 4))))), ((NU8) ((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)((NU32)(((NU32) (a.a))) + (NU32)(((NU32) (b.a))))) + (NU32)(((NU32) (c.a))))) + (NU32)(((NU32) (d.a))))) / (NU32)(((NU32) 4))))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T45_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T45_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T45_.image = result;
										nimZeroMem((void*)(&T46_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T46_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T46_.image = result;
										T47_ = (NI)0;
										T47_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T46_.image, x_2, y);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										(*T45_.image).data.p->data[T47_] = rgba;
										i_2 += ((NI) 1);
									} LA32: ;
								}
							}
							{
								tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw rgbx;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T52_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T53_;
								NI T54_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T55_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T56_;
								NI T57_;
								tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T58_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T59_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T60_;
								NI T61_;
								if (!srcWidthIsOdd) goto LA50_;
								nimZeroMem((void*)(&T52_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T52_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T52_.image = src;
								nimZeroMem((void*)(&T53_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T53_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T53_.image = src;
								T54_ = (NI)0;
								T54_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T53_.image, (NI)((*src).width - ((NI) 1)), (NI)((NI)(y * ((NI) 2)) + ((NI) 0)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								nimZeroMem((void*)(&T55_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T55_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T55_.image = src;
								nimZeroMem((void*)(&T56_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T56_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T56_.image = src;
								T57_ = (NI)0;
								T57_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T56_.image, (NI)((*src).width - ((NI) 1)), (NI)((NI)(y * ((NI) 2)) + ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								T58_ = mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35((*T52_.image).data.p->data[T54_], (*T55_.image).data.p->data[T57_], 0.5f);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								rgbx = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_89(T58_, 0.5f);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								nimZeroMem((void*)(&T59_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T59_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T59_.image = result;
								nimZeroMem((void*)(&T60_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T60_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T60_.image = result;
								T61_ = (NI)0;
								T61_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T60_.image, (NI)((*result).width - ((NI) 1)), y);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								(*T59_.image).data.p->data[T61_] = rgbx;
							}
							LA50_: ;
							i += ((NI) 1);
						} LA29: ;
					}
				}
				{
					if (!srcHeightIsOdd) goto LA64_;
					{
						NI x_3;
						NI i_3;
						x_3 = (NI)0;
						i_3 = ((NI) 0);
						{
							while (1) {
								tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw rgbx_2;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T69_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T70_;
								NI T71_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T72_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T73_;
								NI T74_;
								tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T75_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T76_;
								tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T77_;
								NI T78_;
								if (!(i_3 < resultEvenWidth)) goto LA68;
								x_3 = i_3;
								nimZeroMem((void*)(&T69_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T69_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T69_.image = src;
								nimZeroMem((void*)(&T70_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T70_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T70_.image = src;
								T71_ = (NI)0;
								T71_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T70_.image, (NI)((NI)(x_3 * ((NI) 2)) + ((NI) 0)), (NI)((*src).height - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								nimZeroMem((void*)(&T72_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T72_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T72_.image = src;
								nimZeroMem((void*)(&T73_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T73_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T73_.image = src;
								T74_ = (NI)0;
								T74_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T73_.image, (NI)((NI)(x_3 * ((NI) 2)) + ((NI) 1)), (NI)((*src).height - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								T75_ = mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35((*T69_.image).data.p->data[T71_], (*T72_.image).data.p->data[T74_], 0.5f);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								rgbx_2 = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_89(T75_, 0.5f);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								nimZeroMem((void*)(&T76_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T76_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T76_.image = result;
								nimZeroMem((void*)(&T77_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								nimZeroMem((void*)(&T77_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
								T77_.image = result;
								T78_ = (NI)0;
								T78_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T77_.image, x_3, (NI)((*result).height - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								(*T76_.image).data.p->data[T78_] = rgbx_2;
								i_3 += ((NI) 1);
							} LA68: ;
						}
					}
					{
						tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T83_;
						tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T84_;
						NI T85_;
						tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T86_;
						tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T87_;
						NI T88_;
						tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T89_;
						if (!srcWidthIsOdd) goto LA81_;
						nimZeroMem((void*)(&T83_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						nimZeroMem((void*)(&T83_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						T83_.image = result;
						nimZeroMem((void*)(&T84_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						nimZeroMem((void*)(&T84_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						T84_.image = result;
						T85_ = (NI)0;
						T85_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T84_.image, (NI)((*result).width - ((NI) 1)), (NI)((*result).height - ((NI) 1)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						nimZeroMem((void*)(&T86_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						nimZeroMem((void*)(&T86_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						T86_.image = src;
						nimZeroMem((void*)(&T87_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						nimZeroMem((void*)(&T87_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
						T87_.image = src;
						T88_ = (NI)0;
						T88_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T87_.image, (NI)((*src).width - ((NI) 1)), (NI)((*src).height - ((NI) 1)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						nimZeroMem((void*)(&T89_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
						T89_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_89((*T86_.image).data.p->data[T88_], 0.25f);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						(*T83_.image).data.p->data[T85_] = T89_;
					}
					LA81_: ;
				}
				LA64_: ;
				eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138(&src, result);
				res += ((NI) 1);
			} LA13: ;
		}
	}
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135(&src);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40)(NF32* x, NF32 y) {
	(*x) = ((NF32)((*x)) / (NF32)(y));
}
static N_INLINE(void, slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym162_, NF32 bX60gensym162_) {
	slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40((&(*aX60gensym162_).arr[(((NI) 0))- 0]), bX60gensym162_);
	slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40((&(*aX60gensym162_).arr[(((NI) 1))- 0]), bX60gensym162_);
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw*, magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_428)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI power) {
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* result;
	NI scale;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	{
		tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ* T5_;
		if (!(power < ((NI) 0))) goto LA3_;
		T5_ = NIM_NIL;
		T5_ = (tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ*) nimNewObj(sizeof(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ), NIM_ALIGNOF(tyObject_PixieError__iGcRqvltYLQCoM1tI9cqukQ));
		(*T5_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__iGcRqvltYLQCoM1tI9cqukQ_);
		(*T5_).Sup.Sup.Sup.name = "PixieError";
		(*T5_).Sup.Sup.Sup.message = TM__oewZtFr9csbtRIdn2ZrlawQ_7;
		(*T5_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T5_, "PixieError", "magnifyBy2", "images.nim", 333);
		goto BeforeRet_;
	}
	LA3_: ;
	scale = roof___pureZtimes_2617(((NI) 2), ((NI) (power)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = newImage__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_16((NI)((*image).width * scale), (NI)((*image).height * scale));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI y;
		NI i;
		y = (NI)0;
		i = ((NI) 0);
		{
			while (1) {
				NI x;
				NI rowStart;
				if (!(i < (*image).height)) goto LA8;
				y = i;
				x = (NI)0;
				{
					NI x_2;
					NI i_2;
					x_2 = (NI)0;
					i_2 = x;
					{
						while (1) {
							tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw rgbx;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T12_;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T13_;
							NI T14_;
							NI resultIdx;
							if (!(i_2 < (*image).width)) goto LA11;
							x_2 = i_2;
							nimZeroMem((void*)(&T12_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T12_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T12_.image = image;
							nimZeroMem((void*)(&T13_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T13_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T13_.image = image;
							T14_ = (NI)0;
							T14_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T13_.image, x_2, y);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							rgbx = (*T12_.image).data.p->data[T14_];
							resultIdx = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(result, (NI)(x_2 * scale), (NI)(y * scale));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							{
								NI i_3;
								NI i_4;
								i_3 = (NI)0;
								i_4 = ((NI) 0);
								{
									while (1) {
										if (!(i_4 < scale)) goto LA17;
										i_3 = i_4;
										(*result).data.p->data[(NI)(resultIdx + i_3)] = rgbx;
										i_4 += ((NI) 1);
									} LA17: ;
								}
							}
							i_2 += ((NI) 1);
						} LA11: ;
					}
				}
				rowStart = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(result, ((NI) 0), (NI)(y * scale));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					NI i_5;
					NI i_6;
					i_5 = (NI)0;
					i_6 = ((NI) 1);
					{
						while (1) {
							void* T21_;
							if (!(i_6 < scale)) goto LA20;
							i_5 = i_6;
							T21_ = (void*)0;
							T21_ = ((void*) ((&(*result).data.p->data[(NI)(rowStart + (NI)((*result).width * i_5))])));
							copyMem__system_1709(T21_, ((void*) ((&(*result).data.p->data[rowStart]))), ((NI) ((NI)((*result).width * ((NI) 4)))));
							i_6 += ((NI) 1);
						} LA20: ;
					}
				}
				i += ((NI) 1);
			} LA8: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29)(NF32* x, NF32 y) {
	(*x) = ((NF32)((*x)) * (NF32)(y));
}
static N_INLINE(void, stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym161_, NF32 bX60gensym161_) {
	stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29((&(*aX60gensym161_).arr[(((NI) 0))- 0]), bX60gensym161_);
	stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29((&(*aX60gensym161_).arr[(((NI) 1))- 0]), bX60gensym161_);
}
static N_INLINE(NIM_BOOL, eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	T1_ = (NIM_BOOL)0;
	T1_ = (a.arr[(((NI) 0))- 0] == b.arr[(((NI) 0))- 0]);
	if (!(T1_)) goto LA2_;
	T1_ = (a.arr[(((NI) 1))- 0] == b.arr[(((NI) 1))- 0]);
	LA2_: ;
	result = T1_;
	return result;
}
static N_INLINE(NF32, abs__OOZfauZsrcZfauZfmath_71)(NF32 x) {
	NF32 result;
	result = (NF32)0;
	result = fabsf(x);
	return result;
}
static N_INLINE(NF32, fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177)(NF32 v) {
	NF32 result;
	NF32 T1_;
	result = abs__OOZfauZsrcZfauZfmath_71(v);
	T1_ = (NF32)0;
	T1_ = floorf(result);
	result = ((NF32)(result) - (NF32)(T1_));
	return result;
}
static N_INLINE(void, zeroMem__system_1706)(void* p, NI size) {
	nimZeroMem(p, size);
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym152_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym152_) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T1_;
	nimZeroMem((void*)(&T1_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T1_.arr[0] = ((NF32)(aX60gensym152_.arr[(((NI) 0))- 0]) + (NF32)(bX60gensym152_.arr[(((NI) 0))- 0]));
	T1_.arr[1] = ((NF32)(aX60gensym152_.arr[(((NI) 1))- 0]) + (NF32)(bX60gensym152_.arr[(((NI) 1))- 0]));
	result = T1_;
	return result;
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_588)(NF32 aX60gensym154_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym154_) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T1_;
	nimZeroMem((void*)(&T1_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T1_.arr[0] = ((NF32)(aX60gensym154_) * (NF32)(bX60gensym154_.arr[(((NI) 0))- 0]));
	T1_.arr[1] = ((NF32)(aX60gensym154_) * (NF32)(bX60gensym154_.arr[(((NI) 1))- 0]));
	result = T1_;
	return result;
}
static N_INLINE(NIM_BOOL, intersects__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_1163)(tyObject_Line__ryZK5C1mFivVyaO4shnJtQ l, tyObject_Segment__bVALsjLvLede7zx2gKXK2Q s, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* at) {
	NIM_BOOL result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g s1;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g s2;
	NF32 denominator;
	NF32 numerator;
	NF32 u;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	s1 = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(l.b, l.a);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	s2 = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(s.to, s.at);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	denominator = ((NF32)(((NF32)(-(s2.arr[(((NI) 0))- 0])) * (NF32)(s1.arr[(((NI) 1))- 0]))) + (NF32)(((NF32)(s1.arr[(((NI) 0))- 0]) * (NF32)(s2.arr[(((NI) 1))- 0]))));
	numerator = ((NF32)(((NF32)(s1.arr[(((NI) 0))- 0]) * (NF32)(((NF32)(l.a.arr[(((NI) 1))- 0]) - (NF32)(s.at.arr[(((NI) 1))- 0]))))) - (NF32)(((NF32)(s1.arr[(((NI) 1))- 0]) * (NF32)(((NF32)(l.a.arr[(((NI) 0))- 0]) - (NF32)(s.at.arr[(((NI) 0))- 0]))))));
	u = ((NF32)(numerator) / (NF32)(denominator));
	{
		NIM_BOOL T3_;
		tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T7_;
		tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T8_;
		T3_ = (NIM_BOOL)0;
		T3_ = (0.0f <= u);
		if (!(T3_)) goto LA4_;
		T3_ = (u <= 1.0f);
		LA4_: ;
		if (!T3_) goto LA5_;
		T7_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_588(u, s2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimZeroMem((void*)(&T8_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
		T8_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(s.at, T7_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*at) = T8_;
		result = NIM_TRUE;
		goto BeforeRet_;
	}
	LA5_: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, emarkeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1242)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g a, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g b) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	T1_ = (NIM_BOOL)0;
	T1_ = !((a.arr[(((NI) 0))- 0] == b.arr[(((NI) 0))- 0]));
	if (T1_) goto LA2_;
	T1_ = !((a.arr[(((NI) 1))- 0] == b.arr[(((NI) 1))- 0]));
	LA2_: ;
	result = T1_;
	return result;
}
static N_INLINE(NF32, min__system_2046)(NF32 x, NF32 y) {
	NF32 result;
	NF32 colontmpD_;
	NF32 colontmpD__2;
	result = (NF32)0;
	colontmpD_ = (NF32)0;
	colontmpD__2 = (NF32)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (x <= y);
		if (T3_) goto LA4_;
		T3_ = !((y == y));
		LA4_: ;
		if (!T3_) goto LA5_;
		colontmpD_ = x;
		result = colontmpD_;
	}
	goto LA1_;
	LA5_: ;
	{
		colontmpD__2 = y;
		result = colontmpD__2;
	}
	LA1_: ;
	return result;
}
static N_INLINE(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g, star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g aX60gensym154_, NF32 bX60gensym154_) {
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g result;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T1_;
	nimZeroMem((void*)(&T1_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T1_.arr[0] = ((NF32)(aX60gensym154_.arr[(((NI) 0))- 0]) * (NF32)(bX60gensym154_));
	T1_.arr[1] = ((NF32)(aX60gensym154_.arr[(((NI) 1))- 0]) * (NF32)(bX60gensym154_));
	result = T1_;
	return result;
}
static N_INLINE(NIM_BOOL, inside__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_166)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	NIM_BOOL T2_;
	NIM_BOOL T3_;
	result = (NIM_BOOL)0;
	T1_ = (NIM_BOOL)0;
	T2_ = (NIM_BOOL)0;
	T3_ = (NIM_BOOL)0;
	T3_ = (((NI) 0) <= x);
	if (!(T3_)) goto LA4_;
	T3_ = (x < (*image).width);
	LA4_: ;
	T2_ = T3_;
	if (!(T2_)) goto LA5_;
	T2_ = (((NI) 0) <= y);
	LA5_: ;
	T1_ = T2_;
	if (!(T1_)) goto LA6_;
	T1_ = (y < (*image).height);
	LA6_: ;
	result = T1_;
	return result;
}
static N_INLINE(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NI x, NI y) {
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	{
		NIM_BOOL T3_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T6_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T7_;
		NI T8_;
		T3_ = (NIM_BOOL)0;
		T3_ = inside__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_166(image, x, y);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!T3_) goto LA4_;
		nimZeroMem((void*)(&T6_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T6_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T6_.image = image;
		nimZeroMem((void*)(&T7_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T7_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T7_.image = image;
		T8_ = (NI)0;
		T8_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T7_.image, x, y);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = (*T6_.image).data.p->data[T8_];
		goto BeforeRet_;
	}
	LA4_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw, getRgbaSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_540)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* image, NF32 x, NF32 y, NIM_BOOL wrapped) {
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw result;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw colontmpD_;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw colontmpD__2;
	NI x0;
	NF32 T1_;
	NI y0;
	NF32 T2_;
	NI x1;
	NI y1;
	NF32 xFractional;
	NF32 T3_;
	NF32 yFractional;
	NF32 T4_;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw x0y0;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw x1y0;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw x0y1;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw x1y1;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw topMix;
	tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw bottomMix;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	nimZeroMem((void*)(&colontmpD__2), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	T1_ = (NF32)0;
	T1_ = floorf(x);
	x0 = ((NI) (T1_));
	T2_ = (NF32)0;
	T2_ = floorf(y);
	y0 = ((NI) (T2_));
	x1 = (NI)(x0 + ((NI) 1));
	y1 = (NI)(y0 + ((NI) 1));
	T3_ = (NF32)0;
	T3_ = floorf(x);
	xFractional = ((NF32)(x) - (NF32)(T3_));
	T4_ = (NF32)0;
	T4_ = floorf(y);
	yFractional = ((NF32)(y) - (NF32)(T4_));
	nimZeroMem((void*)(&x0y0), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	nimZeroMem((void*)(&x1y0), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	nimZeroMem((void*)(&x0y1), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	nimZeroMem((void*)(&x1y1), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
	{
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T9_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T10_;
		NI T11_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T12_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T13_;
		NI T14_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T15_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T16_;
		NI T17_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T18_;
		tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T19_;
		NI T20_;
		if (!wrapped) goto LA7_;
		nimZeroMem((void*)(&T9_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T9_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T9_.image = image;
		nimZeroMem((void*)(&T10_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T10_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T10_.image = image;
		T11_ = (NI)0;
		T11_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T10_.image, (NI)(x0 % (*image).width), (NI)(y0 % (*image).height));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x0y0 = (*T9_.image).data.p->data[T11_];
		nimZeroMem((void*)(&T12_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T12_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T12_.image = image;
		nimZeroMem((void*)(&T13_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T13_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T13_.image = image;
		T14_ = (NI)0;
		T14_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T13_.image, (NI)(x1 % (*image).width), (NI)(y0 % (*image).height));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x1y0 = (*T12_.image).data.p->data[T14_];
		nimZeroMem((void*)(&T15_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T15_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T15_.image = image;
		nimZeroMem((void*)(&T16_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T16_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T16_.image = image;
		T17_ = (NI)0;
		T17_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T16_.image, (NI)(x0 % (*image).width), (NI)(y1 % (*image).height));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x0y1 = (*T15_.image).data.p->data[T17_];
		nimZeroMem((void*)(&T18_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T18_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T18_.image = image;
		nimZeroMem((void*)(&T19_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		nimZeroMem((void*)(&T19_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
		T19_.image = image;
		T20_ = (NI)0;
		T20_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T19_.image, (NI)(x1 % (*image).width), (NI)(y1 % (*image).height));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x1y1 = (*T18_.image).data.p->data[T20_];
	}
	goto LA5_;
	LA7_: ;
	{
		x0y0 = X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187(image, x0, y0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x1y0 = X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187(image, x1, y0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x0y1 = X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187(image, x0, y1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		x1y1 = X5BX5D___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_187(image, x1, y1);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA5_: ;
	topMix = x0y0;
	{
		NIM_BOOL T24_;
		NIM_BOOL T26_;
		T24_ = (NIM_BOOL)0;
		T24_ = (0.0f < xFractional);
		if (!(T24_)) goto LA25_;
		T26_ = (NIM_BOOL)0;
		T26_ = eqeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_247(x0y0, x1y0);
		T24_ = !(T26_);
		LA25_: ;
		if (!T24_) goto LA27_;
		topMix = mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35(x0y0, x1y0, xFractional);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA27_: ;
	bottomMix = x0y1;
	{
		NIM_BOOL T31_;
		NIM_BOOL T33_;
		T31_ = (NIM_BOOL)0;
		T31_ = (0.0f < xFractional);
		if (!(T31_)) goto LA32_;
		T33_ = (NIM_BOOL)0;
		T33_ = eqeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_247(x0y1, x1y1);
		T31_ = !(T33_);
		LA32_: ;
		if (!T31_) goto LA34_;
		bottomMix = mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35(x0y1, x1y1, xFractional);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA34_: ;
	{
		NIM_BOOL T38_;
		NIM_BOOL T40_;
		T38_ = (NIM_BOOL)0;
		T38_ = !((yFractional == 0.0f));
		if (!(T38_)) goto LA39_;
		T40_ = (NIM_BOOL)0;
		T40_ = eqeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_247(topMix, bottomMix);
		T38_ = !(T40_);
		LA39_: ;
		if (!T38_) goto LA41_;
		colontmpD_ = mix__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcommon_35(topMix, bottomMix, yFractional);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = colontmpD_;
	}
	goto LA36_;
	LA41_: ;
	{
		colontmpD__2 = topMix;
		result = colontmpD__2;
	}
	LA36_: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, pluseq___OOZfauZsrcZfauZfmath_107)(NF32* x, NF32 y) {
	(*x) = ((NF32)((*x)) + (NF32)(y));
}
static N_INLINE(void, pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g* aX60gensym159_, tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g bX60gensym159_) {
	pluseq___OOZfauZsrcZfauZfmath_107((&(*aX60gensym159_).arr[(((NI) 0))- 0]), bX60gensym159_.arr[(((NI) 0))- 0]);
	pluseq___OOZfauZsrcZfauZfmath_107((&(*aX60gensym159_).arr[(((NI) 1))- 0]), bX60gensym159_.arr[(((NI) 1))- 0]);
}
static N_INLINE(tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw, ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619)(NI32 xX60gensym28_, NI32 yX60gensym28_) {
	tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw result;
	NI32 colontmpD_;
	NI32 colontmpD__2;
	colontmpD_ = (NI32)0;
	colontmpD__2 = (NI32)0;
	nimZeroMem((void*)(&result), sizeof(tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw));
	colontmpD_ = xX60gensym28_;
	result.arr[0] = colontmpD_;
	colontmpD__2 = yX60gensym28_;
	result.arr[1] = colontmpD__2;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, drawUber__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_753)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* a, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ transform, tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode) {
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* b_2;
	tyProc__ahx1kvZUd3gRcZmpO4ziwg blender;
	tyArray__TfVGx6kAYdT9c2FikHUD2ZQ corners;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T2_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T3_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T4_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T5_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T6_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T7_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T8_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T9_;
	tyArray__v6R0b9aa3zS2R7GdzSGbrJw perimeter;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T10_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T11_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T12_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T13_;
	tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ inverseTransform;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g p;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T14_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dx;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T15_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T16_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dy;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T17_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T18_;
	NF32 filterBy2;
	NF32 T19_;
	NF32 T20_;
	NIM_BOOL hasRotationOrScaling;
	NIM_BOOL T27_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T28_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T30_;
	NIM_BOOL smooth;
	NIM_BOOL T31_;
	NIM_BOOL T32_;
	NIM_BOOL T33_;
	NF32 T34_;
	NF32 T36_;
	NF32 T38_;
	NF32 T40_;
	NI yMin;
	NI yMax;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	b_2 = NIM_NIL;
	nimZeroMem((void*)(&blender), sizeof(tyProc__ahx1kvZUd3gRcZmpO4ziwg));
	nimZeroMem((void*)corners, sizeof(tyArray__TfVGx6kAYdT9c2FikHUD2ZQ));
	T2_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T3_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T3_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[0] = T3_;
	T4_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32) ((*b).width)), 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T5_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T5_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T4_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[1] = T5_;
	T6_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32) ((*b).width)), ((NF32) ((*b).height)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T7_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T7_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T6_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[2] = T7_;
	T8_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, ((NF32) ((*b).height)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T9_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T9_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T8_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[3] = T9_;
	nimZeroMem((void*)perimeter, sizeof(tyArray__v6R0b9aa3zS2R7GdzSGbrJw));
	nimZeroMem((void*)(&T10_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T10_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 0))- 0], corners[(((NI) 1))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[0] = T10_;
	nimZeroMem((void*)(&T11_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T11_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 1))- 0], corners[(((NI) 2))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[1] = T11_;
	nimZeroMem((void*)(&T12_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T12_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 2))- 0], corners[(((NI) 3))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[2] = T12_;
	nimZeroMem((void*)(&T13_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T13_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 3))- 0], corners[(((NI) 0))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[3] = T13_;
	nimZeroMem((void*)(&inverseTransform), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
	inverse__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_844(transform, (&inverseTransform));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T14_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	p = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T14_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T15_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T16_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T15_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dx = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T16_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T17_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 1.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T18_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T17_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dy = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T18_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T19_ = (NF32)0;
	T19_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dx);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T20_ = (NF32)0;
	T20_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dy);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	filterBy2 = max__system_2054(T19_, T20_);
	eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138(&b_2, b);
	{
		while (1) {
			tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T23_;
			if (!(2.0 <= ((NF) (filterBy2)))) goto LA22;
			T23_ = NIM_NIL;
			T23_ = minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_390(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141(&b_2, T23_);
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40((&filterBy2), 2.0f);
		} LA22: ;
	}
	{
		while (1) {
			tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T26_;
			if (!(((NF) (filterBy2)) <= 0.5)) goto LA25;
			T26_ = NIM_NIL;
			T26_ = magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_428(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141(&b_2, T26_);
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29((&filterBy2), 2.0f);
		} LA25: ;
	}
	T27_ = (NIM_BOOL)0;
	T28_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1.0f, 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T27_ = eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408(dx, T28_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (!(T27_)) goto LA29_;
	T30_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, 1.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T27_ = eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408(dy, T30_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	LA29_: ;
	hasRotationOrScaling = !(T27_);
	T31_ = (NIM_BOOL)0;
	T32_ = (NIM_BOOL)0;
	T33_ = (NIM_BOOL)0;
	T34_ = (NF32)0;
	T34_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dx);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T33_ = (((NF) (T34_)) == 1.0);
	if (!(T33_)) goto LA35_;
	T36_ = (NF32)0;
	T36_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dy);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T33_ = (((NF) (T36_)) == 1.0);
	LA35_: ;
	T32_ = T33_;
	if (!(T32_)) goto LA37_;
	T38_ = (NF32)0;
	T38_ = fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177(transform.arr[(((NI) 6))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T32_ = (((NF) (T38_)) == 0.0);
	LA37_: ;
	T31_ = T32_;
	if (!(T31_)) goto LA39_;
	T40_ = (NF32)0;
	T40_ = fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177(transform.arr[(((NI) 7))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T31_ = (((NF) (T40_)) == 0.0);
	LA39_: ;
	smooth = !(T31_);
	yMin = (*a).height;
	yMax = ((NI) 0);
	{
		tyObject_Segment__bVALsjLvLede7zx2gKXK2Q segment;
		NI i;
		nimZeroMem((void*)(&segment), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
		i = ((NI) 0);
		{
			while (1) {
				NF32 T44_;
				NF32 T45_;
				segment = perimeter[(i)- 0];
				T44_ = (NF32)0;
				T44_ = floorf(segment.at.arr[(((NI) 1))- 0]);
				yMin = ((yMin <= ((NI) (T44_))) ? yMin : ((NI) (T44_)));
				T45_ = (NF32)0;
				T45_ = ceilf(segment.at.arr[(((NI) 1))- 0]);
				yMax = ((yMax >= ((NI) (T45_))) ? yMax : ((NI) (T45_)));
				{
					if (!(((NI) 3) <= ((NI) (i)))) goto LA48_;
					goto LA42;
				}
				LA48_: ;
				i += ((NI) 1);
			}
		} LA42: ;
	}
	yMin = clamp__OOZfauZsrcZfauZfmath_707(yMin, ((NI) 0), (*a).height);
	yMax = clamp__OOZfauZsrcZfauZfmath_707(yMax, ((NI) 0), (*a).height);
	blender__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_308(blendMode, (&blender));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA52_;
		{
			if (!(((NI) 0) < yMin)) goto LA56_;
			zeroMem__system_1706(((void*) ((&(*a).data.p->data[((NI) 0)]))), ((NI) ((NI)((NI)(((NI) 4) * yMin) * (*a).width))));
		}
		LA56_: ;
	}
	LA52_: ;
	{
		NI y;
		NI i_2;
		y = (NI)0;
		i_2 = yMin;
		{
			while (1) {
				if (!(i_2 < yMax)) goto LA60;
				y = i_2;
				{
					NF32 xMin;
					NF32 xMax;
					NI xStart;
					NI xStop;
					xMin = ((NF32) ((*a).width));
					xMax = 0.0f;
					{
						NF32 yOffset;
						NI i_3;
						yOffset = (NF32)0;
						i_3 = ((NI) 0);
						{
							while (1) {
								tyObject_Line__ryZK5C1mFivVyaO4shnJtQ scanLine;
								yOffset = TM__oewZtFr9csbtRIdn2ZrlawQ_8[(i_3)- 0];
								nimZeroMem((void*)(&scanLine), sizeof(tyObject_Line__ryZK5C1mFivVyaO4shnJtQ));
								scanLine.a = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(-1000.0f, ((NF32)(((NF32) (y))) + (NF32)(yOffset)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								scanLine.b = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1000.0f, ((NF32)(((NF32) (y))) + (NF32)(yOffset)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								{
									tyObject_Segment__bVALsjLvLede7zx2gKXK2Q segment_2;
									NI i_4;
									nimZeroMem((void*)(&segment_2), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
									i_4 = ((NI) 0);
									{
										while (1) {
											tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g at;
											segment_2 = perimeter[(i_4)- 0];
											nimZeroMem((void*)(&at), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
											{
												NIM_BOOL T70_;
												T70_ = (NIM_BOOL)0;
												T70_ = intersects__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_1163(scanLine, segment_2, (&at));
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												if (!(T70_)) goto LA71_;
												T70_ = emarkeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1242(segment_2.to, at);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												LA71_: ;
												if (!T70_) goto LA72_;
												xMin = min__system_2046(xMin, at.arr[(((NI) 0))- 0]);
												xMax = max__system_2054(xMax, at.arr[(((NI) 0))- 0]);
											}
											LA72_: ;
											{
												if (!(((NI) 3) <= ((NI) (i_4)))) goto LA76_;
												goto LA66;
											}
											LA76_: ;
											i_4 += ((NI) 1);
										}
									} LA66: ;
								}
								{
									if (!(((NI) 1) <= ((NI) (i_3)))) goto LA80_;
									goto LA63;
								}
								LA80_: ;
								i_3 += ((NI) 1);
							}
						} LA63: ;
					}
					xStart = (NI)0;
					xStop = (NI)0;
					{
						NIM_BOOL T84_;
						NF32 T88_;
						NF32 T89_;
						T84_ = (NIM_BOOL)0;
						T84_ = hasRotationOrScaling;
						if (T84_) goto LA85_;
						T84_ = smooth;
						LA85_: ;
						if (!T84_) goto LA86_;
						T88_ = (NF32)0;
						T88_ = floorf(xMin);
						xStart = ((NI) (T88_));
						T89_ = (NF32)0;
						T89_ = ceilf(xMax);
						xStop = ((NI) (T89_));
					}
					goto LA82_;
					LA86_: ;
					{
						NF32 T91_;
						NF32 T92_;
						T91_ = (NF32)0;
						T91_ = roundf(xMin);
						xStart = ((NI) (T91_));
						T92_ = (NF32)0;
						T92_ = roundf(xMax);
						xStop = ((NI) (T92_));
					}
					LA82_: ;
					xStart = clamp__OOZfauZsrcZfauZfmath_707(xStart, ((NI) 0), (*a).width);
					xStop = clamp__OOZfauZsrcZfauZfmath_707(xStop, ((NI) 0), (*a).width);
					{
						NIM_BOOL T95_;
						T95_ = (NIM_BOOL)0;
						T95_ = (xStart == (*a).width);
						if (T95_) goto LA96_;
						T95_ = (xStop == ((NI) 0));
						LA96_: ;
						if (!T95_) goto LA97_;
						goto LA61;
					}
					LA97_: ;
					{
						if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA101_;
						{
							NI T107_;
							if (!(((NI) 0) < xStart)) goto LA105_;
							T107_ = (NI)0;
							T107_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, ((NI) 0), y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							zeroMem__system_1706(((void*) ((&(*a).data.p->data[T107_]))), ((NI) ((NI)(((NI) 4) * xStart))));
						}
						LA105_: ;
					}
					LA101_: ;
					{
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T112_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T113_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T114_;
						if (!smooth) goto LA110_;
						T112_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (xStart)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T113_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T112_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T114_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T113_, T114_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32)(srcPos.arr[(((NI) 0))- 0]) - (NF32)(0.5f)), ((NF32)(srcPos.arr[(((NI) 1))- 0]) - (NF32)(0.5f)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						{
							NI x;
							NI i_5;
							x = (NI)0;
							i_5 = xStart;
							{
								while (1) {
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T118_;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T119_;
									NI T120_;
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw sample;
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw blended;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T121_;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T122_;
									NI T123_;
									if (!(i_5 < xStop)) goto LA117;
									x = i_5;
									nimZeroMem((void*)(&T118_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T118_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T118_.image = a;
									nimZeroMem((void*)(&T119_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T119_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T119_.image = a;
									T120_ = (NI)0;
									T120_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T119_.image, x, y);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									backdrop = (*T118_.image).data.p->data[T120_];
									sample = getRgbaSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_540(b_2, srcPos.arr[(((NI) 0))- 0], srcPos.arr[(((NI) 1))- 0], NIM_FALSE);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									blended = blender.ClE_0? blender.ClP_0(backdrop, sample, blender.ClE_0):((TM__oewZtFr9csbtRIdn2ZrlawQ_9)(blender.ClP_0))(backdrop, sample);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									nimZeroMem((void*)(&T121_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T121_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T121_.image = a;
									nimZeroMem((void*)(&T122_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T122_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T122_.image = a;
									T123_ = (NI)0;
									T123_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T122_.image, x, y);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									(*T121_.image).data.p->data[T123_] = blended;
									pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos), dx);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									i_5 += ((NI) 1);
								} LA117: ;
							}
						}
					}
					goto LA108_;
					LA110_: ;
					{
						NI x_2;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos_3;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T141_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T142_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T143_;
						NF32 T144_;
						NF32 T145_;
						x_2 = xStart;
						{
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos_2;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T129_;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T130_;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T131_;
							NI sy;
							NI sx;
							if (!!(hasRotationOrScaling)) goto LA127_;
							T129_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (x_2)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							T130_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T129_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							T131_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							srcPos_2 = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T130_, T131_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							sy = ((NI) (srcPos_2.arr[(((NI) 1))- 0]));
							sx = ((NI) (srcPos_2.arr[(((NI) 0))- 0]));
							{
								NIM_BOOL T134_;
								NI T136_;
								NI T139_;
								NI T140_;
								T134_ = (NIM_BOOL)0;
								T134_ = (blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 0) || blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 17));
								if (!(T134_)) goto LA135_;
								T136_ = (NI)0;
								T136_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(b_2, sx, sy);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								T134_ = isOpaque__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_137((&(*b_2).data), T136_, (NI)(xStop - xStart));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								LA135_: ;
								if (!T134_) goto LA137_;
								T139_ = (NI)0;
								T139_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, x_2, y);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								T140_ = (NI)0;
								T140_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(b_2, sx, sy);
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								copyMem__system_1709(((void*) ((&(*a).data.p->data[T139_]))), ((void*) ((&(*b_2).data.p->data[T140_]))), ((NI) ((NI)((NI)(xStop - xStart) * ((NI) 4)))));
								goto LA61;
							}
							LA137_: ;
						}
						LA127_: ;
						T141_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (x_2)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T142_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T141_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T143_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos_3 = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T142_, T143_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T144_ = (NF32)0;
						T144_ = clamp__OOZfauZsrcZfauZfmath_78(srcPos_3.arr[(((NI) 0))- 0], 0.0f, ((NF32) ((*b_2).width)));
						T145_ = (NF32)0;
						T145_ = clamp__OOZfauZsrcZfauZfmath_78(srcPos_3.arr[(((NI) 1))- 0], 0.0f, ((NF32) ((*b_2).height)));
						srcPos_3 = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(T144_, T145_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						switch (blendMode) {
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 17):
						{
							{
								NI x_3;
								NI i_6;
								x_3 = (NI)0;
								i_6 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T150_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T151_;
										NI T152_;
										if (!(i_6 < xStop)) goto LA149;
										x_3 = i_6;
										samplePos = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T150_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T150_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T150_.image = b_2;
										nimZeroMem((void*)(&T151_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T151_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T151_.image = b_2;
										T152_ = (NI)0;
										T152_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T151_.image, ((NI) (samplePos.arr[(((NI) 0))- 0])), ((NI) (samplePos.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source = (*T150_.image).data.p->data[T152_];
										{
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T157_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T158_;
											NI T159_;
											if (!((NU8)(((NU8) 0)) < (NU8)(source.a))) goto LA155_;
											nimZeroMem((void*)(&T157_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T157_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T157_.image = a;
											nimZeroMem((void*)(&T158_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T158_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T158_.image = a;
											T159_ = (NI)0;
											T159_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T158_.image, x_3, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T157_.image).data.p->data[T159_] = source;
										}
										LA155_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_6 += ((NI) 1);
									} LA149: ;
								}
							}
						}
						break;
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 0):
						{
							{
								NI x_4;
								NI i_7;
								x_4 = (NI)0;
								i_7 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_2;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source_2;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T164_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T165_;
										NI T166_;
										if (!(i_7 < xStop)) goto LA163;
										x_4 = i_7;
										samplePos_2 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T164_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T164_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T164_.image = b_2;
										nimZeroMem((void*)(&T165_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T165_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T165_.image = b_2;
										T166_ = (NI)0;
										T166_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T165_.image, ((NI) (samplePos_2.arr[(((NI) 0))- 0])), ((NI) (samplePos_2.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source_2 = (*T164_.image).data.p->data[T166_];
										{
											if (!((NU8)(((NU8) 0)) < (NU8)(source_2.a))) goto LA169_;
											{
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T175_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T176_;
												NI T177_;
												if (!(source_2.a == ((NU8) 255))) goto LA173_;
												nimZeroMem((void*)(&T175_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T175_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T175_.image = a;
												nimZeroMem((void*)(&T176_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T176_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T176_.image = a;
												T177_ = (NI)0;
												T177_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T176_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												(*T175_.image).data.p->data[T177_] = source_2;
											}
											goto LA171_;
											LA173_: ;
											{
												tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_2;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T179_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T180_;
												NI T181_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T182_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T183_;
												NI T184_;
												tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T185_;
												nimZeroMem((void*)(&T179_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T179_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T179_.image = a;
												nimZeroMem((void*)(&T180_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T180_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T180_.image = a;
												T181_ = (NI)0;
												T181_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T180_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												backdrop_2 = (*T179_.image).data.p->data[T181_];
												nimZeroMem((void*)(&T182_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T182_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T182_.image = a;
												nimZeroMem((void*)(&T183_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T183_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T183_.image = a;
												T184_ = (NI)0;
												T184_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T183_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												nimZeroMem((void*)(&T185_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
												T185_ = blendNormal__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_148(backdrop_2, source_2);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												(*T182_.image).data.p->data[T184_] = T185_;
											}
											LA171_: ;
										}
										LA169_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_7 += ((NI) 1);
									} LA163: ;
								}
							}
						}
						break;
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16):
						{
							{
								NI x_5;
								NI i_8;
								x_5 = (NI)0;
								i_8 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_3;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source_3;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T190_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T191_;
										NI T192_;
										if (!(i_8 < xStop)) goto LA189;
										x_5 = i_8;
										samplePos_3 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T190_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T190_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T190_.image = b_2;
										nimZeroMem((void*)(&T191_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T191_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T191_.image = b_2;
										T192_ = (NI)0;
										T192_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T191_.image, ((NI) (samplePos_3.arr[(((NI) 0))- 0])), ((NI) (samplePos_3.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source_3 = (*T190_.image).data.p->data[T192_];
										{
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T197_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T198_;
											NI T199_;
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T200_;
											if (!(source_3.a == ((NU8) 0))) goto LA195_;
											nimZeroMem((void*)(&T197_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T197_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T197_.image = a;
											nimZeroMem((void*)(&T198_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T198_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T198_.image = a;
											T199_ = (NI)0;
											T199_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T198_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											nimZeroMem((void*)(&T200_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
											T200_ = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), ((NU8) 0));
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T197_.image).data.p->data[T199_] = T200_;
										}
										goto LA193_;
										LA195_: ;
										{
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_3;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T204_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T205_;
											NI T206_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T207_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T208_;
											NI T209_;
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T210_;
											if (!!((source_3.a == ((NU8) 255)))) goto LA202_;
											nimZeroMem((void*)(&T204_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T204_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T204_.image = a;
											nimZeroMem((void*)(&T205_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T205_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T205_.image = a;
											T206_ = (NI)0;
											T206_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T205_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											backdrop_3 = (*T204_.image).data.p->data[T206_];
											nimZeroMem((void*)(&T207_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T207_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T207_.image = a;
											nimZeroMem((void*)(&T208_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T208_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T208_.image = a;
											T209_ = (NI)0;
											T209_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T208_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											nimZeroMem((void*)(&T210_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
											T210_ = blendMask__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_279(backdrop_3, source_3);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T207_.image).data.p->data[T209_] = T210_;
										}
										goto LA193_;
										LA202_: ;
										LA193_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_8 += ((NI) 1);
									} LA189: ;
								}
							}
						}
						break;
						default:
						{
							{
								NI x_6;
								NI i_9;
								x_6 = (NI)0;
								i_9 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_4;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_4;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T215_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T216_;
										NI T217_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw sample_2;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T218_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T219_;
										NI T220_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw blended_2;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T221_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T222_;
										NI T223_;
										if (!(i_9 < xStop)) goto LA214;
										x_6 = i_9;
										samplePos_4 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T215_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T215_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T215_.image = a;
										nimZeroMem((void*)(&T216_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T216_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T216_.image = a;
										T217_ = (NI)0;
										T217_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T216_.image, x_6, y);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										backdrop_4 = (*T215_.image).data.p->data[T217_];
										nimZeroMem((void*)(&T218_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T218_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T218_.image = b_2;
										nimZeroMem((void*)(&T219_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T219_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T219_.image = b_2;
										T220_ = (NI)0;
										T220_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T219_.image, ((NI) (samplePos_4.arr[(((NI) 0))- 0])), ((NI) (samplePos_4.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										sample_2 = (*T218_.image).data.p->data[T220_];
										blended_2 = blender.ClE_0? blender.ClP_0(backdrop_4, sample_2, blender.ClE_0):((TM__oewZtFr9csbtRIdn2ZrlawQ_10)(blender.ClP_0))(backdrop_4, sample_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T221_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T221_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T221_.image = a;
										nimZeroMem((void*)(&T222_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T222_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T222_.image = a;
										T223_ = (NI)0;
										T223_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T222_.image, x_6, y);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										(*T221_.image).data.p->data[T223_] = blended_2;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_9 += ((NI) 1);
									} LA214: ;
								}
							}
						}
						break;
						}
					}
					LA108_: ;
					{
						if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA226_;
						{
							NI T232_;
							if (!(((NI) 0) < (NI)((*a).width - xStop))) goto LA230_;
							T232_ = (NI)0;
							T232_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, xStop, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							zeroMem__system_1706(((void*) ((&(*a).data.p->data[T232_]))), ((NI) ((NI)(((NI) 4) * (NI)((*a).width - xStop)))));
						}
						LA230_: ;
					}
					LA226_: ;
				} LA61: ;
				i_2 += ((NI) 1);
			} LA60: ;
		}
	}
	{
		if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA235_;
		{
			NI T241_;
			if (!(((NI) 0) < (NI)((*a).height - yMax))) goto LA239_;
			T241_ = (NI)0;
			T241_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, ((NI) 0), yMax);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			zeroMem__system_1706(((void*) ((&(*a).data.p->data[T241_]))), ((NI) ((NI)((NI)(((NI) 4) * (*a).width) * (NI)((*a).height - yMax)))));
		}
		LA239_: ;
	}
	LA235_: ;
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_311((&blender));
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135(&b_2);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3967)(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ a, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result) {
	(*Result).arr[(((NI) 0))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 3))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))));
	(*Result).arr[(((NI) 1))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 1))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))));
	(*Result).arr[(((NI) 2))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 0))- 0]) * (NF32)(a.arr[(((NI) 2))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 1))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 2))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))));
	(*Result).arr[(((NI) 3))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 3))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 5))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))));
	(*Result).arr[(((NI) 4))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 1))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 5))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))));
	(*Result).arr[(((NI) 5))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 3))- 0]) * (NF32)(a.arr[(((NI) 2))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 4))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 5))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))));
	(*Result).arr[(((NI) 6))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 6))- 0]) * (NF32)(a.arr[(((NI) 0))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 7))- 0]) * (NF32)(a.arr[(((NI) 3))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 8))- 0]) * (NF32)(a.arr[(((NI) 6))- 0]))));
	(*Result).arr[(((NI) 7))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 6))- 0]) * (NF32)(a.arr[(((NI) 1))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 7))- 0]) * (NF32)(a.arr[(((NI) 4))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 8))- 0]) * (NF32)(a.arr[(((NI) 7))- 0]))));
	(*Result).arr[(((NI) 8))- 0] = ((NF32)(((NF32)(((NF32)(b.arr[(((NI) 6))- 0]) * (NF32)(a.arr[(((NI) 2))- 0]))) + (NF32)(((NF32)(b.arr[(((NI) 7))- 0]) * (NF32)(a.arr[(((NI) 5))- 0]))))) + (NF32)(((NF32)(b.arr[(((NI) 8))- 0]) * (NF32)(a.arr[(((NI) 8))- 0]))));
}
static N_INLINE(void, gmat3__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_2807)(NF32 m00, NF32 m01, NF32 m02, NF32 m10, NF32 m11, NF32 m12, NF32 m20, NF32 m21, NF32 m22, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result) {
	NF32 colontmpD_;
	NF32 colontmpD__2;
	NF32 colontmpD__3;
	NF32 colontmpD__4;
	NF32 colontmpD__5;
	NF32 colontmpD__6;
	NF32 colontmpD__7;
	NF32 colontmpD__8;
	NF32 colontmpD__9;
	colontmpD_ = (NF32)0;
	colontmpD__2 = (NF32)0;
	colontmpD__3 = (NF32)0;
	colontmpD__4 = (NF32)0;
	colontmpD__5 = (NF32)0;
	colontmpD__6 = (NF32)0;
	colontmpD__7 = (NF32)0;
	colontmpD__8 = (NF32)0;
	colontmpD__9 = (NF32)0;
	nimZeroMem((void*)Result, sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
	colontmpD_ = m00;
	(*Result).arr[0] = colontmpD_;
	colontmpD__2 = m01;
	(*Result).arr[1] = colontmpD__2;
	colontmpD__3 = m02;
	(*Result).arr[2] = colontmpD__3;
	colontmpD__4 = m10;
	(*Result).arr[3] = colontmpD__4;
	colontmpD__5 = m11;
	(*Result).arr[4] = colontmpD__5;
	colontmpD__6 = m12;
	(*Result).arr[5] = colontmpD__6;
	colontmpD__7 = m20;
	(*Result).arr[6] = colontmpD__7;
	colontmpD__8 = m21;
	(*Result).arr[7] = colontmpD__8;
	colontmpD__9 = m22;
	(*Result).arr[8] = colontmpD__9;
}
static N_INLINE(void, scale__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3934)(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g v, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ* Result) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	gmat3__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_2807(v.arr[(((NI) 0))- 0], 0.0f, 0.0f, 0.0f, v.arr[(((NI) 1))- 0], 0.0f, 0.0f, 0.0f, 1.0f, Result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NF, toFloat__system_1684)(NI i) {
	NF result;
	result = (NF)0;
	result = ((NF) (i));
	return result;
}
static N_INLINE(NF, slash___system_6042)(NI x, NI y) {
	NF result;
	NF T1_;
	NF T2_;
	result = (NF)0;
	T1_ = (NF)0;
	T1_ = toFloat__system_1684(x);
	T2_ = (NF)0;
	T2_ = toFloat__system_1684(y);
	result = ((NF)(T1_) / (NF)(T2_));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, drawCorrect__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3774)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* a, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ transform, tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode, NIM_BOOL tiled) {
	tyProc__ahx1kvZUd3gRcZmpO4ziwg blender;
	tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* b_2;
	tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ inverseTransform;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g p;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T2_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dx;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T3_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T4_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dy;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T5_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T6_;
	NF32 filterBy2;
	NF32 T7_;
	NF32 T8_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&blender), sizeof(tyProc__ahx1kvZUd3gRcZmpO4ziwg));
	b_2 = NIM_NIL;
	blender__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_308(blendMode, (&blender));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&inverseTransform), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
	inverse__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_844(transform, (&inverseTransform));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T2_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	p = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T3_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T4_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T3_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dx = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T4_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T5_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 1.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T6_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T5_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dy = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T6_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T7_ = (NF32)0;
	T7_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dx);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T8_ = (NF32)0;
	T8_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dy);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	filterBy2 = max__system_2054(T7_, T8_);
	eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_138(&b_2, b);
	{
		while (1) {
			tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T11_;
			NF T12_;
			NF T13_;
			tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T14_;
			tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ T15_;
			tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ T16_;
			if (!(2.0 <= ((NF) (filterBy2)))) goto LA10;
			T11_ = NIM_NIL;
			T11_ = minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_390(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141(&b_2, T11_);
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40((&filterBy2), 2.0f);
			T12_ = (NF)0;
			T12_ = slash___system_6042(((NI) 1), ((NI) 2));
			T13_ = (NF)0;
			T13_ = slash___system_6042(((NI) 1), ((NI) 2));
			T14_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32) (T12_)), ((NF32) (T13_)));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			nimZeroMem((void*)(&T15_), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
			scale__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3934(T14_, (&T15_));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			nimZeroMem((void*)(&T16_), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
			star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3967(T15_, inverseTransform, (&T16_));
			inverseTransform = T16_;
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		} LA10: ;
	}
	{
		while (1) {
			tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* T19_;
			tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T20_;
			tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ T21_;
			tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ T22_;
			if (!(((NF) (filterBy2)) <= 0.5)) goto LA18;
			T19_ = NIM_NIL;
			T19_ = magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_428(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_141(&b_2, T19_);
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29((&filterBy2), 2.0f);
			T20_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(2.0f, 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			nimZeroMem((void*)(&T21_), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
			scale__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3934(T20_, (&T21_));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			nimZeroMem((void*)(&T22_), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
			star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3967(T21_, inverseTransform, (&T22_));
			inverseTransform = T22_;
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		} LA18: ;
	}
	{
		NI y;
		NI i;
		y = (NI)0;
		i = ((NI) 0);
		{
			while (1) {
				if (!(i < (*a).height)) goto LA25;
				y = i;
				{
					NI x;
					NI i_2;
					x = (NI)0;
					i_2 = ((NI) 0);
					{
						while (1) {
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g samplePos;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T29_;
							NF32 xFloat;
							NF32 yFloat;
							tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T30_;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T31_;
							NI T32_;
							tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw sample;
							tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw blended;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T33_;
							tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T34_;
							NI T35_;
							if (!(i_2 < (*a).width)) goto LA28;
							x = i_2;
							T29_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32)(((NF32) (x))) + (NF32)(0.5f)), ((NF32)(((NF32) (y))) + (NF32)(0.5f)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							samplePos = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T29_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							xFloat = ((NF32)(samplePos.arr[(((NI) 0))- 0]) - (NF32)(0.5f));
							yFloat = ((NF32)(samplePos.arr[(((NI) 1))- 0]) - (NF32)(0.5f));
							nimZeroMem((void*)(&T30_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T30_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T30_.image = a;
							nimZeroMem((void*)(&T31_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T31_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T31_.image = a;
							T32_ = (NI)0;
							T32_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T31_.image, x, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							backdrop = (*T30_.image).data.p->data[T32_];
							sample = getRgbaSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_540(b_2, xFloat, yFloat, tiled);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							blended = blender.ClE_0? blender.ClP_0(backdrop, sample, blender.ClE_0):((TM__oewZtFr9csbtRIdn2ZrlawQ_11)(blender.ClP_0))(backdrop, sample);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							nimZeroMem((void*)(&T33_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T33_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T33_.image = a;
							nimZeroMem((void*)(&T34_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							nimZeroMem((void*)(&T34_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
							T34_.image = a;
							T35_ = (NI)0;
							T35_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T34_.image, x, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							(*T33_.image).data.p->data[T35_] = blended;
							i_2 += ((NI) 1);
						} LA28: ;
					}
				}
				i += ((NI) 1);
			} LA25: ;
		}
	}
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_135(&b_2);
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_311((&blender));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, drawTiled__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3769)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* dst, tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* src, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ mat, tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	drawCorrect__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_3774(dst, src, mat, blendMode, NIM_TRUE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, fill__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_162)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NU8 value) {
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (*mask).data.len;
	fillUnsafe__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZinternal_98((&(*mask).data), value, ((NI) 0), T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, applyOpacity__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZcontexts_559)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* target, NF32 opacity) {
	NU16 opacity_2;
	NF32 T1_;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (NF32)0;
	T1_ = roundf(((NF32)(255.0f) * (NF32)(opacity)));
	opacity_2 = ((NU16) (T1_));
	{
		if (!(opacity_2 == ((NU16) 0))) goto LA4_;
		fill__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_162(target, ((NU8) 0));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
	LA4_: ;
	i = (NI)0;
	{
		NI j;
		NI colontmp_;
		NI T7_;
		NI i_2;
		j = (NI)0;
		colontmp_ = (NI)0;
		T7_ = (*target).data.len;
		colontmp_ = T7_;
		i_2 = i;
		{
			while (1) {
				if (!(i_2 < colontmp_)) goto LA9;
				j = i_2;
				(*target).data.p->data[j] = ((NU8) ((NU16)((NU16)((NU16)((NU16)(((NU16) ((*target).data.p->data[j]))) * (NU16)(opacity_2))) / (NU16)(((NU16) 255)))));
				i_2 += ((NI) 1);
			} LA9: ;
		}
	}
	}BeforeRet_: ;
}
static N_INLINE(NI, dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56)(tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* mask, NI x, NI y) {
	NI result;
	result = (NI)0;
	result = (NI)((NI)((*mask).width * y) + x);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, drawUber__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_2354)(tyObject_ImagecolonObjectType___39aQ9a0Kyr06g9bwSFcLPwwXw* a, tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* b, tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ transform, tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ blendMode) {
	tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* b_2;
	tyProc__ahx1kvZUd3gRcZmpO4ziwg blender;
	tyArray__TfVGx6kAYdT9c2FikHUD2ZQ corners;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T2_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T3_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T4_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T5_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T6_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T7_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T8_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T9_;
	tyArray__v6R0b9aa3zS2R7GdzSGbrJw perimeter;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T10_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T11_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T12_;
	tyObject_Segment__bVALsjLvLede7zx2gKXK2Q T13_;
	tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ inverseTransform;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g p;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T14_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dx;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T15_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T16_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g dy;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T17_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T18_;
	NF32 filterBy2;
	NF32 T19_;
	NF32 T20_;
	NIM_BOOL hasRotationOrScaling;
	NIM_BOOL T27_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T28_;
	tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T30_;
	NIM_BOOL smooth;
	NIM_BOOL T31_;
	NIM_BOOL T32_;
	NIM_BOOL T33_;
	NF32 T34_;
	NF32 T36_;
	NF32 T38_;
	NF32 T40_;
	NI yMin;
	NI yMax;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	b_2 = NIM_NIL;
	nimZeroMem((void*)(&blender), sizeof(tyProc__ahx1kvZUd3gRcZmpO4ziwg));
	nimZeroMem((void*)corners, sizeof(tyArray__TfVGx6kAYdT9c2FikHUD2ZQ));
	T2_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T3_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T3_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[0] = T3_;
	T4_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32) ((*b).width)), 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T5_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T5_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T4_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[1] = T5_;
	T6_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32) ((*b).width)), ((NF32) ((*b).height)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T7_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T7_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T6_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[2] = T7_;
	T8_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, ((NF32) ((*b).height)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	nimZeroMem((void*)(&T9_), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
	T9_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(transform, T8_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	corners[3] = T9_;
	nimZeroMem((void*)perimeter, sizeof(tyArray__v6R0b9aa3zS2R7GdzSGbrJw));
	nimZeroMem((void*)(&T10_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T10_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 0))- 0], corners[(((NI) 1))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[0] = T10_;
	nimZeroMem((void*)(&T11_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T11_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 1))- 0], corners[(((NI) 2))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[1] = T11_;
	nimZeroMem((void*)(&T12_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T12_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 2))- 0], corners[(((NI) 3))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[2] = T12_;
	nimZeroMem((void*)(&T13_), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
	T13_ = segment__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_273(corners[(((NI) 3))- 0], corners[(((NI) 0))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	perimeter[3] = T13_;
	nimZeroMem((void*)(&inverseTransform), sizeof(tyObject_GMat3__aq9cWE9bYTeRa9cNA7MRTKvcQ));
	inverse__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_844(transform, (&inverseTransform));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T14_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	p = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T14_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T15_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1.5f, 0.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T16_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T15_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dx = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T16_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T17_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.5f, 1.5f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T18_ = star___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_214(inverseTransform, T17_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	dy = minus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_441(T18_, p);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T19_ = (NF32)0;
	T19_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dx);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T20_ = (NF32)0;
	T20_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dy);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	filterBy2 = max__system_2054(T19_, T20_);
	eqcopy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_36(&b_2, b);
	{
		while (1) {
			tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* T23_;
			if (!(2.0 <= ((NF) (filterBy2)))) goto LA22;
			T23_ = NIM_NIL;
			T23_ = minifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_104(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_39(&b_2, T23_);
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1031((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			slasheq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_40((&filterBy2), 2.0f);
		} LA22: ;
	}
	{
		while (1) {
			tyObject_MaskcolonObjectType___9c471pIledZjhw4w4ER6K0Q* T26_;
			if (!(((NF) (filterBy2)) <= 0.5)) goto LA25;
			T26_ = NIM_NIL;
			T26_ = magnifyBy2__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_127(b_2, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_39(&b_2, T26_);
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&p), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dx), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1075((&dy), 2.0f);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			stareq___OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZdistance_29((&filterBy2), 2.0f);
		} LA25: ;
	}
	T27_ = (NIM_BOOL)0;
	T28_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1.0f, 0.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T27_ = eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408(dx, T28_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	if (!(T27_)) goto LA29_;
	T30_ = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(0.0f, 1.0f);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T27_ = eqeq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_408(dy, T30_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	LA29_: ;
	hasRotationOrScaling = !(T27_);
	T31_ = (NIM_BOOL)0;
	T32_ = (NIM_BOOL)0;
	T33_ = (NIM_BOOL)0;
	T34_ = (NF32)0;
	T34_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dx);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T33_ = (((NF) (T34_)) == 1.0);
	if (!(T33_)) goto LA35_;
	T36_ = (NF32)0;
	T36_ = length__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_455(dy);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T33_ = (((NF) (T36_)) == 1.0);
	LA35_: ;
	T32_ = T33_;
	if (!(T32_)) goto LA37_;
	T38_ = (NF32)0;
	T38_ = fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177(transform.arr[(((NI) 6))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T32_ = (((NF) (T38_)) == 0.0);
	LA37_: ;
	T31_ = T32_;
	if (!(T31_)) goto LA39_;
	T40_ = (NF32)0;
	T40_ = fractional__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_177(transform.arr[(((NI) 7))- 0]);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T31_ = (((NF) (T40_)) == 0.0);
	LA39_: ;
	smooth = !(T31_);
	yMin = (*a).height;
	yMax = ((NI) 0);
	{
		tyObject_Segment__bVALsjLvLede7zx2gKXK2Q segment;
		NI i;
		nimZeroMem((void*)(&segment), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
		i = ((NI) 0);
		{
			while (1) {
				NF32 T44_;
				NF32 T45_;
				segment = perimeter[(i)- 0];
				T44_ = (NF32)0;
				T44_ = floorf(segment.at.arr[(((NI) 1))- 0]);
				yMin = ((yMin <= ((NI) (T44_))) ? yMin : ((NI) (T44_)));
				T45_ = (NF32)0;
				T45_ = ceilf(segment.at.arr[(((NI) 1))- 0]);
				yMax = ((yMax >= ((NI) (T45_))) ? yMax : ((NI) (T45_)));
				{
					if (!(((NI) 3) <= ((NI) (i)))) goto LA48_;
					goto LA42;
				}
				LA48_: ;
				i += ((NI) 1);
			}
		} LA42: ;
	}
	yMin = clamp__OOZfauZsrcZfauZfmath_707(yMin, ((NI) 0), (*a).height);
	yMax = clamp__OOZfauZsrcZfauZfmath_707(yMax, ((NI) 0), (*a).height);
	blender__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_308(blendMode, (&blender));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA52_;
		{
			if (!(((NI) 0) < yMin)) goto LA56_;
			zeroMem__system_1706(((void*) ((&(*a).data.p->data[((NI) 0)]))), ((NI) ((NI)((NI)(((NI) 4) * yMin) * (*a).width))));
		}
		LA56_: ;
	}
	LA52_: ;
	{
		NI y;
		NI i_2;
		y = (NI)0;
		i_2 = yMin;
		{
			while (1) {
				if (!(i_2 < yMax)) goto LA60;
				y = i_2;
				{
					NF32 xMin;
					NF32 xMax;
					NI xStart;
					NI xStop;
					xMin = ((NF32) ((*a).width));
					xMax = 0.0f;
					{
						NF32 yOffset;
						NI i_3;
						yOffset = (NF32)0;
						i_3 = ((NI) 0);
						{
							while (1) {
								tyObject_Line__ryZK5C1mFivVyaO4shnJtQ scanLine;
								yOffset = TM__oewZtFr9csbtRIdn2ZrlawQ_8[(i_3)- 0];
								nimZeroMem((void*)(&scanLine), sizeof(tyObject_Line__ryZK5C1mFivVyaO4shnJtQ));
								scanLine.a = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(-1000.0f, ((NF32)(((NF32) (y))) + (NF32)(yOffset)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								scanLine.b = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(1000.0f, ((NF32)(((NF32) (y))) + (NF32)(yOffset)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
								{
									tyObject_Segment__bVALsjLvLede7zx2gKXK2Q segment_2;
									NI i_4;
									nimZeroMem((void*)(&segment_2), sizeof(tyObject_Segment__bVALsjLvLede7zx2gKXK2Q));
									i_4 = ((NI) 0);
									{
										while (1) {
											tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g at;
											segment_2 = perimeter[(i_4)- 0];
											nimZeroMem((void*)(&at), sizeof(tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g));
											{
												NIM_BOOL T70_;
												T70_ = (NIM_BOOL)0;
												T70_ = intersects__OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_1163(scanLine, segment_2, (&at));
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												if (!(T70_)) goto LA71_;
												T70_ = emarkeq___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1242(segment_2.to, at);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												LA71_: ;
												if (!T70_) goto LA72_;
												xMin = min__system_2046(xMin, at.arr[(((NI) 0))- 0]);
												xMax = max__system_2054(xMax, at.arr[(((NI) 0))- 0]);
											}
											LA72_: ;
											{
												if (!(((NI) 3) <= ((NI) (i_4)))) goto LA76_;
												goto LA66;
											}
											LA76_: ;
											i_4 += ((NI) 1);
										}
									} LA66: ;
								}
								{
									if (!(((NI) 1) <= ((NI) (i_3)))) goto LA80_;
									goto LA63;
								}
								LA80_: ;
								i_3 += ((NI) 1);
							}
						} LA63: ;
					}
					xStart = (NI)0;
					xStop = (NI)0;
					{
						NIM_BOOL T84_;
						NF32 T88_;
						NF32 T89_;
						T84_ = (NIM_BOOL)0;
						T84_ = hasRotationOrScaling;
						if (T84_) goto LA85_;
						T84_ = smooth;
						LA85_: ;
						if (!T84_) goto LA86_;
						T88_ = (NF32)0;
						T88_ = floorf(xMin);
						xStart = ((NI) (T88_));
						T89_ = (NF32)0;
						T89_ = ceilf(xMax);
						xStop = ((NI) (T89_));
					}
					goto LA82_;
					LA86_: ;
					{
						NF32 T91_;
						NF32 T92_;
						T91_ = (NF32)0;
						T91_ = roundf(xMin);
						xStart = ((NI) (T91_));
						T92_ = (NF32)0;
						T92_ = roundf(xMax);
						xStop = ((NI) (T92_));
					}
					LA82_: ;
					xStart = clamp__OOZfauZsrcZfauZfmath_707(xStart, ((NI) 0), (*a).width);
					xStop = clamp__OOZfauZsrcZfauZfmath_707(xStop, ((NI) 0), (*a).width);
					{
						NIM_BOOL T95_;
						T95_ = (NIM_BOOL)0;
						T95_ = (xStart == (*a).width);
						if (T95_) goto LA96_;
						T95_ = (xStop == ((NI) 0));
						LA96_: ;
						if (!T95_) goto LA97_;
						goto LA61;
					}
					LA97_: ;
					{
						if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA101_;
						{
							NI T107_;
							if (!(((NI) 0) < xStart)) goto LA105_;
							T107_ = (NI)0;
							T107_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, ((NI) 0), y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							zeroMem__system_1706(((void*) ((&(*a).data.p->data[T107_]))), ((NI) ((NI)(((NI) 4) * xStart))));
						}
						LA105_: ;
					}
					LA101_: ;
					{
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T112_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T113_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T114_;
						if (!smooth) goto LA110_;
						T112_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (xStart)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T113_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T112_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T114_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T113_, T114_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(((NF32)(srcPos.arr[(((NI) 0))- 0]) - (NF32)(0.5f)), ((NF32)(srcPos.arr[(((NI) 1))- 0]) - (NF32)(0.5f)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						{
							NI x;
							NI i_5;
							x = (NI)0;
							i_5 = xStart;
							{
								while (1) {
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T118_;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T119_;
									NI T120_;
									NU8 sample;
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw blended;
									tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T121_;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T122_;
									tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T123_;
									NI T124_;
									if (!(i_5 < xStop)) goto LA117;
									x = i_5;
									nimZeroMem((void*)(&T118_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T118_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T118_.image = a;
									nimZeroMem((void*)(&T119_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T119_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T119_.image = a;
									T120_ = (NI)0;
									T120_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T119_.image, x, y);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									backdrop = (*T118_.image).data.p->data[T120_];
									sample = getValueSmooth__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_168(b_2, srcPos.arr[(((NI) 0))- 0], srcPos.arr[(((NI) 1))- 0]);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									T121_ = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), sample);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									blended = blender.ClE_0? blender.ClP_0(backdrop, T121_, blender.ClE_0):((TM__oewZtFr9csbtRIdn2ZrlawQ_12)(blender.ClP_0))(backdrop, T121_);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									nimZeroMem((void*)(&T122_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T122_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T122_.image = a;
									nimZeroMem((void*)(&T123_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									nimZeroMem((void*)(&T123_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
									T123_.image = a;
									T124_ = (NI)0;
									T124_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T123_.image, x, y);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									(*T122_.image).data.p->data[T124_] = blended;
									pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos), dx);
									if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
									i_5 += ((NI) 1);
								} LA117: ;
							}
						}
					}
					goto LA108_;
					LA110_: ;
					{
						NI x_2;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos_3;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T133_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T134_;
						tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T135_;
						NF32 T136_;
						NF32 T137_;
						x_2 = xStart;
						{
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g srcPos_2;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T130_;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T131_;
							tyObject_GVec2__J49cfF9bdMVXReouL81K5F4g T132_;
							NI sy;
							NI sx;
							if (!!(hasRotationOrScaling)) goto LA128_;
							T130_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (x_2)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							T131_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T130_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							T132_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							srcPos_2 = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T131_, T132_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							sy = ((NI) (srcPos_2.arr[(((NI) 1))- 0]));
							sx = ((NI) (srcPos_2.arr[(((NI) 0))- 0]));
						}
						LA128_: ;
						T133_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dx, ((NF32) (x_2)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T134_ = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(p, T133_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T135_ = star___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_1287(dy, ((NF32) (y)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						srcPos_3 = plus___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_604(T134_, T135_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T136_ = (NF32)0;
						T136_ = clamp__OOZfauZsrcZfauZfmath_78(srcPos_3.arr[(((NI) 0))- 0], 0.0f, ((NF32) ((*b_2).width)));
						T137_ = (NF32)0;
						T137_ = clamp__OOZfauZsrcZfauZfmath_78(srcPos_3.arr[(((NI) 1))- 0], 0.0f, ((NF32) ((*b_2).height)));
						srcPos_3 = vec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_979(T136_, T137_);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						switch (blendMode) {
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 17):
						{
							{
								NI x_3;
								NI i_6;
								x_3 = (NI)0;
								i_6 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T142_;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T143_;
										NI T144_;
										if (!(i_6 < xStop)) goto LA141;
										x_3 = i_6;
										samplePos = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T142_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T142_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T142_.mask = b_2;
										nimZeroMem((void*)(&T143_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T143_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T143_.mask = b_2;
										T144_ = (NI)0;
										T144_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56(T143_.mask, ((NI) (samplePos.arr[(((NI) 0))- 0])), ((NI) (samplePos.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), (*T142_.mask).data.p->data[T144_]);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										{
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T149_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T150_;
											NI T151_;
											if (!((NU8)(((NU8) 0)) < (NU8)(source.a))) goto LA147_;
											nimZeroMem((void*)(&T149_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T149_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T149_.image = a;
											nimZeroMem((void*)(&T150_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T150_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T150_.image = a;
											T151_ = (NI)0;
											T151_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T150_.image, x_3, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T149_.image).data.p->data[T151_] = source;
										}
										LA147_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_6 += ((NI) 1);
									} LA141: ;
								}
							}
						}
						break;
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 0):
						{
							{
								NI x_4;
								NI i_7;
								x_4 = (NI)0;
								i_7 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_2;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source_2;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T156_;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T157_;
										NI T158_;
										if (!(i_7 < xStop)) goto LA155;
										x_4 = i_7;
										samplePos_2 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T156_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T156_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T156_.mask = b_2;
										nimZeroMem((void*)(&T157_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T157_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T157_.mask = b_2;
										T158_ = (NI)0;
										T158_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56(T157_.mask, ((NI) (samplePos_2.arr[(((NI) 0))- 0])), ((NI) (samplePos_2.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source_2 = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), (*T156_.mask).data.p->data[T158_]);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										{
											if (!((NU8)(((NU8) 0)) < (NU8)(source_2.a))) goto LA161_;
											{
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T167_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T168_;
												NI T169_;
												if (!(source_2.a == ((NU8) 255))) goto LA165_;
												nimZeroMem((void*)(&T167_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T167_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T167_.image = a;
												nimZeroMem((void*)(&T168_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T168_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T168_.image = a;
												T169_ = (NI)0;
												T169_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T168_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												(*T167_.image).data.p->data[T169_] = source_2;
											}
											goto LA163_;
											LA165_: ;
											{
												tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_2;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T171_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T172_;
												NI T173_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T174_;
												tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T175_;
												NI T176_;
												tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T177_;
												nimZeroMem((void*)(&T171_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T171_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T171_.image = a;
												nimZeroMem((void*)(&T172_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T172_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T172_.image = a;
												T173_ = (NI)0;
												T173_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T172_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												backdrop_2 = (*T171_.image).data.p->data[T173_];
												nimZeroMem((void*)(&T174_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T174_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T174_.image = a;
												nimZeroMem((void*)(&T175_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												nimZeroMem((void*)(&T175_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
												T175_.image = a;
												T176_ = (NI)0;
												T176_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T175_.image, x_4, y);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												nimZeroMem((void*)(&T177_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
												T177_ = blendNormal__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_148(backdrop_2, source_2);
												if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
												(*T174_.image).data.p->data[T176_] = T177_;
											}
											LA163_: ;
										}
										LA161_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_7 += ((NI) 1);
									} LA155: ;
								}
							}
						}
						break;
						case ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16):
						{
							{
								NI x_5;
								NI i_8;
								x_5 = (NI)0;
								i_8 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_3;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw source_3;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T182_;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T183_;
										NI T184_;
										if (!(i_8 < xStop)) goto LA181;
										x_5 = i_8;
										samplePos_3 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T182_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T182_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T182_.mask = b_2;
										nimZeroMem((void*)(&T183_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T183_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T183_.mask = b_2;
										T184_ = (NI)0;
										T184_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56(T183_.mask, ((NI) (samplePos_3.arr[(((NI) 0))- 0])), ((NI) (samplePos_3.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										source_3 = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), (*T182_.mask).data.p->data[T184_]);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										{
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T189_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T190_;
											NI T191_;
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T192_;
											if (!(source_3.a == ((NU8) 0))) goto LA187_;
											nimZeroMem((void*)(&T189_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T189_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T189_.image = a;
											nimZeroMem((void*)(&T190_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T190_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T190_.image = a;
											T191_ = (NI)0;
											T191_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T190_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											nimZeroMem((void*)(&T192_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
											T192_ = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), ((NU8) 0));
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T189_.image).data.p->data[T191_] = T192_;
										}
										goto LA185_;
										LA187_: ;
										{
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_3;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T196_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T197_;
											NI T198_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T199_;
											tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T200_;
											NI T201_;
											tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T202_;
											if (!!((source_3.a == ((NU8) 255)))) goto LA194_;
											nimZeroMem((void*)(&T196_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T196_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T196_.image = a;
											nimZeroMem((void*)(&T197_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T197_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T197_.image = a;
											T198_ = (NI)0;
											T198_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T197_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											backdrop_3 = (*T196_.image).data.p->data[T198_];
											nimZeroMem((void*)(&T199_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T199_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T199_.image = a;
											nimZeroMem((void*)(&T200_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											nimZeroMem((void*)(&T200_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
											T200_.image = a;
											T201_ = (NI)0;
											T201_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T200_.image, x_5, y);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											nimZeroMem((void*)(&T202_), sizeof(tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw));
											T202_ = blendMask__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_279(backdrop_3, source_3);
											if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
											(*T199_.image).data.p->data[T201_] = T202_;
										}
										goto LA185_;
										LA194_: ;
										LA185_: ;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_8 += ((NI) 1);
									} LA181: ;
								}
							}
						}
						break;
						default:
						{
							{
								NI x_6;
								NI i_9;
								x_6 = (NI)0;
								i_9 = x_2;
								{
									while (1) {
										tyObject_GVec2__OcrmLogOm3j9bW1ibiqbHPw samplePos_4;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw backdrop_4;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T207_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T208_;
										NI T209_;
										NU8 sample_2;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T210_;
										tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ T211_;
										NI T212_;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw blended_2;
										tyObject_ColorRGBX__hrE0utwVpt2r9aS9b8RsUQgw T213_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T214_;
										tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg T215_;
										NI T216_;
										if (!(i_9 < xStop)) goto LA206;
										x_6 = i_9;
										samplePos_4 = ivec2__OOZOOZOOZOnimbleZpkgsZvmath4549O49O48Zvmath_619(((NI32) (((NF32)(srcPos_3.arr[(((NI) 0))- 0]) - (NF32)(0.5f)))), ((NI32) (((NF32)(srcPos_3.arr[(((NI) 1))- 0]) - (NF32)(0.5f)))));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T207_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T207_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T207_.image = a;
										nimZeroMem((void*)(&T208_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T208_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T208_.image = a;
										T209_ = (NI)0;
										T209_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T208_.image, x_6, y);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										backdrop_4 = (*T207_.image).data.p->data[T209_];
										nimZeroMem((void*)(&T210_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T210_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T210_.mask = b_2;
										nimZeroMem((void*)(&T211_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										nimZeroMem((void*)(&T211_), sizeof(tyObject_UnsafeMask__JgoC9aWXuxjiQT29aYsy7flQ));
										T211_.mask = b_2;
										T212_ = (NI)0;
										T212_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_56(T211_.mask, ((NI) (samplePos_4.arr[(((NI) 0))- 0])), ((NI) (samplePos_4.arr[(((NI) 1))- 0])));
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										sample_2 = (*T210_.mask).data.p->data[T212_];
										T213_ = rgbx__OOZOOZOOZOnimbleZpkgsZchroma4548O50O53ZchromaZcolortypes_116(((NU8) 0), ((NU8) 0), ((NU8) 0), sample_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										blended_2 = blender.ClE_0? blender.ClP_0(backdrop_4, T213_, blender.ClE_0):((TM__oewZtFr9csbtRIdn2ZrlawQ_13)(blender.ClP_0))(backdrop_4, T213_);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										nimZeroMem((void*)(&T214_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T214_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T214_.image = a;
										nimZeroMem((void*)(&T215_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										nimZeroMem((void*)(&T215_), sizeof(tyObject_UnsafeImage__f9asuvEfWdaEsvgzcPPDmeg));
										T215_.image = a;
										T216_ = (NI)0;
										T216_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(T215_.image, x_6, y);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										(*T214_.image).data.p->data[T216_] = blended_2;
										pluseq___OOZOOZOOZOnimbleZpkgsZbumpy4549O48O51Zbumpy_168((&srcPos_3), dx);
										if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
										i_9 += ((NI) 1);
									} LA206: ;
								}
							}
						}
						break;
						}
					}
					LA108_: ;
					{
						if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA219_;
						{
							NI T225_;
							if (!(((NI) 0) < (NI)((*a).width - xStop))) goto LA223_;
							T225_ = (NI)0;
							T225_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, xStop, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							zeroMem__system_1706(((void*) ((&(*a).data.p->data[T225_]))), ((NI) ((NI)(((NI) 4) * (NI)((*a).width - xStop)))));
						}
						LA223_: ;
					}
					LA219_: ;
				} LA61: ;
				i_2 += ((NI) 1);
			} LA60: ;
		}
	}
	{
		if (!(blendMode == ((tyEnum_BlendMode__5LYzfbrLeWt4hzSNsGzCUQ) 16))) goto LA228_;
		{
			NI T234_;
			if (!(((NI) 0) < (NI)((*a).height - yMax))) goto LA232_;
			T234_ = (NI)0;
			T234_ = dataIndex__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZimages_171(a, ((NI) 0), yMax);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			zeroMem__system_1706(((void*) ((&(*a).data.p->data[T234_]))), ((NI) ((NI)((NI)(((NI) 4) * (*a).width) * (NI)((*a).height - yMax)))));
		}
		LA232_: ;
	}
	LA228_: ;
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZblends_311((&blender));
		eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZmasks_33(&b_2);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
