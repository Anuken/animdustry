/* Generated by Nim Compiler v1.6.4 */
#define NIM_INTBITS 32
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tySequence__uFLLGQVsiasALrzzzvqnZw tySequence__uFLLGQVsiasALrzzzvqnZw;
typedef struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content tySequence__uFLLGQVsiasALrzzzvqnZw_Content;
typedef struct tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q;
typedef struct tyTuple__g72oAI9bUatEQoES4rNovMg tyTuple__g72oAI9bUatEQoES4rNovMg;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ tySequence__6H5Oh5UUvVCLiakt9aTwtUQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content;
typedef struct tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ;
typedef struct tyObject_CompressionConfig__AhbBdSWZSuMmypMu0nNhnA tyObject_CompressionConfig__AhbBdSWZSuMmypMu0nNhnA;
typedef struct tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tySequence__EUxovw9aKWg8TzBK2P3p3cg tySequence__EUxovw9aKWg8TzBK2P3p3cg;
typedef struct tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content;
typedef struct tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA;
typedef struct tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg;
typedef struct tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w;
typedef struct tySequence__qwqHTkRvwhrRyENtudHQ7g tySequence__qwqHTkRvwhrRyENtudHQ7g;
typedef struct tySequence__qwqHTkRvwhrRyENtudHQ7g_Content tySequence__qwqHTkRvwhrRyENtudHQ7g_Content;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tySequence__uFLLGQVsiasALrzzzvqnZw {
  NI len; tySequence__uFLLGQVsiasALrzzzvqnZw_Content* p;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ {
  tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw Sup;
};
struct tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q {
NI pos;
NI bitPos;
};
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ {
  NI len; tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content* p;
};
struct tyTuple__g72oAI9bUatEQoES4rNovMg {
tySequence__uFLLGQVsiasALrzzzvqnZw Field0;
tySequence__6H5Oh5UUvVCLiakt9aTwtUQ Field1;
};
typedef NU16 tyArray__FuLcipDkC4L7M5U89bz9cYKg[286];
typedef NU16 tyArray__w4pf2aeJoenCwuaCVUN3ig[30];
struct tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ {
tyArray__FuLcipDkC4L7M5U89bz9cYKg litLenFreq;
tyArray__w4pf2aeJoenCwuaCVUN3ig distanceFreq;
NI numLiterals;
};
struct tyObject_CompressionConfig__AhbBdSWZSuMmypMu0nNhnA {
NI good;
NI lazy;
NI nice;
NI chain;
};
typedef tyObject_CompressionConfig__AhbBdSWZSuMmypMu0nNhnA tyArray__racN06bx65ak4r9axpKhnpg[10];
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
};
struct tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ {
  RootObj Sup;
NI colonstate_;
NI codeLengthLimit1;
};
struct tySequence__EUxovw9aKWg8TzBK2P3p3cg {
  NI len; tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content* p;
};
struct tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA {
NI symbol;
NI freq;
tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* left;
tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* right;
};
struct tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w {
tySequence__EUxovw9aKWg8TzBK2P3p3cg data;
};
struct tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg {
  RootObj Sup;
NI colonstate_;
tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w heap1;
tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ* colonup_;
NIM_BOOL needsLengthLimiting3;
};
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level, void* ClE_0);
void* ClE_0;
} tyProc__fzSc9aSwYakUBQFBWfax9btQ;
typedef N_CLOSURE_PTR(void, TM__h0QljL12jgYltNO0arUYlA_7) (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level);
typedef N_CLOSURE_PTR(void, TM__h0QljL12jgYltNO0arUYlA_8) (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level);
typedef N_CLOSURE_PTR(void, TM__h0QljL12jgYltNO0arUYlA_9) (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level);
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClP_0) (tySequence__EUxovw9aKWg8TzBK2P3p3cg nodes, void* ClE_0);
void* ClE_0;
} tyProc__mfb38vgBMe9beepe7KC1Jjw;
typedef N_CLOSURE_PTR(NIM_BOOL, TM__h0QljL12jgYltNO0arUYlA_10) (tySequence__EUxovw9aKWg8TzBK2P3p3cg nodes);
struct tySequence__qwqHTkRvwhrRyENtudHQ7g {
  NI len; tySequence__qwqHTkRvwhrRyENtudHQ7g_Content* p;
};
typedef NU8 tyArray__qtqsWM5aXmcpMIVmvq3kAA[16];
typedef NU16 tyArray__C4LXewwYvv4lHcEgVwRSnQ[16];
typedef NU8 tyArray__xlWCPzzBd6QeB7sBMBCKgg[316];
typedef NU16 tyArray__Za8UWc9bSnVRkaQZp9cp5abg[19];
typedef NU8 tyArray__wBhHnWndyyi5SA1Gi8nMsg[19];
typedef NU8 tyArray__Xu3oxJynEoNYWLdMbzkWgw[29];
typedef NU16 tyArray__JGxY4jRKVLYBFHYRC0aqgw[29];
typedef NU8 tyArray__7lnYrpDEoa71dNXHF5y2HA[30];


#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
#define tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
#define tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content_PP
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
#define tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
struct tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content { NI cap; tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
#define tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
struct tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content { NI cap; tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
#define tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
struct tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content { NI cap; tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
#define tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content_PP
struct tySequence__EUxovw9aKWg8TzBK2P3p3cg_Content { NI cap; tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
#define tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
struct tySequence__qwqHTkRvwhrRyENtudHQ7g_Content { NI cap; NI data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
#define tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
struct tySequence__qwqHTkRvwhrRyENtudHQ7g_Content { NI cap; NI data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_2592)(NimStringV2* dest);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, addNoCompressionBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_647)(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q* b, NimStringV2* dst, NU8* src, NI blockStart, NI blockLen, NIM_BOOL finalBlock);
N_LIB_PRIVATE N_NIMCALL(void, addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62)(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q* b, NimStringV2* dst, NU32 value, NI bitLen);
N_LIB_PRIVATE N_NIMCALL(void, skipRemainingBitsInCurrentByte__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_87)(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q* b);
N_LIB_PRIVATE N_NIMCALL(void, addBytes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_80)(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q* b, NimStringV2* dst, NU8* src, NI srcPos, NI len);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264)(tySequence__uFLLGQVsiasALrzzzvqnZw* dest);
N_LIB_PRIVATE N_NIMCALL(void, encodeAllLiterals__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_608)(tySequence__uFLLGQVsiasALrzzzvqnZw* encoding, NI* ep, tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ* metadata, NU8* src, NI start, NI len);
N_LIB_PRIVATE N_NIMCALL(void, setLen__OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_185)(tySequence__uFLLGQVsiasALrzzzvqnZw* s, NI newlen);
N_LIB_PRIVATE N_NIMCALL(void, encodeSnappy__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZsnappy_327)(tySequence__uFLLGQVsiasALrzzzvqnZw* encoding, NI* ep, tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ* metadata, NU8* src, NI blockStart, NI blockLen);
N_LIB_PRIVATE N_NIMCALL(void, encodeLz77__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZlz5555_8)(tySequence__uFLLGQVsiasALrzzzvqnZw* encoding, NI* ep, tyObject_CompressionConfig__AhbBdSWZSuMmypMu0nNhnA config, tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ* metadata, NU8* src, NI blockStart, NI blockLen);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZtimes_1997)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_600)(tyTuple__g72oAI9bUatEQoES4rNovMg* dest, tyTuple__g72oAI9bUatEQoES4rNovMg src);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_267)(tySequence__uFLLGQVsiasALrzzzvqnZw* dest, tySequence__uFLLGQVsiasALrzzzvqnZw src);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___pureZtimes_2000)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* dest, tySequence__6H5Oh5UUvVCLiakt9aTwtUQ src);
N_LIB_PRIVATE N_NIMCALL(tyTuple__g72oAI9bUatEQoES4rNovMg, huffmanCodes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_18)(NU16* frequencies, NI frequenciesLen_0, NI minCodes, NI codeLengthLimit);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1235)(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ** dest);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p);
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p);
N_LIB_PRIVATE N_NIMCALL(tySequence__uFLLGQVsiasALrzzzvqnZw, newSeq__OOZfauZsrcZfauZbatch_560)(NI len);
N_LIB_PRIVATE N_NIMCALL(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ, newSeq__stdZsysrand_69)(NI len);
N_LIB_PRIVATE N_NIMCALL(void, add__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_76)(tySequence__EUxovw9aKWg8TzBK2P3p3cg* x, tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* value);
N_LIB_PRIVATE N_CLOSURE(NIM_BOOL, buildTree__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_155)(tySequence__EUxovw9aKWg8TzBK2P3p3cg nodes, void* ClE_0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1212)(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg** dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1185)(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_421)(tySequence__EUxovw9aKWg8TzBK2P3p3cg* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* dest);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1238)(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ** dest, tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ* src);
static N_INLINE(void, nimIncRef)(void* p);
N_LIB_PRIVATE N_NIMCALL(void, push__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_182)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w* heap, tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* item);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_131)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** dest, tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* src);
static N_INLINE(NI, len__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_196)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w heap);
N_LIB_PRIVATE N_NIMCALL(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA*, pop__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_250)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w* heap);
N_LIB_PRIVATE N_CLOSURE(void, walk__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_394)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level, void* ClE_0);
static N_INLINE(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**, X5BX5D___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_210)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w* heap, NI i);
N_LIB_PRIVATE N_NIMCALL(tySequence__qwqHTkRvwhrRyENtudHQ7g, newSeq__OOZOOZOOZOnimbleZpkgsZpolymorph4548O51O48ZpolymorphZprivateZutils_1358)(NI len);
N_LIB_PRIVATE N_NIMCALL(void, quickSort__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_498)(tySequence__EUxovw9aKWg8TzBK2P3p3cg* a, NI inl, NI inr);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpolymorph4548O51O48ZpolymorphZprivateZutils_894)(tySequence__qwqHTkRvwhrRyENtudHQ7g* dest);
N_LIB_PRIVATE N_NIMCALL(NU16, reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159)(NU16 x);
N_LIB_PRIVATE N_NIMCALL(void, add__pureZtimes_1922)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* x, NU8 value);
extern TNimTypeV2 NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_;
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__h0QljL12jgYltNO0arUYlA_2 = { 26 | NIM_STRLIT_FLAG, "Invalid compression level " };
static const NimStringV2 TM__h0QljL12jgYltNO0arUYlA_3 = {26, (NimStrPayload*)&TM__h0QljL12jgYltNO0arUYlA_2};
extern NIM_CONST tyArray__racN06bx65ak4r9axpKhnpg configurationTable__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_364;
static const struct {
  NI cap; NU16 data[288];
} TM__h0QljL12jgYltNO0arUYlA_5 = {288 | NIM_STRLIT_FLAG, {((NU16) 12),
((NU16) 140),
((NU16) 76),
((NU16) 204),
((NU16) 44),
((NU16) 172),
((NU16) 108),
((NU16) 236),
((NU16) 28),
((NU16) 156),
((NU16) 92),
((NU16) 220),
((NU16) 60),
((NU16) 188),
((NU16) 124),
((NU16) 252),
((NU16) 2),
((NU16) 130),
((NU16) 66),
((NU16) 194),
((NU16) 34),
((NU16) 162),
((NU16) 98),
((NU16) 226),
((NU16) 18),
((NU16) 146),
((NU16) 82),
((NU16) 210),
((NU16) 50),
((NU16) 178),
((NU16) 114),
((NU16) 242),
((NU16) 10),
((NU16) 138),
((NU16) 74),
((NU16) 202),
((NU16) 42),
((NU16) 170),
((NU16) 106),
((NU16) 234),
((NU16) 26),
((NU16) 154),
((NU16) 90),
((NU16) 218),
((NU16) 58),
((NU16) 186),
((NU16) 122),
((NU16) 250),
((NU16) 6),
((NU16) 134),
((NU16) 70),
((NU16) 198),
((NU16) 38),
((NU16) 166),
((NU16) 102),
((NU16) 230),
((NU16) 22),
((NU16) 150),
((NU16) 86),
((NU16) 214),
((NU16) 54),
((NU16) 182),
((NU16) 118),
((NU16) 246),
((NU16) 14),
((NU16) 142),
((NU16) 78),
((NU16) 206),
((NU16) 46),
((NU16) 174),
((NU16) 110),
((NU16) 238),
((NU16) 30),
((NU16) 158),
((NU16) 94),
((NU16) 222),
((NU16) 62),
((NU16) 190),
((NU16) 126),
((NU16) 254),
((NU16) 1),
((NU16) 129),
((NU16) 65),
((NU16) 193),
((NU16) 33),
((NU16) 161),
((NU16) 97),
((NU16) 225),
((NU16) 17),
((NU16) 145),
((NU16) 81),
((NU16) 209),
((NU16) 49),
((NU16) 177),
((NU16) 113),
((NU16) 241),
((NU16) 9),
((NU16) 137),
((NU16) 73),
((NU16) 201),
((NU16) 41),
((NU16) 169),
((NU16) 105),
((NU16) 233),
((NU16) 25),
((NU16) 153),
((NU16) 89),
((NU16) 217),
((NU16) 57),
((NU16) 185),
((NU16) 121),
((NU16) 249),
((NU16) 5),
((NU16) 133),
((NU16) 69),
((NU16) 197),
((NU16) 37),
((NU16) 165),
((NU16) 101),
((NU16) 229),
((NU16) 21),
((NU16) 149),
((NU16) 85),
((NU16) 213),
((NU16) 53),
((NU16) 181),
((NU16) 117),
((NU16) 245),
((NU16) 13),
((NU16) 141),
((NU16) 77),
((NU16) 205),
((NU16) 45),
((NU16) 173),
((NU16) 109),
((NU16) 237),
((NU16) 29),
((NU16) 157),
((NU16) 93),
((NU16) 221),
((NU16) 61),
((NU16) 189),
((NU16) 125),
((NU16) 253),
((NU16) 19),
((NU16) 275),
((NU16) 147),
((NU16) 403),
((NU16) 83),
((NU16) 339),
((NU16) 211),
((NU16) 467),
((NU16) 51),
((NU16) 307),
((NU16) 179),
((NU16) 435),
((NU16) 115),
((NU16) 371),
((NU16) 243),
((NU16) 499),
((NU16) 11),
((NU16) 267),
((NU16) 139),
((NU16) 395),
((NU16) 75),
((NU16) 331),
((NU16) 203),
((NU16) 459),
((NU16) 43),
((NU16) 299),
((NU16) 171),
((NU16) 427),
((NU16) 107),
((NU16) 363),
((NU16) 235),
((NU16) 491),
((NU16) 27),
((NU16) 283),
((NU16) 155),
((NU16) 411),
((NU16) 91),
((NU16) 347),
((NU16) 219),
((NU16) 475),
((NU16) 59),
((NU16) 315),
((NU16) 187),
((NU16) 443),
((NU16) 123),
((NU16) 379),
((NU16) 251),
((NU16) 507),
((NU16) 7),
((NU16) 263),
((NU16) 135),
((NU16) 391),
((NU16) 71),
((NU16) 327),
((NU16) 199),
((NU16) 455),
((NU16) 39),
((NU16) 295),
((NU16) 167),
((NU16) 423),
((NU16) 103),
((NU16) 359),
((NU16) 231),
((NU16) 487),
((NU16) 23),
((NU16) 279),
((NU16) 151),
((NU16) 407),
((NU16) 87),
((NU16) 343),
((NU16) 215),
((NU16) 471),
((NU16) 55),
((NU16) 311),
((NU16) 183),
((NU16) 439),
((NU16) 119),
((NU16) 375),
((NU16) 247),
((NU16) 503),
((NU16) 15),
((NU16) 271),
((NU16) 143),
((NU16) 399),
((NU16) 79),
((NU16) 335),
((NU16) 207),
((NU16) 463),
((NU16) 47),
((NU16) 303),
((NU16) 175),
((NU16) 431),
((NU16) 111),
((NU16) 367),
((NU16) 239),
((NU16) 495),
((NU16) 31),
((NU16) 287),
((NU16) 159),
((NU16) 415),
((NU16) 95),
((NU16) 351),
((NU16) 223),
((NU16) 479),
((NU16) 63),
((NU16) 319),
((NU16) 191),
((NU16) 447),
((NU16) 127),
((NU16) 383),
((NU16) 255),
((NU16) 511),
((NU16) 0),
((NU16) 64),
((NU16) 32),
((NU16) 96),
((NU16) 16),
((NU16) 80),
((NU16) 48),
((NU16) 112),
((NU16) 8),
((NU16) 72),
((NU16) 40),
((NU16) 104),
((NU16) 24),
((NU16) 88),
((NU16) 56),
((NU16) 120),
((NU16) 4),
((NU16) 68),
((NU16) 36),
((NU16) 100),
((NU16) 20),
((NU16) 84),
((NU16) 52),
((NU16) 116),
((NU16) 3),
((NU16) 131),
((NU16) 67),
((NU16) 195),
((NU16) 35),
((NU16) 163),
((NU16) 99),
((NU16) 227)}};
static const struct {
  NI cap; NU8 data[288];
} TM__h0QljL12jgYltNO0arUYlA_6 = {288 | NIM_STRLIT_FLAG, {((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 9),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 7),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8),
((NU8) 8)}};
static NIM_CONST tyTuple__g72oAI9bUatEQoES4rNovMg TM__h0QljL12jgYltNO0arUYlA_4 = {{288, (tySequence__uFLLGQVsiasALrzzzvqnZw_Content*)&TM__h0QljL12jgYltNO0arUYlA_5},
{288, (tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content*)&TM__h0QljL12jgYltNO0arUYlA_6}}
;
N_LIB_PRIVATE TNimTypeV2 NTIv2__vzzN4usw0czZCT6gYl6KaQ_;
N_LIB_PRIVATE TNimTypeV2 NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_;
static const struct {
  NI cap; NU16 data[30];
} TM__h0QljL12jgYltNO0arUYlA_12 = {30 | NIM_STRLIT_FLAG, {((NU16) 0),
((NU16) 16),
((NU16) 8),
((NU16) 24),
((NU16) 4),
((NU16) 20),
((NU16) 12),
((NU16) 28),
((NU16) 2),
((NU16) 18),
((NU16) 10),
((NU16) 26),
((NU16) 6),
((NU16) 22),
((NU16) 14),
((NU16) 30),
((NU16) 1),
((NU16) 17),
((NU16) 9),
((NU16) 25),
((NU16) 5),
((NU16) 21),
((NU16) 13),
((NU16) 29),
((NU16) 3),
((NU16) 19),
((NU16) 11),
((NU16) 27),
((NU16) 7),
((NU16) 23)}};
static const struct {
  NI cap; NU8 data[30];
} TM__h0QljL12jgYltNO0arUYlA_13 = {30 | NIM_STRLIT_FLAG, {((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5),
((NU8) 5)}};
static NIM_CONST tyTuple__g72oAI9bUatEQoES4rNovMg TM__h0QljL12jgYltNO0arUYlA_11 = {{30, (tySequence__uFLLGQVsiasALrzzzvqnZw_Content*)&TM__h0QljL12jgYltNO0arUYlA_12},
{30, (tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content*)&TM__h0QljL12jgYltNO0arUYlA_13}}
;
extern NIM_CONST tyArray__wBhHnWndyyi5SA1Gi8nMsg clclOrder__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_30;
extern NIM_CONST tyArray__Xu3oxJynEoNYWLdMbzkWgw baseLengthsExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_26;
extern NIM_CONST tyArray__JGxY4jRKVLYBFHYRC0aqgw baseLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_25;
extern NIM_CONST tyArray__7lnYrpDEoa71dNXHF5y2HA baseDistanceExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_29;
extern NIM_CONST tyArray__w4pf2aeJoenCwuaCVUN3ig baseDistances__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_28;
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__h0QljL12jgYltNO0arUYlA_14 = { 36 | NIM_STRLIT_FLAG, "Invalid buffer, unable to uncompress" };
static const NimStringV2 TM__h0QljL12jgYltNO0arUYlA_15 = {36, (NimStrPayload*)&TM__h0QljL12jgYltNO0arUYlA_14};
static const struct {
  NI cap; NIM_CHAR data[34+1];
} TM__h0QljL12jgYltNO0arUYlA_16 = { 34 | NIM_STRLIT_FLAG, "Unexpected error while compressing" };
static const NimStringV2 TM__h0QljL12jgYltNO0arUYlA_17 = {34, (NimStrPayload*)&TM__h0QljL12jgYltNO0arUYlA_16};
extern NIM_BOOL nimInErrorMode__system_3443;
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1709(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3443);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, addNoCompressionBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_647)(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q* b, NimStringV2* dst, NU8* src, NI blockStart, NI blockLen, NIM_BOOL finalBlock) {
	NI uncompressedBlockCount;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	uncompressedBlockCount = (((NI)((NI)((NI)(blockLen + ((NI) 65535)) - ((NI) 1)) / ((NI) 65535)) >= ((NI) 1)) ? (NI)((NI)((NI)(blockLen + ((NI) 65535)) - ((NI) 1)) / ((NI) 65535)) : ((NI) 1));
	{
		NI blockNum;
		NI i;
		blockNum = (NI)0;
		i = ((NI) 0);
		{
			while (1) {
				NI colontmpD_;
				NI colontmpD__2;
				NIM_BOOL uncompressedFinalBlock;
				NI uncompressedBlockStart;
				NI uncompressedBlockLen;
				NI T4_;
				if (!(i < uncompressedBlockCount)) goto LA3;
				colontmpD_ = (NI)0;
				colontmpD__2 = (NI)0;
				blockNum = i;
				uncompressedFinalBlock = (blockNum == (NI)(uncompressedBlockCount - ((NI) 1)));
				uncompressedBlockStart = (NI)(blockStart + (NI)(blockNum * ((NI) 65535)));
				uncompressedBlockLen = (((NI)((NI)(blockStart + blockLen) - uncompressedBlockStart) <= ((NI) 65535)) ? (NI)((NI)(blockStart + blockLen) - uncompressedBlockStart) : ((NI) 65535));
				T4_ = (NI)0;
				{
					NIM_BOOL T7_;
					T7_ = (NIM_BOOL)0;
					T7_ = finalBlock;
					if (!(T7_)) goto LA8_;
					T7_ = uncompressedFinalBlock;
					LA8_: ;
					if (!T7_) goto LA9_;
					colontmpD_ = ((NI) 1);
					T4_ = colontmpD_;
				}
				goto LA5_;
				LA9_: ;
				{
					colontmpD__2 = ((NI) 0);
					T4_ = colontmpD__2;
				}
				LA5_: ;
				addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62(b, dst, ((NU32) (T4_)), ((NI) 1));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62(b, dst, ((NU32) 0), ((NI) 2));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				skipRemainingBitsInCurrentByte__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_87(b);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62(b, dst, ((NU32) (((NU16) (uncompressedBlockLen)))), ((NI) 16));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62(b, dst, ((NU32) (((NU16) ((NI)(((NI) 65535) - uncompressedBlockLen))))), ((NI) 16));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					if (!(((NI) 0) < uncompressedBlockLen)) goto LA14_;
					addBytes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_80(b, dst, src, uncompressedBlockStart, uncompressedBlockLen);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				LA14_: ;
				i += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, encodeAllLiterals__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_608)(tySequence__uFLLGQVsiasALrzzzvqnZw* encoding, NI* ep, tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ* metadata, NU8* src, NI start, NI len) {
	NI colontmpD_;
	NI colontmpD__2;
	NI a;
	NI b;
	NI c;
	NI T4_;
	colontmpD_ = (NI)0;
	colontmpD__2 = (NI)0;
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				if (!(i_2 < len)) goto LA3;
				i = i_2;
				(*metadata).litLenFreq[(src[(NI)(start + i)])- 0] += ((NI) 1);
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	a = (NI)(len / ((NI) 32767));
	b = (NI)(len % ((NI) 32767));
	T4_ = (NI)0;
	{
		if (!(((NI) 0) < b)) goto LA7_;
		colontmpD_ = ((NI) 1);
		T4_ = colontmpD_;
	}
	goto LA5_;
	LA7_: ;
	{
		colontmpD__2 = ((NI) 0);
		T4_ = colontmpD__2;
	}
	LA5_: ;
	c = (NI)(a + T4_);
	{
		NI T12_;
		T12_ = (*encoding).len;
		if (!(T12_ < (NI)((*ep) + c))) goto LA13_;
		setLen__OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_185((&(*encoding)), ((NI) ((NI)((*ep) + c))));
	}
	LA13_: ;
	{
		NI i_3;
		NI i_4;
		i_3 = (NI)0;
		i_4 = ((NI) 0);
		{
			while (1) {
				if (!(i_4 < a)) goto LA17;
				i_3 = i_4;
				(*encoding).p->data[(*ep)] = ((NU16) 32767);
				(*ep) += ((NI) 1);
				i_4 += ((NI) 1);
			} LA17: ;
		}
	}
	{
		if (!(((NI) 0) < b)) goto LA20_;
		(*encoding).p->data[(*ep)] = ((NU16) (b));
		(*ep) += ((NI) 1);
	}
	LA20_: ;
	(*metadata).litLenFreq[(((NI) 256))- 0] = ((NU16) 1);
	(*metadata).numLiterals = len;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_600)(tyTuple__g72oAI9bUatEQoES4rNovMg* dest, tyTuple__g72oAI9bUatEQoES4rNovMg src) {
	eqcopy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_267((&(*dest).Field0), src.Field0);
	eqcopy___pureZtimes_2000((&(*dest).Field1), src.Field1);
}
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU32)(((NU) (x))) - (NU32)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 4));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			if (!((NI)((*cell).rc & ((NI) -8)) == ((NI) 0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
		LA8_: ;
		{
			(*cell).rc -= ((NI) 8);
		}
		LA6_: ;
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1235)(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ** dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest));
	}
	LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1212)(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg** dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest));
	}
	LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest).left);
		if (!T3_) goto LA4_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137((*dest).left);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest).left, ((NI) 4));
	}
	LA4_: ;
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = nimDecRefIsLast((*dest).right);
		if (!T8_) goto LA9_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137((*dest).right);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest).right, ((NI) 4));
	}
	LA9_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1185)(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg* dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_421((&(*dest).heap1.data));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest).colonup_);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest).colonup_);
	}
	LA4_: ;
	}BeforeRet_: ;
}
static N_INLINE(void, nimIncRef)(void* p) {
	NI T1_;
	T1_ = (NI)0;
	T1_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 4));
	(*((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T1_))).rc += ((NI) 8);
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1238)(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ** dest, tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ* src) {
	{
		if (!src) goto LA3_;
		nimIncRef(src);
	}
	LA3_: ;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = nimDecRefIsLast((*dest));
		if (!T7_) goto LA8_;
		nimDestroyAndDispose((*dest));
	}
	LA8_: ;
	(*dest) = src;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_131)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** dest, tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* src) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!src) goto LA3_;
		nimIncRef(src);
	}
	LA3_: ;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = nimDecRefIsLast((*dest));
		if (!T7_) goto LA8_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA8_: ;
	(*dest) = src;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_134)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** dest, tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* src) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
	(*dest) = src;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_128)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_137((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
	}BeforeRet_: ;
}
static N_INLINE(NI, len__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_196)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w heap) {
	NI result;
	NI T1_;
	result = (NI)0;
	T1_ = heap.data.len;
	result = T1_;
	return result;
}
N_LIB_PRIVATE N_CLOSURE(void, walk__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_394)(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node, NI level, void* ClE_0) {
	tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg* colonenvP_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colonenvP_ = (tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg*) ClE_0;
	{
		tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* colontmpD_;
		tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* colontmpD__2;
		tyProc__fzSc9aSwYakUBQFBWfax9btQ T5_;
		tyProc__fzSc9aSwYakUBQFBWfax9btQ T6_;
		if (!((*node).symbol == ((NI) -1))) goto LA3_;
		colontmpD_ = NIM_NIL;
		colontmpD__2 = NIM_NIL;
		colontmpD_ = 0;
		eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_131(&colontmpD_, (*node).left);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		push__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_182((&(*colonenvP_).heap1), colontmpD_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		colontmpD__2 = 0;
		eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_131(&colontmpD__2, (*node).right);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		push__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_182((&(*colonenvP_).heap1), colontmpD__2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimZeroMem((void*)(&T5_), sizeof(tyProc__fzSc9aSwYakUBQFBWfax9btQ));
		T5_.ClP_0 = walk__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_394; T5_.ClE_0 = colonenvP_;
		T5_.ClE_0? T5_.ClP_0((*node).left, (NI)(level + ((NI) 1)), T5_.ClE_0):((TM__h0QljL12jgYltNO0arUYlA_7)(T5_.ClP_0))((*node).left, (NI)(level + ((NI) 1)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimZeroMem((void*)(&T6_), sizeof(tyProc__fzSc9aSwYakUBQFBWfax9btQ));
		T6_.ClP_0 = walk__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_394; T6_.ClE_0 = colonenvP_;
		T6_.ClE_0? T6_.ClP_0((*node).right, (NI)(level + ((NI) 1)), T6_.ClE_0):((TM__h0QljL12jgYltNO0arUYlA_8)(T6_.ClP_0))((*node).right, (NI)(level + ((NI) 1)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA1_;
	LA3_: ;
	{
		(*node).freq = level;
		{
			if (!((*(*colonenvP_).colonup_).codeLengthLimit1 < level)) goto LA10_;
			(*colonenvP_).needsLengthLimiting3 = NIM_TRUE;
		}
		LA10_: ;
	}
	LA1_: ;
	}BeforeRet_: ;
}
static N_INLINE(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**, X5BX5D___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_210)(tyObject_HeapQueue__FOnNTPR3eA9aPeMaMvz062w* heap, NI i) {
	tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** result;
	result = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
	result = &(*heap).data.p->data[i];
	return result;
}
N_LIB_PRIVATE N_CLOSURE(NIM_BOOL, buildTree__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_155)(tySequence__EUxovw9aKWg8TzBK2P3p3cg nodes, void* ClE_0) {
	NIM_BOOL result;
	tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ* colonenvP_;
	tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg* colonenv_;
	tyProc__fzSc9aSwYakUBQFBWfax9btQ T9_;
	tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** T10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	colonenvP_ = (tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ*) ClE_0;
	colonenv_ = NIM_NIL;
	eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1212(&colonenv_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colonenv_ = (tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg*) nimNewObj(sizeof(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg), NIM_ALIGNOF(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg));
	(*colonenv_).Sup.m_type = (&NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_);
	eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1238(&(*colonenv_).colonup_, colonenvP_);
	(*colonenv_).needsLengthLimiting3 = (NIM_BOOL)0;
	{
		tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node;
		NI i;
		NI L;
		NI T2_;
		node = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
		i = ((NI) 0);
		T2_ = nodes.len;
		L = T2_;
		{
			while (1) {
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* colontmpD_;
				if (!(i < L)) goto LA4;
				colontmpD_ = NIM_NIL;
				node = &nodes.p->data[i];
				colontmpD_ = 0;
				eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_131(&colontmpD_, (*node));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				push__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_182((&(*colonenv_).heap1), colontmpD_);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				i += ((NI) 1);
			} LA4: ;
		}
	}
	{
		while (1) {
			NI T7_;
			tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* node_2;
			tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* T8_;
			tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* blitTmp;
			T7_ = (NI)0;
			T7_ = len__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_196((*colonenv_).heap1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!(((NI) 2) <= T7_)) goto LA6;
			node_2 = NIM_NIL;
			T8_ = NIM_NIL;
			T8_ = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA*) nimNewObj(sizeof(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA), NIM_ALIGNOF(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA));
			(*T8_).symbol = ((NI) -1);
			(*T8_).left = pop__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_250((&(*colonenv_).heap1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(*T8_).right = pop__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_250((&(*colonenv_).heap1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			node_2 = T8_;
			(*node_2).freq = (NI)((*(*node_2).left).freq + (*(*node_2).right).freq);
			blitTmp = node_2;
			push__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_182((&(*colonenv_).heap1), blitTmp);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA6: ;
	}
	nimZeroMem((void*)(&T9_), sizeof(tyProc__fzSc9aSwYakUBQFBWfax9btQ));
	T9_.ClP_0 = walk__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_394; T9_.ClE_0 = colonenv_;
	T10_ = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
	T10_ = X5BX5D___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_210((&(*colonenv_).heap1), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T9_.ClE_0? T9_.ClP_0((*T10_), ((NI) 0), T9_.ClE_0):((TM__h0QljL12jgYltNO0arUYlA_9)(T9_.ClP_0))((*T10_), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (*colonenv_).needsLengthLimiting3;
	eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1212(&colonenv_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, quickSort__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_498)(tySequence__EUxovw9aKWg8TzBK2P3p3cg* a, NI inl, NI inr) {
	NI r;
	NI l;
	NI n;
	NI p;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	r = inr;
	l = inl;
	n = (NI)((NI)(r - l) + ((NI) 1));
	{
		if (!(n < ((NI) 2))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	p = (*(*a).p->data[(NI)(l + (NI)((NI)(((NI) 3) * n) / ((NI) 4)))]).freq;
	{
		while (1) {
			if (!(l <= r)) goto LA6;
			{
				if (!((*(*a).p->data[l]).freq < p)) goto LA9_;
				l += ((NI) 1);
			}
			goto LA7_;
			LA9_: ;
			{
				if (!(p < (*(*a).p->data[r]).freq)) goto LA12_;
				r -= ((NI) 1);
			}
			goto LA7_;
			LA12_: ;
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* T15_;
				T15_ = NIM_NIL;
				T15_ = (*a).p->data[l];
				(*a).p->data[l] = (*a).p->data[r];
				(*a).p->data[r] = T15_;
				l += ((NI) 1);
				r -= ((NI) 1);
			}
			LA7_: ;
		} LA6: ;
	}
	quickSort__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_498(a, inl, r);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	quickSort__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_498(a, l, inr);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__g72oAI9bUatEQoES4rNovMg, huffmanCodes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_18)(NU16* frequencies, NI frequenciesLen_0, NI minCodes, NI codeLengthLimit) {
	tyTuple__g72oAI9bUatEQoES4rNovMg result;
	tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ* colonenv_;
	tySequence__uFLLGQVsiasALrzzzvqnZw codes;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ lengths;
	NI highestSymbol;
	NI numSymbolsUsed;
	NI numCodes;
NIM_BOOL oldNimErrFin29_;
	tyArray__qtqsWM5aXmcpMIVmvq3kAA histogram;
	tyArray__C4LXewwYvv4lHcEgVwRSnQ nextCode;
	tySequence__uFLLGQVsiasALrzzzvqnZw blitTmp;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ blitTmp_2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
	colonenv_ = NIM_NIL;
	codes.len = 0; codes.p = NIM_NIL;
	lengths.len = 0; lengths.p = NIM_NIL;
	eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1235(&colonenv_);
	colonenv_ = (tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ*) nimNewObj(sizeof(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ), NIM_ALIGNOF(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ));
	(*colonenv_).Sup.m_type = (&NTIv2__vzzN4usw0czZCT6gYl6KaQ_);
	(*colonenv_).codeLengthLimit1 = codeLengthLimit;
	highestSymbol = (NI)0;
	numSymbolsUsed = (NI)0;
	{
		NI symbol;
		NU16 freq;
		NI i;
		symbol = (NI)0;
		freq = (NU16)0;
		i = ((NI) 0);
		{
			while (1) {
				if (!(i < frequenciesLen_0)) goto LA4;
				symbol = i;
				freq = frequencies[i];
				{
					if (!((NU16)(((NU16) 0)) < (NU16)(freq))) goto LA7_;
					highestSymbol = symbol;
					numSymbolsUsed += ((NI) 1);
				}
				LA7_: ;
				i += ((NI) 1);
			} LA4: ;
		}
	}
	numCodes = (NI)(((highestSymbol >= minCodes) ? highestSymbol : minCodes) + ((NI) 1));
	codes = newSeq__OOZfauZsrcZfauZbatch_560(((NI) (numCodes)));
	lengths = newSeq__stdZsysrand_69(((NI) (numCodes)));
	{
		if (!(numSymbolsUsed == ((NI) 0))) goto LA11_;
		lengths.p->data[((NI) 0)] = ((NU8) 1);
		lengths.p->data[((NI) 1)] = ((NU8) 1);
	}
	goto LA9_;
	LA11_: ;
	{
		if (!(numSymbolsUsed == ((NI) 1))) goto LA14_;
		{
			NI i_2;
			NU16 freq_2;
			NI i_3;
			i_2 = (NI)0;
			freq_2 = (NU16)0;
			i_3 = ((NI) 0);
			{
				while (1) {
					if (!(i_3 < frequenciesLen_0)) goto LA18;
					i_2 = i_3;
					freq_2 = frequencies[i_3];
					{
						if (!!((freq_2 == ((NU16) 0)))) goto LA21_;
						lengths.p->data[i_2] = ((NU8) 1);
						{
							if (!(i_2 == ((NI) 0))) goto LA25_;
							lengths.p->data[((NI) 1)] = ((NU8) 1);
						}
						goto LA23_;
						LA25_: ;
						{
							lengths.p->data[((NI) 0)] = ((NU8) 1);
						}
						LA23_: ;
						goto LA16;
					}
					LA21_: ;
					i_3 += ((NI) 1);
				} LA18: ;
			}
		} LA16: ;
	}
	goto LA9_;
	LA14_: ;
	{
		tySequence__EUxovw9aKWg8TzBK2P3p3cg nodes;
		NIM_BOOL needsLengthLimiting;
		tyProc__mfb38vgBMe9beepe7KC1Jjw T38_;
		nodes.len = 0; nodes.p = NIM_NIL;
		{
			NI symbol_2;
			NU16 freq_3;
			NI i_4;
			symbol_2 = (NI)0;
			freq_3 = (NU16)0;
			i_4 = ((NI) 0);
			{
				while (1) {
					if (!(i_4 < frequenciesLen_0)) goto LA32;
					symbol_2 = i_4;
					freq_3 = frequencies[i_4];
					{
						tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA* T37_;
						if (!((NU16)(((NU16) 0)) < (NU16)(freq_3))) goto LA35_;
						T37_ = NIM_NIL;
						T37_ = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA*) nimNewObj(sizeof(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA), NIM_ALIGNOF(tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA));
						(*T37_).symbol = symbol_2;
						(*T37_).freq = ((NI) (freq_3));
						add__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_76((&nodes), T37_);
					}
					LA35_: ;
					i_4 += ((NI) 1);
				} LA32: ;
			}
		}
		nimZeroMem((void*)(&T38_), sizeof(tyProc__mfb38vgBMe9beepe7KC1Jjw));
		T38_.ClP_0 = buildTree__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_155; T38_.ClE_0 = colonenv_;
		needsLengthLimiting = T38_.ClE_0? T38_.ClP_0(nodes, T38_.ClE_0):((TM__h0QljL12jgYltNO0arUYlA_10)(T38_.ClP_0))(nodes);
		if (NIM_UNLIKELY(*nimErr_)) goto LA29_;
		{
			if (!!(needsLengthLimiting)) goto LA41_;
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node;
				NI i_5;
				NI L;
				NI T44_;
				node = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
				i_5 = ((NI) 0);
				T44_ = nodes.len;
				L = T44_;
				{
					while (1) {
						if (!(i_5 < L)) goto LA46;
						node = &nodes.p->data[i_5];
						lengths.p->data[(*(*node)).symbol] = ((NU8) ((*(*node)).freq));
						i_5 += ((NI) 1);
					} LA46: ;
				}
			}
		}
		goto LA39_;
		LA41_: ;
		{
			tySequence__qwqHTkRvwhrRyENtudHQ7g histogramNumBits;
			NI maxLength;
			NI i_8;
			NI T68_;
			NI bitLen;
			histogramNumBits.len = 0; histogramNumBits.p = NIM_NIL;
			maxLength = (NI)0;
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node_2;
				NI i_6;
				NI L_2;
				NI T50_;
				node_2 = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
				i_6 = ((NI) 0);
				T50_ = nodes.len;
				L_2 = T50_;
				{
					while (1) {
						if (!(i_6 < L_2)) goto LA52;
						node_2 = &nodes.p->data[i_6];
						maxLength = ((maxLength >= (*(*node_2)).freq) ? maxLength : (*(*node_2)).freq);
						i_6 += ((NI) 1);
					} LA52: ;
				}
			}
			histogramNumBits = newSeq__OOZOOZOOZOnimbleZpkgsZpolymorph4548O51O48ZpolymorphZprivateZutils_1358(((NI) ((NI)(maxLength + ((NI) 1)))));
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node_3;
				NI i_7;
				NI L_3;
				NI T54_;
				node_3 = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
				i_7 = ((NI) 0);
				T54_ = nodes.len;
				L_3 = T54_;
				{
					while (1) {
						if (!(i_7 < L_3)) goto LA56;
						node_3 = &nodes.p->data[i_7];
						histogramNumBits.p->data[(*(*node_3)).freq] += ((NI) 1);
						i_7 += ((NI) 1);
					} LA56: ;
				}
			}
			i_8 = maxLength;
			{
				while (1) {
					if (!((*colonenv_).codeLengthLimit1 < i_8)) goto LA58;
					{
						NI j;
						{
							if (!(histogramNumBits.p->data[i_8] == ((NI) 0))) goto LA62_;
							i_8 -= ((NI) 1);
							goto LA59;
						}
						LA62_: ;
						j = (NI)(i_8 - ((NI) 2));
						{
							while (1) {
								NIM_BOOL T66_;
								T66_ = (NIM_BOOL)0;
								T66_ = (((NI) 0) < j);
								if (!(T66_)) goto LA67_;
								T66_ = (histogramNumBits.p->data[j] == ((NI) 0));
								LA67_: ;
								if (!T66_) goto LA65;
								j -= ((NI) 1);
							} LA65: ;
						}
						histogramNumBits.p->data[i_8] -= ((NI) 2);
						histogramNumBits.p->data[(NI)(i_8 - ((NI) 1))] += ((NI) 1);
						histogramNumBits.p->data[(NI)(j + ((NI) 1))] += ((NI) 2);
						histogramNumBits.p->data[j] -= ((NI) 1);
					} LA59: ;
				} LA58: ;
			}
			T68_ = (nodes.len-1);
			quickSort__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_498((&nodes), ((NI) 0), T68_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA48_;
			bitLen = ((NI) 1);
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node_4;
				NI i_9;
				NI L_4;
				NI T70_;
				node_4 = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
				i_9 = ((NI) 0);
				T70_ = nodes.len;
				L_4 = T70_;
				{
					while (1) {
						if (!(i_9 < L_4)) goto LA72;
						node_4 = &nodes.p->data[i_9];
						{
							while (1) {
								if (!(histogramNumBits.p->data[bitLen] == ((NI) 0))) goto LA74;
								{
									bitLen += ((NI) 1);
									goto LA75;
								} LA75: ;
							} LA74: ;
						}
						(*(*node_4)).freq = bitLen;
						histogramNumBits.p->data[bitLen] -= ((NI) 1);
						i_9 += ((NI) 1);
					} LA72: ;
				}
			}
			{
				tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA** node_5;
				NI i_10;
				NI L_5;
				NI T77_;
				node_5 = (tyObject_NodecolonObjectType___N1uU1VkP4jOQ2UwVAwvGFA**)0;
				i_10 = ((NI) 0);
				T77_ = nodes.len;
				L_5 = T77_;
				{
					while (1) {
						if (!(i_10 < L_5)) goto LA79;
						node_5 = &nodes.p->data[i_10];
						lengths.p->data[(*(*node_5)).symbol] = ((NU8) ((*(*node_5)).freq));
						i_10 += ((NI) 1);
					} LA79: ;
				}
			}
			{
				LA48_:;
			}
			{
				eqdestroy___OOZOOZOOZOnimbleZpkgsZpolymorph4548O51O48ZpolymorphZprivateZutils_894((&histogramNumBits));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA29_;
		}
		LA39_: ;
		{
			LA29_:;
		}
		{
			oldNimErrFin29_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_421((&nodes));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			*nimErr_ = oldNimErrFin29_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA9_: ;
	nimZeroMem((void*)histogram, sizeof(tyArray__qtqsWM5aXmcpMIVmvq3kAA));
	{
		NU8* l;
		NI i_11;
		NI L_6;
		NI T85_;
		l = (NU8*)0;
		i_11 = ((NI) 0);
		T85_ = lengths.len;
		L_6 = T85_;
		{
			while (1) {
				if (!(i_11 < L_6)) goto LA87;
				l = (&lengths.p->data[i_11]);
				histogram[((*l))- 0] += ((NI) 1);
				i_11 += ((NI) 1);
			} LA87: ;
		}
	}
	histogram[(((NI) 0))- 0] = ((NU8) 0);
	nimZeroMem((void*)nextCode, sizeof(tyArray__C4LXewwYvv4lHcEgVwRSnQ));
	{
		NI i_12;
		NI res;
		i_12 = (NI)0;
		res = ((NI) 1);
		{
			while (1) {
				if (!(res <= ((NI) 15))) goto LA90;
				i_12 = res;
				nextCode[(i_12)- 0] = (NU16)((NU32)((NU16)((NU16)(nextCode[((NI)(i_12 - ((NI) 1)))- 0]) + (NU16)(((NU16) (histogram[((NI)(i_12 - ((NI) 1)))- 0]))))) << (NU32)(((NI) 1)));
				res += ((NI) 1);
			} LA90: ;
		}
	}
	{
		NI i_13;
		NI colontmp_;
		NI T92_;
		NI i_14;
		i_13 = (NI)0;
		colontmp_ = (NI)0;
		T92_ = codes.len;
		colontmp_ = T92_;
		i_14 = ((NI) 0);
		{
			while (1) {
				if (!(i_14 < colontmp_)) goto LA94;
				i_13 = i_14;
				{
					NU16 T99_;
					if (!!((lengths.p->data[i_13] == ((NU8) 0)))) goto LA97_;
					T99_ = (NU16)0;
					T99_ = reverseBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_159(nextCode[(lengths.p->data[i_13])- 0]);
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					codes.p->data[i_13] = (NU16)((NU16)(T99_) >> (NU16)((NU8)((NU8)(((NU8) 16)) - (NU8)(lengths.p->data[i_13]))));
					nextCode[(lengths.p->data[i_13])- 0] += ((NI) 1);
				}
				LA97_: ;
				i_14 += ((NI) 1);
			} LA94: ;
		}
	}
	blitTmp = codes;
	result.Field0 = blitTmp;
	blitTmp_2 = lengths;
	result.Field1 = blitTmp_2;
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1235(&colonenv_);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, deflate__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_663)(NimStringV2* dst, NU8* src, NI len, NI level) {
	tySequence__uFLLGQVsiasALrzzzvqnZw encoding;
	tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q b;
	NI blockCount_2;
	NI encodingLen;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	encoding.len = 0; encoding.p = NIM_NIL;
	{
		NIM_BOOL T4_;
		NimStringV2 colontmpD_;
		tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T9_;
		NimStringV2 T10_;
		T4_ = (NIM_BOOL)0;
		T4_ = (level < ((NI) -2));
		if (T4_) goto LA5_;
		T4_ = (((NI) 9) < level);
		LA5_: ;
		if (!T4_) goto LA6_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		T9_ = NIM_NIL;
		T9_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
		(*T9_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
		(*T9_).Sup.Sup.Sup.name = "ZippyError";
		T10_.len = 0; T10_.p = NIM_NIL;
		colontmpD_ = dollar___systemZdollars_3(level);
		if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
		T10_ = rawNewString(colontmpD_.len + 26);
appendString((&T10_), TM__h0QljL12jgYltNO0arUYlA_3);
appendString((&T10_), colontmpD_);
		(*T9_).Sup.Sup.Sup.message = T10_;
		(*T9_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T9_, "ZippyError", "deflate", "deflate.nim", 222);
		goto LA8_;
		{
			LA8_:;
		}
		{
			eqdestroy___system_2592((&colontmpD_));
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA6_: ;
	nimZeroMem((void*)(&b), sizeof(tyObject_BitStreamWriter__1wup4ILzCvMbiIj79cz1B4Q));
	b.pos = (*dst).len;
	{
		NI blockCount;
		if (!(level == ((NI) 0))) goto LA15_;
		blockCount = (((NI)((NI)((NI)(len + ((NI) 65535)) - ((NI) 1)) / ((NI) 65535)) >= ((NI) 1)) ? (NI)((NI)((NI)(len + ((NI) 65535)) - ((NI) 1)) / ((NI) 65535)) : ((NI) 1));
		{
			NI blockNum;
			NI i;
			blockNum = (NI)0;
			i = ((NI) 0);
			{
				while (1) {
					NIM_BOOL finalBlock;
					NI blockStart;
					NI blockLen;
					if (!(i < blockCount)) goto LA19;
					blockNum = i;
					finalBlock = (blockNum == (NI)(blockCount - ((NI) 1)));
					blockStart = (NI)(blockNum * ((NI) 65535));
					blockLen = (((NI)(len - blockStart) <= ((NI) 65535)) ? (NI)(len - blockStart) : ((NI) 65535));
					addNoCompressionBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_647((&b), dst, src, blockStart, blockLen, finalBlock);
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					i += ((NI) 1);
				} LA19: ;
			}
		}
		setLengthStrV2((&(*dst)), ((NI) (b.pos)));
		eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&encoding));
		goto BeforeRet_;
	}
	LA15_: ;
	blockCount_2 = (((NI)((NI)((NI)(len + ((NI) 4194304)) - ((NI) 1)) / ((NI) 4194304)) >= ((NI) 1)) ? (NI)((NI)((NI)(len + ((NI) 4194304)) - ((NI) 1)) / ((NI) 4194304)) : ((NI) 1));
	encodingLen = (NI)0;
	{
		NI blockNum_2;
		NI i_2;
		blockNum_2 = (NI)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				if (!(i_2 < blockCount_2)) goto LA22;
				blockNum_2 = i_2;
				{
					tyTuple__g72oAI9bUatEQoES4rNovMg colontmp_;
					tySequence__uFLLGQVsiasALrzzzvqnZw litLenCodes;
					tySequence__6H5Oh5UUvVCLiakt9aTwtUQ litLenCodeLengths;
					tyTuple__g72oAI9bUatEQoES4rNovMg colontmp__2;
					tySequence__uFLLGQVsiasALrzzzvqnZw distanceCodes;
					tySequence__6H5Oh5UUvVCLiakt9aTwtUQ distanceCodeLengths;
					NI blockStart_2;
					NI blockLen_2;
					NIM_BOOL finalBlock_2;
					tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ metadata;
					NIM_BOOL useFixedCodes;
					NIM_BOOL T40_;
					tyTuple__g72oAI9bUatEQoES4rNovMg T42_;
					tyTuple__g72oAI9bUatEQoES4rNovMg T50_;
					nimZeroMem((void*)(&colontmp_), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
					litLenCodes.len = 0; litLenCodes.p = NIM_NIL;
					litLenCodeLengths.len = 0; litLenCodeLengths.p = NIM_NIL;
					nimZeroMem((void*)(&colontmp__2), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
					distanceCodes.len = 0; distanceCodes.p = NIM_NIL;
					distanceCodeLengths.len = 0; distanceCodeLengths.p = NIM_NIL;
					blockStart_2 = (NI)(blockNum_2 * ((NI) 4194304));
					blockLen_2 = (((NI)(len - blockStart_2) <= ((NI) 4194304)) ? (NI)(len - blockStart_2) : ((NI) 4194304));
					finalBlock_2 = (blockNum_2 == (NI)(blockCount_2 - ((NI) 1)));
					encodingLen = ((NI) 0);
					nimZeroMem((void*)(&metadata), sizeof(tyObject_BlockMetadata__TLymcdLvh6woWWQYHaKqoQ));
					switch (level) {
					case ((NI) -2):
					{
						encodeAllLiterals__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_608((&encoding), (&encodingLen), (&metadata), src, blockStart_2, blockLen_2);
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					break;
					case ((NI) 1):
					{
						encodeSnappy__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZsnappy_327((&encoding), (&encodingLen), (&metadata), src, blockStart_2, blockLen_2);
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					break;
					default:
					{
						NI colontmpD__2;
						NI colontmpD__3;
						NI T28_;
						colontmpD__2 = (NI)0;
						colontmpD__3 = (NI)0;
						T28_ = (NI)0;
						{
							if (!(level == ((NI) -1))) goto LA31_;
							colontmpD__2 = ((NI) 6);
							T28_ = colontmpD__2;
						}
						goto LA29_;
						LA31_: ;
						{
							colontmpD__3 = level;
							T28_ = colontmpD__3;
						}
						LA29_: ;
						encodeLz77__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZlz5555_8((&encoding), (&encodingLen), configurationTable__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_364[(T28_)- 0], (&metadata), src, blockStart_2, blockLen_2);
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					break;
					}
					{
						NIM_BOOL T36_;
						T36_ = (NIM_BOOL)0;
						T36_ = !((level == ((NI) -2)));
						if (!(T36_)) goto LA37_;
						T36_ = (((NI) (((NF)(((NF) (((NF32) (blockLen_2))))) * (NF)(0.98)))) <= metadata.numLiterals);
						LA37_: ;
						if (!T36_) goto LA38_;
						addNoCompressionBlock__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_647((&b), dst, src, blockStart_2, blockLen_2, finalBlock_2);
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						eqdestroy___pureZtimes_1997((&distanceCodeLengths));
						eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&distanceCodes));
						eqdestroy___pureZtimes_1997((&litLenCodeLengths));
						eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&litLenCodes));
						goto LA23;
					}
					LA38_: ;
					T40_ = (NIM_BOOL)0;
					T40_ = (level <= ((NI) 6));
					if (!(T40_)) goto LA41_;
					T40_ = (blockLen_2 <= ((NI) 2048));
					LA41_: ;
					useFixedCodes = T40_;
					nimZeroMem((void*)(&colontmp_), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
					{
						tyTuple__g72oAI9bUatEQoES4rNovMg T44_;
						{
							tyTuple__g72oAI9bUatEQoES4rNovMg colontmpD__4;
							if (!useFixedCodes) goto LA47_;
							nimZeroMem((void*)(&colontmpD__4), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
							nimZeroMem((void*)(&colontmpD__4), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
							eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_600((&colontmpD__4), TM__h0QljL12jgYltNO0arUYlA_4);
							colontmp_ = colontmpD__4;
						}
						goto LA45_;
						LA47_: ;
						{
							colontmp_ = huffmanCodes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_18(metadata.litLenFreq, 286, ((NI) 257), ((NI) 15));
							if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						}
						LA45_: ;
					}
					litLenCodes = colontmp_.Field0;
					litLenCodeLengths = colontmp_.Field1;
					nimZeroMem((void*)(&colontmp__2), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
					{
						tyTuple__g72oAI9bUatEQoES4rNovMg T52_;
						{
							tyTuple__g72oAI9bUatEQoES4rNovMg colontmpD__5;
							if (!useFixedCodes) goto LA55_;
							nimZeroMem((void*)(&colontmpD__5), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
							nimZeroMem((void*)(&colontmpD__5), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
							eqcopy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_600((&colontmpD__5), TM__h0QljL12jgYltNO0arUYlA_11);
							colontmp__2 = colontmpD__5;
						}
						goto LA53_;
						LA55_: ;
						{
							colontmp__2 = huffmanCodes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_18(metadata.distanceFreq, 30, ((NI) 2), ((NI) 15));
							if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						}
						LA53_: ;
					}
					distanceCodes = colontmp__2.Field0;
					distanceCodeLengths = colontmp__2.Field1;
					{
						NI colontmpD__6;
						NI colontmpD__7;
						NI T62_;
						if (!useFixedCodes) goto LA60_;
						colontmpD__6 = (NI)0;
						colontmpD__7 = (NI)0;
						T62_ = (NI)0;
						{
							if (!finalBlock_2) goto LA65_;
							colontmpD__6 = ((NI) 1);
							T62_ = colontmpD__6;
						}
						goto LA63_;
						LA65_: ;
						{
							colontmpD__7 = ((NI) 0);
							T62_ = colontmpD__7;
						}
						LA63_: ;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (T62_)), ((NI) 1));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) 1), ((NI) 2));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					goto LA58_;
					LA60_: ;
					{
						tySequence__6H5Oh5UUvVCLiakt9aTwtUQ codeLengthsRle;
						tyTuple__g72oAI9bUatEQoES4rNovMg colontmp__3;
						tySequence__uFLLGQVsiasALrzzzvqnZw clCodes;
						tySequence__6H5Oh5UUvVCLiakt9aTwtUQ clCodeLengths;
						NI colontmpD__8;
						NI colontmpD__9;
						tyArray__xlWCPzzBd6QeB7sBMBCKgg codeLengths;
						NI numCodes;
						NI T69_;
						NI T70_;
						tyArray__Za8UWc9bSnVRkaQZp9cp5abg clFreq;
						tyArray__Za8UWc9bSnVRkaQZp9cp5abg clclOrdered;
						NI hclen;
						NI hlit;
						NI T125_;
						NI hdist;
						NI T126_;
						NI T127_;
						codeLengthsRle.len = 0; codeLengthsRle.p = NIM_NIL;
						nimZeroMem((void*)(&colontmp__3), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
						clCodes.len = 0; clCodes.p = NIM_NIL;
						clCodeLengths.len = 0; clCodeLengths.p = NIM_NIL;
						colontmpD__8 = (NI)0;
						colontmpD__9 = (NI)0;
						nimZeroMem((void*)codeLengths, sizeof(tyArray__xlWCPzzBd6QeB7sBMBCKgg));
						T69_ = litLenCodes.len;
						T70_ = distanceCodes.len;
						numCodes = (NI)(T69_ + T70_);
						{
							NI cli;
							cli = (NI)0;
							{
								NI i_3;
								NI colontmp__4;
								NI T73_;
								NI i_4;
								i_3 = (NI)0;
								colontmp__4 = (NI)0;
								T73_ = litLenCodes.len;
								colontmp__4 = T73_;
								i_4 = ((NI) 0);
								{
									while (1) {
										if (!(i_4 < colontmp__4)) goto LA75;
										i_3 = i_4;
										codeLengths[(cli)- 0] = litLenCodeLengths.p->data[i_3];
										cli += ((NI) 1);
										i_4 += ((NI) 1);
									} LA75: ;
								}
							}
							{
								NI i_5;
								NI colontmp__5;
								NI T77_;
								NI i_6;
								i_5 = (NI)0;
								colontmp__5 = (NI)0;
								T77_ = distanceCodes.len;
								colontmp__5 = T77_;
								i_6 = ((NI) 0);
								{
									while (1) {
										if (!(i_6 < colontmp__5)) goto LA79;
										i_5 = i_6;
										codeLengths[(cli)- 0] = distanceCodeLengths.p->data[i_5];
										cli += ((NI) 1);
										i_6 += ((NI) 1);
									} LA79: ;
								}
							}
						}
						codeLengthsRle.len = 0; codeLengthsRle.p = NIM_NIL;
						{
							NI i_7;
							i_7 = (NI)0;
							{
								while (1) {
									NI repeatCount;
									if (!(i_7 < numCodes)) goto LA82;
									repeatCount = (NI)0;
									{
										while (1) {
											NIM_BOOL T85_;
											T85_ = (NIM_BOOL)0;
											T85_ = ((NI)((NI)(i_7 + repeatCount) + ((NI) 1)) < numCodes);
											if (!(T85_)) goto LA86_;
											T85_ = (codeLengths[((NI)((NI)(i_7 + repeatCount) + ((NI) 1)))- 0] == codeLengths[(i_7)- 0]);
											LA86_: ;
											if (!T85_) goto LA84;
											repeatCount += ((NI) 1);
										} LA84: ;
									}
									{
										NIM_BOOL T89_;
										T89_ = (NIM_BOOL)0;
										T89_ = (codeLengths[(i_7)- 0] == ((NU8) 0));
										if (!(T89_)) goto LA90_;
										T89_ = (((NI) 2) <= repeatCount);
										LA90_: ;
										if (!T89_) goto LA91_;
										repeatCount += ((NI) 1);
										{
											if (!(repeatCount <= ((NI) 10))) goto LA95_;
											add__pureZtimes_1922((&codeLengthsRle), ((NI) 17));
											add__pureZtimes_1922((&codeLengthsRle), (NU8)((NU8)(((NU8) (repeatCount))) - (NU8)(((NU8) 3))));
										}
										goto LA93_;
										LA95_: ;
										{
											repeatCount = ((repeatCount <= ((NI) 138)) ? repeatCount : ((NI) 138));
											add__pureZtimes_1922((&codeLengthsRle), ((NI) 18));
											add__pureZtimes_1922((&codeLengthsRle), (NU8)((NU8)(((NU8) (repeatCount))) - (NU8)(((NU8) 11))));
										}
										LA93_: ;
										i_7 += (NI)(repeatCount - ((NI) 1));
									}
									goto LA87_;
									LA91_: ;
									{
										NU8 colontmpD__10;
										NI a;
										NI b_2;
										if (!(((NI) 3) <= repeatCount)) goto LA99_;
										colontmpD__10 = (NU8)0;
										a = (NI)(repeatCount / ((NI) 6));
										b_2 = (NI)(repeatCount % ((NI) 6));
										colontmpD__10 = codeLengths[(i_7)- 0];
										add__pureZtimes_1922((&codeLengthsRle), colontmpD__10);
										{
											NI j;
											NI i_8;
											j = (NI)0;
											i_8 = ((NI) 0);
											{
												while (1) {
													if (!(i_8 < a)) goto LA103;
													j = i_8;
													add__pureZtimes_1922((&codeLengthsRle), ((NI) 16));
													add__pureZtimes_1922((&codeLengthsRle), ((NI) 3));
													i_8 += ((NI) 1);
												} LA103: ;
											}
										}
										{
											if (!(((NI) 3) <= b_2)) goto LA106_;
											add__pureZtimes_1922((&codeLengthsRle), ((NI) 16));
											add__pureZtimes_1922((&codeLengthsRle), (NU8)((NU8)(((NU8) (b_2))) - (NU8)(((NU8) 3))));
										}
										goto LA104_;
										LA106_: ;
										{
											repeatCount -= b_2;
										}
										LA104_: ;
										i_7 += repeatCount;
									}
									goto LA87_;
									LA99_: ;
									{
										NU8 colontmpD__11;
										colontmpD__11 = (NU8)0;
										colontmpD__11 = codeLengths[(i_7)- 0];
										add__pureZtimes_1922((&codeLengthsRle), colontmpD__11);
									}
									LA87_: ;
									i_7 += ((NI) 1);
								} LA82: ;
							}
						}
						nimZeroMem((void*)clFreq, sizeof(tyArray__Za8UWc9bSnVRkaQZp9cp5abg));
						{
							NI i_9;
							i_9 = (NI)0;
							{
								while (1) {
									NI T113_;
									T113_ = codeLengthsRle.len;
									if (!(i_9 < T113_)) goto LA112;
									clFreq[(codeLengthsRle.p->data[i_9])- 0] += ((NI) 1);
									{
										if (!((NU8)(((NU8) 16)) <= (NU8)(codeLengthsRle.p->data[i_9]))) goto LA116_;
										i_9 += ((NI) 1);
									}
									LA116_: ;
									i_9 += ((NI) 1);
								} LA112: ;
							}
						}
						nimZeroMem((void*)(&colontmp__3), sizeof(tyTuple__g72oAI9bUatEQoES4rNovMg));
						colontmp__3 = huffmanCodes__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_18(clFreq, 19, ((NI) 19), ((NI) 7));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						clCodes = colontmp__3.Field0;
						clCodeLengths = colontmp__3.Field1;
						nimZeroMem((void*)clclOrdered, sizeof(tyArray__Za8UWc9bSnVRkaQZp9cp5abg));
						{
							NI i_10;
							NI i_11;
							i_10 = (NI)0;
							i_11 = ((NI) 0);
							{
								while (1) {
									if (!(i_11 < ((NI) 19))) goto LA120;
									i_10 = i_11;
									clclOrdered[(i_10)- 0] = ((NU16) (clCodeLengths.p->data[clclOrder__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_30[(i_10)- 0]]));
									i_11 += ((NI) 1);
								} LA120: ;
							}
						}
						hclen = ((NI) 19);
						{
							while (1) {
								NIM_BOOL T123_;
								T123_ = (NIM_BOOL)0;
								T123_ = (clclOrdered[((NI)(hclen - ((NI) 1)))- 0] == ((NU16) 0));
								if (!(T123_)) goto LA124_;
								T123_ = NIM_TRUE;
								LA124_: ;
								if (!T123_) goto LA122;
								hclen -= ((NI) 1);
							} LA122: ;
						}
						hclen -= ((NI) 4);
						T125_ = litLenCodes.len;
						hlit = (NI)(T125_ - ((NI) 257));
						T126_ = distanceCodes.len;
						hdist = (NI)(T126_ - ((NI) 1));
						T127_ = (NI)0;
						{
							if (!finalBlock_2) goto LA130_;
							colontmpD__8 = ((NI) 1);
							T127_ = colontmpD__8;
						}
						goto LA128_;
						LA130_: ;
						{
							colontmpD__9 = ((NI) 0);
							T127_ = colontmpD__9;
						}
						LA128_: ;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (T127_)), ((NI) 1));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) 2), ((NI) 2));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (hlit)), ((NI) 5));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (hdist)), ((NI) 5));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (hclen)), ((NI) 4));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						{
							NI i_12;
							NI colontmp__6;
							NI i_13;
							i_12 = (NI)0;
							colontmp__6 = (NI)0;
							colontmp__6 = (NI)(hclen + ((NI) 4));
							i_13 = ((NI) 0);
							{
								while (1) {
									if (!(i_13 < colontmp__6)) goto LA135;
									i_12 = i_13;
									addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (clclOrdered[(i_12)- 0])), ((NI) 3));
									if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
									i_13 += ((NI) 1);
								} LA135: ;
							}
						}
						{
							NI i_14;
							i_14 = (NI)0;
							{
								while (1) {
									NI T139_;
									NU8 symbol;
									T139_ = codeLengthsRle.len;
									if (!(i_14 < T139_)) goto LA138;
									symbol = codeLengthsRle.p->data[i_14];
									addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (clCodes.p->data[symbol])), ((NI) (clCodeLengths.p->data[symbol])));
									if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
									i_14 += ((NI) 1);
									{
										if (!(symbol == ((NU8) 16))) goto LA142_;
										addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (codeLengthsRle.p->data[i_14])), ((NI) 2));
										if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
										i_14 += ((NI) 1);
									}
									goto LA140_;
									LA142_: ;
									{
										if (!(symbol == ((NU8) 17))) goto LA145_;
										addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (codeLengthsRle.p->data[i_14])), ((NI) 3));
										if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
										i_14 += ((NI) 1);
									}
									goto LA140_;
									LA145_: ;
									{
										if (!(symbol == ((NU8) 18))) goto LA148_;
										addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (codeLengthsRle.p->data[i_14])), ((NI) 7));
										if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
										i_14 += ((NI) 1);
									}
									goto LA140_;
									LA148_: ;
									LA140_: ;
								} LA138: ;
							}
						}
						eqdestroy___pureZtimes_1997((&clCodeLengths));
						eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&clCodes));
						eqdestroy___pureZtimes_1997((&codeLengthsRle));
					}
					LA58_: ;
					{
						NI srcPos;
						NI encPos;
						srcPos = blockStart_2;
						encPos = (NI)0;
						{
							while (1) {
								if (!(encPos < encodingLen)) goto LA152;
								{
									NU16 value;
									NU16 offset;
									NU16 length;
									NU16 lengthIndex;
									NU16 distanceIndex;
									NI lengthExtraBits;
									NU16 lengthExtra;
									NI distanceExtraBits;
									NU16 distanceExtra;
									NU64 buf;
									NI bitLen;
									NI firstAddLen;
									if (!!(((NU16)(encoding.p->data[encPos] & ((NU16) 32768)) == ((NU16) 0)))) goto LA155_;
									value = encoding.p->data[(NI)(encPos + ((NI) 0))];
									offset = encoding.p->data[(NI)(encPos + ((NI) 1))];
									length = encoding.p->data[(NI)(encPos + ((NI) 2))];
									lengthIndex = (NU16)((NU16)((NU16)(value) >> (NU32)(((NI) 8))) & ((NU16) 127));
									distanceIndex = (NU16)(value & ((NU16) 255));
									lengthExtraBits = ((NI) (baseLengthsExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_26[(lengthIndex)- 0]));
									lengthExtra = (NU16)((NU16)(length) - (NU16)(baseLengths__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_25[(lengthIndex)- 0]));
									distanceExtraBits = ((NI) (baseDistanceExtraBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_29[(distanceIndex)- 0]));
									distanceExtra = (NU16)((NU16)(offset) - (NU16)(baseDistances__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZinternal_28[(distanceIndex)- 0]));
									encPos += ((NI) 3);
									srcPos += ((NI) (length));
									buf = ((NU64) (litLenCodes.p->data[(NU16)((NU16)(lengthIndex) + (NU16)(((NU16) 257)))]));
									bitLen = ((NI) (litLenCodeLengths.p->data[(NU16)((NU16)(lengthIndex) + (NU16)(((NU16) 257)))]));
									buf = (NU64)(buf | (NU64)((NU64)(((NU64) (lengthExtra))) << (NU64)(bitLen)));
									bitLen += lengthExtraBits;
									buf = (NU64)(buf | (NU64)((NU64)(((NU64) (distanceCodes.p->data[distanceIndex]))) << (NU64)(bitLen)));
									bitLen += ((NI) (distanceCodeLengths.p->data[distanceIndex]));
									buf = (NU64)(buf | (NU64)((NU64)(((NU64) (distanceExtra))) << (NU64)(bitLen)));
									bitLen += distanceExtraBits;
									firstAddLen = ((bitLen <= ((NI) 32)) ? bitLen : ((NI) 32));
									addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (buf)), firstAddLen);
									if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
									buf = (NU64)((NU64)(buf) >> (NU64)(firstAddLen));
									bitLen -= firstAddLen;
									{
										if (!(((NI) 0) < bitLen)) goto LA159_;
										addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (buf)), bitLen);
										if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
									}
									LA159_: ;
								}
								goto LA153_;
								LA155_: ;
								{
									NI literalsLength;
									NU32 buf_2;
									NI bitLen_2;
									literalsLength = ((NI) (encoding.p->data[encPos]));
									encPos += ((NI) 1);
									buf_2 = (NU32)0;
									bitLen_2 = (NI)0;
									{
										NI _;
										NI i_15;
										_ = (NI)0;
										i_15 = ((NI) 0);
										{
											while (1) {
												NI codeLength;
												if (!(i_15 < literalsLength)) goto LA164;
												_ = i_15;
												codeLength = ((NI) (litLenCodeLengths.p->data[src[srcPos]]));
												{
													if (!(((NI) 32) < (NI)(bitLen_2 + codeLength))) goto LA167_;
													addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, buf_2, bitLen_2);
													if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
													buf_2 = ((NU32) 0);
													bitLen_2 = ((NI) 0);
												}
												LA167_: ;
												buf_2 = (NU32)(buf_2 | (NU32)((NU32)(((NU32) (litLenCodes.p->data[src[srcPos]]))) << (NU32)(bitLen_2)));
												bitLen_2 += codeLength;
												srcPos += ((NI) 1);
												i_15 += ((NI) 1);
											} LA164: ;
										}
									}
									{
										if (!(((NI) 0) < bitLen_2)) goto LA171_;
										addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, buf_2, bitLen_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
									}
									LA171_: ;
								}
								LA153_: ;
							} LA152: ;
						}
						{
							tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T177_;
							if (!!((encPos == encodingLen))) goto LA175_;
							T177_ = NIM_NIL;
							T177_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
							(*T177_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
							(*T177_).Sup.Sup.Sup.name = "ZippyError";
							(*T177_).Sup.Sup.Sup.message = TM__h0QljL12jgYltNO0arUYlA_15;
							(*T177_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
							raiseExceptionEx((Exception*)T177_, "ZippyError", "deflate", "deflate.nim", 470);
							goto LA24_;
						}
						LA175_: ;
					}
					{
						tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ* T182_;
						if (!(litLenCodeLengths.p->data[((NI) 256)] == ((NU8) 0))) goto LA180_;
						T182_ = NIM_NIL;
						T182_ = (tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ*) nimNewObj(sizeof(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ), NIM_ALIGNOF(tyObject_ZippyError__j2RCbV49bRvsx6N3fCdjSIQ));
						(*T182_).Sup.Sup.Sup.Sup.m_type = (&NTIv2__j2RCbV49bRvsx6N3fCdjSIQ_);
						(*T182_).Sup.Sup.Sup.name = "ZippyError";
						(*T182_).Sup.Sup.Sup.message = TM__h0QljL12jgYltNO0arUYlA_17;
						(*T182_).Sup.Sup.Sup.parent = ((Exception*) NIM_NIL);
						raiseExceptionEx((Exception*)T182_, "ZippyError", "deflate", "deflate.nim", 475);
						goto LA24_;
					}
					LA180_: ;
					addBits__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_62((&b), dst, ((NU32) (litLenCodes.p->data[((NI) 256)])), ((NI) (litLenCodeLengths.p->data[((NI) 256)])));
					if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					{
						LA24_:;
					}
					{
						eqdestroy___pureZtimes_1997((&distanceCodeLengths));
						eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&distanceCodes));
						eqdestroy___pureZtimes_1997((&litLenCodeLengths));
						eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&litLenCodes));
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				} LA23: ;
				i_2 += ((NI) 1);
			} LA22: ;
		}
	}
	skipRemainingBitsInCurrentByte__OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZbitstreams_87((&b));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	setLengthStrV2((&(*dst)), ((NI) (b.pos)));
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&encoding));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, zippy_deflateDatInit000)(void) {
NTIv2__vzzN4usw0czZCT6gYl6KaQ_.destructor = (void*)NIM_NIL; NTIv2__vzzN4usw0czZCT6gYl6KaQ_.size = sizeof(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ); NTIv2__vzzN4usw0czZCT6gYl6KaQ_.align = NIM_ALIGNOF(tyObject_Env_deflatedotnim_huffmanCodes___vzzN4usw0czZCT6gYl6KaQ); NTIv2__vzzN4usw0czZCT6gYl6KaQ_.name = "|zippy.deflate.Env_deflate.nim_huffmanCodes|RootObj|";
; NTIv2__vzzN4usw0czZCT6gYl6KaQ_.traceImpl = (void*)NIM_NIL; NTIv2__vzzN4usw0czZCT6gYl6KaQ_.flags = 0;NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.destructor = (void*)eqdestroy___OOZOOZOOZOnimbleZpkgsZzippy4548O57O55ZzippyZdeflate_1185; NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.size = sizeof(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg); NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.align = NIM_ALIGNOF(tyObject_Env_deflatedotnim_buildTree___LbP2rMM7Ek3pyzbvr4XhVg); NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.name = "|zippy.deflate.Env_deflate.nim_buildTree|RootObj|";
; NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.traceImpl = (void*)NIM_NIL; NTIv2__LbP2rMM7Ek3pyzbvr4XhVg_.flags = 0;}

