/* Generated by Nim Compiler v1.6.4 */
#define NIM_INTBITS 64
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tyObject_FramebufferObj__1pPqnr9cylF8gi9bULYcALCQ tyObject_FramebufferObj__1pPqnr9cylF8gi9bULYcALCQ;
typedef struct tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ;
typedef struct tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg;
typedef struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA;
typedef struct tySequence__PARCrxqvYn0HEzfqCVdrBg tySequence__PARCrxqvYn0HEzfqCVdrBg;
typedef struct tySequence__PARCrxqvYn0HEzfqCVdrBg_Content tySequence__PARCrxqvYn0HEzfqCVdrBg_Content;
typedef struct tySequence__uFLLGQVsiasALrzzzvqnZw tySequence__uFLLGQVsiasALrzzzvqnZw;
typedef struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content tySequence__uFLLGQVsiasALrzzzvqnZw_Content;
typedef struct tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw;
typedef struct tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ;
typedef struct tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w;
typedef struct tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA;
typedef struct tySequence__p1OLVUbOUr4hlV5vMqHr7A tySequence__p1OLVUbOUr4hlV5vMqHr7A;
typedef struct tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content;
typedef struct tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA;
typedef NI tyArray__OYqzMMAeF9bf1yDDPNUyDgg[32];
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
};
struct tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ {
NU32 src;
NU32 dst;
};
typedef NU8 tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew;
struct tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw {
tyObject_FramebufferObj__1pPqnr9cylF8gi9bULYcALCQ* buffer;
NI offset;
NI count;
NIM_BOOL depth;
NIM_BOOL writeDepth;
tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ blend;
tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew cullFace;
};
struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA {
NI a;
NI b;
};
struct tySequence__PARCrxqvYn0HEzfqCVdrBg {
  NI len; tySequence__PARCrxqvYn0HEzfqCVdrBg_Content* p;
};
struct tySequence__uFLLGQVsiasALrzzzvqnZw {
  NI len; tySequence__uFLLGQVsiasALrzzzvqnZw_Content* p;
};
struct tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg {
tySequence__PARCrxqvYn0HEzfqCVdrBg vertices;
tySequence__uFLLGQVsiasALrzzzvqnZw indices;
NU32 vertexBuffer;
NU32 indexBuffer;
NIM_BOOL isStatic;
NIM_BOOL modifiedVert;
NIM_BOOL modifiedInd;
tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA vertSlice;
tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA indSlice;
NU32 primitiveType;
};
typedef N_CDECL_PTR(void, tyProc__CGFSM2Hc7U0HyNmEEh3xng) (NU32 mode);
typedef N_CDECL_PTR(void, tyProc__D0XCEZcts9cN8zkp9bhnQ00A) (NU32 target, NU32 buffer);
typedef N_CDECL_PTR(void, tyProc__Ded13HiQG0P4g9cln7QdFgA) (NU32 target, NI size, void* data, NU32 usage);
struct tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w {
NF32 x;
NF32 y;
};
struct tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg {
NU8 rv;
NU8 gv;
NU8 bv;
NU8 av;
};
struct tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ {
tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w pos;
tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w uv;
tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg color;
tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg mixcolor;
};
typedef N_CDECL_PTR(void, tyProc__VvM9bY29aO9cFSUhJzukEry6g) (NU32 target, NI offset, NI size, void* data);
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
typedef N_CDECL_PTR(void, tyProc__EqjnDsDbLLwnWdK9c9b6WQhQ) (NU32 index, NI32 size, NU32 type_0, NIM_BOOL normalized, NI32 stride, void* pointer);
typedef NU8 tyArray__emN2TM6BO2Qf3fJE9c3Ir3A[36349];
typedef N_CDECL_PTR(void, tyProc__HkM9bhsP1jtZQqwOk14SmLg) (NIM_BOOL flag);
typedef N_CDECL_PTR(void, tyProc__h2ucBKrRnZWIUyiZQ3UmEA) (NU32 mode, NI32 first, NI32 count);
typedef N_CDECL_PTR(void, tyProc__UYHZVg9b2ckmnscruc5dsww) (NU32 mode, NI32 count, NU32 type_0, void* indices);
struct tySequence__p1OLVUbOUr4hlV5vMqHr7A {
  NI len; tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content* p;
};
struct tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA {
tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w pos;
tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w uv;
tyObject_Color__OSWJq3HNkIl1V7S3GsYvBg color;
};
struct tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA {
tySequence__p1OLVUbOUr4hlV5vMqHr7A vertices;
tySequence__uFLLGQVsiasALrzzzvqnZw indices;
NU32 vertexBuffer;
NU32 indexBuffer;
NIM_BOOL isStatic;
NIM_BOOL modifiedVert;
NIM_BOOL modifiedInd;
tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA vertSlice;
tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA indSlice;
NU32 primitiveType;
};


#ifndef tySequence__PARCrxqvYn0HEzfqCVdrBg_Content_PP
#define tySequence__PARCrxqvYn0HEzfqCVdrBg_Content_PP
struct tySequence__PARCrxqvYn0HEzfqCVdrBg_Content { NI cap; tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__PARCrxqvYn0HEzfqCVdrBg_Content_PP
#define tySequence__PARCrxqvYn0HEzfqCVdrBg_Content_PP
struct tySequence__PARCrxqvYn0HEzfqCVdrBg_Content { NI cap; tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
#define tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
struct tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content { NI cap; tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
#define tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
struct tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content { NI cap; tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
#define tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content_PP
struct tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content { NI cap; tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
#define tySequence__uFLLGQVsiasALrzzzvqnZw_Content_PP
struct tySequence__uFLLGQVsiasALrzzzvqnZw_Content { NI cap; NU16 data[SEQ_DECL_SIZE];};
#endif

      static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p);
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZframebuffer_14)(tyObject_FramebufferObj__1pPqnr9cylF8gi9bULYcALCQ* buffer);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p, NI alignment);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, use__OOZfauZsrcZfauZshader_57)(tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw* shader);
N_LIB_PRIVATE N_NIMCALL(void, use__OOZfauZsrcZfauZframebuffer_85)(tyObject_FramebufferObj__1pPqnr9cylF8gi9bULYcALCQ* buffer);
static N_INLINE(void, glCullFace__OOZfauZsrcZfauZglZglproc_240)(NU32 mode);
static N_INLINE(NU32, toGlEnum__OOZfauZsrcZfauZmesh_95)(tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew face);
static N_INLINE(void, glBindBuffer__OOZfauZsrcZfauZglZglproc_104)(NU32 target, NU32 buffer);
N_LIB_PRIVATE N_NIMCALL(NI, vertexSize__OOZfauZsrcZfauZbatch_144)(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* mesh);
static N_INLINE(void, glBufferData__OOZfauZsrcZfauZglZglproc_160)(NU32 target, NI size, void* data, NU32 usage);
static N_INLINE(void, glBufferSubData__OOZfauZsrcZfauZglZglproc_167)(NU32 target, NI offset, NI size, void* data);
static N_INLINE(NI, len__OOZfauZsrcZfauZbatch_164)(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x);
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_914)(NI a, NI b);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
static N_INLINE(void, glDisableVertexAttribArray__OOZfauZsrcZfauZglZglproc_304)(NU32 index);
N_LIB_PRIVATE N_NIMCALL(NI, getAttributeLoc__OOZfauZsrcZfauZshader_1674)(tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw* shader, NimStringV2 alias);
static N_INLINE(void, glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325)(NU32 index);
static N_INLINE(void, glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804)(NU32 index, NI32 size, NU32 type_0, NIM_BOOL normalized, NI32 stride, void* pointer);
static N_INLINE(void, glEnable__OOZfauZsrcZfauZglZglproc_321)(NU32 cap);
static N_INLINE(void, glDisable__OOZfauZsrcZfauZglZglproc_291)(NU32 cap);
static N_INLINE(void, glDepthMask__OOZfauZsrcZfauZglZglproc_277)(NIM_BOOL flag);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___OOZfauZsrcZfauZbatch_254)(tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ x, tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ y);
static N_INLINE(void, glBlendFunc__OOZfauZsrcZfauZglZglproc_148)(NU32 sfactor, NU32 dfactor);
static N_INLINE(void, glDrawArrays__OOZfauZsrcZfauZglZglproc_308)(NU32 mode, NI32 first, NI32 count);
static N_INLINE(void, glDrawElements__OOZfauZsrcZfauZglZglproc_314)(NU32 mode, NI32 count, NU32 type_0, void* indices);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZbatch_535)(tySequence__PARCrxqvYn0HEzfqCVdrBg* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264)(tySequence__uFLLGQVsiasALrzzzvqnZw* dest);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZfauZsrcZfauZbatch_538)(tySequence__PARCrxqvYn0HEzfqCVdrBg* dest, tySequence__PARCrxqvYn0HEzfqCVdrBg src);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_267)(tySequence__uFLLGQVsiasALrzzzvqnZw* dest, tySequence__uFLLGQVsiasALrzzzvqnZw src);
static N_INLINE(NU32, glGenBuffer__OOZfauZsrcZfauZglZglproc_351)(void);
N_LIB_PRIVATE N_NIMCALL(NU32, glGenBuffer__OOZfauZsrcZfauZglZglad_1783)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZmesh_415)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZmesh_322)(tySequence__p1OLVUbOUr4hlV5vMqHr7A* dest);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
N_LIB_PRIVATE N_NIMCALL(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA*, newMesh__OOZfauZsrcZfauZmesh_314)(NIM_BOOL isStatic, NU32 primitiveType, tySequence__p1OLVUbOUr4hlV5vMqHr7A vertices, tySequence__uFLLGQVsiasALrzzzvqnZw indices);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZfauZsrcZfauZmesh_325)(tySequence__p1OLVUbOUr4hlV5vMqHr7A* dest, tySequence__p1OLVUbOUr4hlV5vMqHr7A src);
N_LIB_PRIVATE N_NIMCALL(void, setLen__OOZfauZsrcZfauZmesh_335)(tySequence__p1OLVUbOUr4hlV5vMqHr7A* s, NI newlen);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(NI, vertexSize__OOZfauZsrcZfauZg50Zbloom_74)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* mesh);
static const struct {
  NI cap; NIM_CHAR data[5+1];
} TM__x3uxiXpolF9cmCRqyPPyWeg_2 = { 5 | NIM_STRLIT_FLAG, "a_pos" };
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_3 = {5, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_2};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__x3uxiXpolF9cmCRqyPPyWeg_4 = { 4 | NIM_STRLIT_FLAG, "a_uv" };
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_5 = {4, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_4};
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__x3uxiXpolF9cmCRqyPPyWeg_6 = { 7 | NIM_STRLIT_FLAG, "a_color" };
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_7 = {7, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_6};
static const struct {
  NI cap; NIM_CHAR data[10+1];
} TM__x3uxiXpolF9cmCRqyPPyWeg_8 = { 10 | NIM_STRLIT_FLAG, "a_mixcolor" };
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_9 = {10, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_8};
N_LIB_PRIVATE NIM_CONST tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ blendDisabled__OOZfauZsrcZfauZmesh_82 = {((NU32) 0), ((NU32) 0)}
;
N_LIB_PRIVATE NIM_CONST tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ blendNormal__OOZfauZsrcZfauZmesh_78 = {((NU32) 770), ((NU32) 771)}
;
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_10 = {5, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_2};
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_11 = {4, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_4};
static const NimStringV2 TM__x3uxiXpolF9cmCRqyPPyWeg_12 = {7, (NimStrPayload*)&TM__x3uxiXpolF9cmCRqyPPyWeg_6};
N_LIB_PRIVATE NIM_CONST tyObject_Blending__hsAju9cB1hd79a6H4b5CoxVQ blendAdditive__OOZfauZsrcZfauZmesh_79 = {((NU32) 770), ((NU32) 1)}
;
N_LIB_PRIVATE tyArray__OYqzMMAeF9bf1yDDPNUyDgg activeAttribs__OOZfauZsrcZfauZmesh_207;
N_LIB_PRIVATE NI totalActive__OOZfauZsrcZfauZmesh_208 = ((NI) 0);
N_LIB_PRIVATE NI64 lastVertexType__OOZfauZsrcZfauZmesh_209;
N_LIB_PRIVATE NI i__OOZfauZsrcZfauZmesh_221;
extern NIM_BOOL nimInErrorMode__system_3443;
extern NU32 lastCullFace__OOZfauZsrcZfauZglZglproc_21;
extern tyProc__CGFSM2Hc7U0HyNmEEh3xng glCullFace__OOZfauZsrcZfauZglZglad_151;
extern NI lastArrayBuffer__OOZfauZsrcZfauZglZglproc_12;
extern tyProc__D0XCEZcts9cN8zkp9bhnQ00A glBindBuffer__OOZfauZsrcZfauZglZglad_28;
extern tyProc__Ded13HiQG0P4g9cln7QdFgA glBufferData__OOZfauZsrcZfauZglZglad_69;
extern tyProc__VvM9bY29aO9cFSUhJzukEry6g glBufferSubData__OOZfauZsrcZfauZglZglad_75;
extern tyProc__CGFSM2Hc7U0HyNmEEh3xng glDisableVertexAttribArray__OOZfauZsrcZfauZglZglad_193;
extern tyProc__CGFSM2Hc7U0HyNmEEh3xng glEnableVertexAttribArray__OOZfauZsrcZfauZglZglad_210;
extern tyProc__EqjnDsDbLLwnWdK9c9b6WQhQ glVertexAttribPointer__OOZfauZsrcZfauZglZglad_687;
extern tyArray__emN2TM6BO2Qf3fJE9c3Ir3A lastEnabled__OOZfauZsrcZfauZglZglproc_18;
extern tyProc__CGFSM2Hc7U0HyNmEEh3xng glEnable__OOZfauZsrcZfauZglZglad_207;
extern tyProc__CGFSM2Hc7U0HyNmEEh3xng glDisable__OOZfauZsrcZfauZglZglad_190;
extern NIM_BOOL lastDepthMask__OOZfauZsrcZfauZglZglproc_22;
extern tyProc__HkM9bhsP1jtZQqwOk14SmLg glDepthMask__OOZfauZsrcZfauZglZglad_179;
extern NU32 lastSfactor__OOZfauZsrcZfauZglZglproc_19;
extern NU32 lastDfactor__OOZfauZsrcZfauZglZglproc_20;
extern tyProc__D0XCEZcts9cN8zkp9bhnQ00A glBlendFunc__OOZfauZsrcZfauZglZglad_57;
extern tyProc__h2ucBKrRnZWIUyiZQ3UmEA glDrawArrays__OOZfauZsrcZfauZglZglad_198;
extern tyProc__UYHZVg9b2ckmnscruc5dsww glDrawElements__OOZfauZsrcZfauZglZglad_204;
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU64)(((NU) (x))) - (NU64)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_716(((NI) (ptrdiff_t) (p)), ((NI) 8));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			if (!((NI)((*cell).rc & ((NI) -8)) == ((NI) 0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
		LA8_: ;
		{
			(*cell).rc -= ((NI) 8);
		}
		LA6_: ;
	}
	LA3_: ;
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3443);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZmesh_116)(tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw* dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest).buffer);
		if (!T3_) goto LA4_;
		eqdestroy___OOZfauZsrcZfauZframebuffer_14((*dest).buffer);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest).buffer, ((NI) 8));
	}
	LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, updateVertices__OOZfauZsrcZfauZbatch_104)(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* mesh, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA slice) {
	(*mesh).vertSlice.a = (((*mesh).vertSlice.a <= slice.a) ? (*mesh).vertSlice.a : slice.a);
	(*mesh).vertSlice.b = (((*mesh).vertSlice.b >= slice.b) ? (*mesh).vertSlice.b : slice.b);
}
static N_INLINE(void, glCullFace__OOZfauZsrcZfauZglZglproc_240)(NU32 mode) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(mode == lastCullFace__OOZfauZsrcZfauZglZglproc_21)) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	lastCullFace__OOZfauZsrcZfauZglZglproc_21 = mode;
	glCullFace__OOZfauZsrcZfauZglZglad_151(mode);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NU32, toGlEnum__OOZfauZsrcZfauZmesh_95)(tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew face) {
	NU32 result;
	NU32 colontmpD_;
	NU32 colontmpD__2;
	NU32 colontmpD__3;
	result = (NU32)0;
	colontmpD_ = (NU32)0;
	colontmpD__2 = (NU32)0;
	colontmpD__3 = (NU32)0;
	switch (face) {
	case ((tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew) 0):
	{
		colontmpD_ = ((NU32) 1028);
		result = colontmpD_;
	}
	break;
	case ((tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew) 1):
	{
		colontmpD__2 = ((NU32) 1029);
		result = colontmpD__2;
	}
	break;
	case ((tyEnum_CullFace__0G6mOarn9cnCWCzi0fEshew) 2):
	{
		colontmpD__3 = ((NU32) 1032);
		result = colontmpD__3;
	}
	break;
	}
	return result;
}
static N_INLINE(void, glBindBuffer__OOZfauZsrcZfauZglZglproc_104)(NU32 target, NU32 buffer) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (target == ((NU32) 34962));
		if (!(T3_)) goto LA4_;
		T3_ = (((NI) (buffer)) == lastArrayBuffer__OOZfauZsrcZfauZglZglproc_12);
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	glBindBuffer__OOZfauZsrcZfauZglZglad_28(target, buffer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(target == ((NU32) 34962))) goto LA9_;
		lastArrayBuffer__OOZfauZsrcZfauZglZglproc_12 = ((NI) (buffer));
	}
	LA9_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, vertexSize__OOZfauZsrcZfauZbatch_144)(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* mesh) {
	NI result;
	result = (NI)0;
	result = ((NI) 24);
	return result;
}
static N_INLINE(void, glBufferData__OOZfauZsrcZfauZglZglproc_160)(NU32 target, NI size, void* data, NU32 usage) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glBufferData__OOZfauZsrcZfauZglZglad_69(target, size, data, usage);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glBufferSubData__OOZfauZsrcZfauZglZglproc_167)(NU32 target, NI offset, NI size, void* data) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glBufferSubData__OOZfauZsrcZfauZglZglad_75(target, offset, size, data);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NI, len__OOZfauZsrcZfauZbatch_164)(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x) {
	NI result;
	result = (NI)0;
	result = ((((NI) 0) >= (NI)((NI)(x.b - x.a) + ((NI) 1))) ? ((NI) 0) : (NI)((NI)(x.b - x.a) + ((NI) 1)));
	return result;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_914)(NI a, NI b) {
	tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA result;
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	result.a = a;
	result.b = b;
	return result;
}
static N_INLINE(void, glDisableVertexAttribArray__OOZfauZsrcZfauZglZglproc_304)(NU32 index) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glDisableVertexAttribArray__OOZfauZsrcZfauZglZglad_193(index);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325)(NU32 index) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glEnableVertexAttribArray__OOZfauZsrcZfauZglZglad_210(index);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804)(NU32 index, NI32 size, NU32 type_0, NIM_BOOL normalized, NI32 stride, void* pointer) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glVertexAttribPointer__OOZfauZsrcZfauZglZglad_687(index, size, type_0, normalized, stride, pointer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glEnable__OOZfauZsrcZfauZglZglproc_321)(NU32 cap) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(lastEnabled__OOZfauZsrcZfauZglZglproc_18[(((NI) (cap)))- 0] == ((NU8) 2))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	glEnable__OOZfauZsrcZfauZglZglad_207(cap);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	lastEnabled__OOZfauZsrcZfauZglZglproc_18[(((NI) (cap)))- 0] = ((NU8) 2);
	}BeforeRet_: ;
}
static N_INLINE(void, glDisable__OOZfauZsrcZfauZglZglproc_291)(NU32 cap) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(lastEnabled__OOZfauZsrcZfauZglZglproc_18[(((NI) (cap)))- 0] == ((NU8) 1))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	glDisable__OOZfauZsrcZfauZglZglad_190(cap);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	lastEnabled__OOZfauZsrcZfauZglZglproc_18[(((NI) (cap)))- 0] = ((NU8) 1);
	}BeforeRet_: ;
}
static N_INLINE(void, glDepthMask__OOZfauZsrcZfauZglZglproc_277)(NIM_BOOL flag) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(lastDepthMask__OOZfauZsrcZfauZglZglproc_22 == flag)) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	lastDepthMask__OOZfauZsrcZfauZglZglproc_22 = flag;
	glDepthMask__OOZfauZsrcZfauZglZglad_179(flag);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glBlendFunc__OOZfauZsrcZfauZglZglproc_148)(NU32 sfactor, NU32 dfactor) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (lastSfactor__OOZfauZsrcZfauZglZglproc_19 == sfactor);
		if (!(T3_)) goto LA4_;
		T3_ = (lastDfactor__OOZfauZsrcZfauZglZglproc_20 == dfactor);
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	glBlendFunc__OOZfauZsrcZfauZglZglad_57(sfactor, dfactor);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	lastSfactor__OOZfauZsrcZfauZglZglproc_19 = sfactor;
	lastDfactor__OOZfauZsrcZfauZglZglproc_20 = dfactor;
	}BeforeRet_: ;
}
static N_INLINE(void, glDrawArrays__OOZfauZsrcZfauZglZglproc_308)(NU32 mode, NI32 first, NI32 count) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glDrawArrays__OOZfauZsrcZfauZglZglad_198(mode, first, count);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, glDrawElements__OOZfauZsrcZfauZglZglproc_314)(NU32 mode, NI32 count, NU32 type_0, void* indices) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	glDrawElements__OOZfauZsrcZfauZglZglad_204(mode, count, type_0, indices);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, renderInternal__OOZfauZsrcZfauZbatch_125)(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* mesh, tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw* shader, tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw* args) {
	NU32 colontmpD_;
	NU32 colontmpD__2;
	NU32 T1_;
	NU32 usage;
	NI vsize;
	NI locX60gensym5_;
	NI locX60gensym6_;
	NI locX60gensym7_;
	NI locX60gensym8_;
	NIM_BOOL T78_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_ = (NU32)0;
	colontmpD__2 = (NU32)0;
	use__OOZfauZsrcZfauZshader_57(shader);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	use__OOZfauZsrcZfauZframebuffer_85((*args).buffer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NU32)0;
	T1_ = toGlEnum__OOZfauZsrcZfauZmesh_95((*args).cullFace);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	glCullFace__OOZfauZsrcZfauZglZglproc_240(T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(*mesh).isStatic) goto LA4_;
		colontmpD_ = ((NU32) 35044);
		usage = colontmpD_;
	}
	goto LA2_;
	LA4_: ;
	{
		colontmpD__2 = ((NU32) 35040);
		usage = colontmpD__2;
	}
	LA2_: ;
	glBindBuffer__OOZfauZsrcZfauZglZglproc_104(((NU32) 34962), (*mesh).vertexBuffer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI T9_;
		T9_ = (*mesh).indices.len;
		if (!(((NI) 0) < T9_)) goto LA10_;
		glBindBuffer__OOZfauZsrcZfauZglZglproc_104(((NU32) 34963), (*mesh).indexBuffer);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA10_: ;
	vsize = vertexSize__OOZfauZsrcZfauZbatch_144(mesh);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI T16_;
		NI T17_;
		if (!(*mesh).modifiedVert) goto LA14_;
		T16_ = (*mesh).vertices.len;
		T17_ = (NI)0;
		T17_ = (NI)(T16_ * vsize);
		glBufferData__OOZfauZsrcZfauZglZglproc_160(((NU32) 34962), T17_, ((void*) ((&(*mesh).vertices.p->data[((NI) 0)]))), usage);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA12_;
	LA14_: ;
	{
		NI T21_;
		NI T22_;
		NI T23_;
		if (!!(((*mesh).vertSlice.b == ((NI) 0)))) goto LA19_;
		T21_ = (NI)0;
		T21_ = (NI)((*mesh).vertSlice.a * vsize);
		T22_ = (NI)0;
		T22_ = len__OOZfauZsrcZfauZbatch_164((*mesh).vertSlice);
		T23_ = (NI)0;
		T23_ = (NI)(T22_ * vsize);
		glBufferSubData__OOZfauZsrcZfauZglZglproc_167(((NU32) 34962), T21_, T23_, ((void*) ((&(*mesh).vertices.p->data[(*mesh).vertSlice.a]))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA12_;
	LA19_: ;
	LA12_: ;
	{
		NIM_BOOL T26_;
		NI T28_;
		NI T31_;
		NI T32_;
		T26_ = (NIM_BOOL)0;
		T26_ = (*mesh).modifiedInd;
		if (!(T26_)) goto LA27_;
		T28_ = (*mesh).indices.len;
		T26_ = (((NI) 0) < T28_);
		LA27_: ;
		if (!T26_) goto LA29_;
		T31_ = (*mesh).indices.len;
		T32_ = (NI)0;
		T32_ = (NI)(T31_ * ((NI) 2));
		glBufferData__OOZfauZsrcZfauZglZglproc_160(((NU32) 34963), T32_, ((void*) ((&(*mesh).indices.p->data[((NI) 0)]))), usage);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA24_;
	LA29_: ;
	{
		NIM_BOOL T34_;
		NI T36_;
		NI T39_;
		NI T40_;
		NI T41_;
		T34_ = (NIM_BOOL)0;
		T34_ = !(((*mesh).indSlice.b == ((NI) 0)));
		if (!(T34_)) goto LA35_;
		T36_ = (*mesh).indices.len;
		T34_ = (((NI) 0) < T36_);
		LA35_: ;
		if (!T34_) goto LA37_;
		T39_ = (NI)0;
		T39_ = (NI)((*mesh).indSlice.a * ((NI) 2));
		T40_ = (NI)0;
		T40_ = len__OOZfauZsrcZfauZbatch_164((*mesh).indSlice);
		T41_ = (NI)0;
		T41_ = (NI)(T40_ * ((NI) 2));
		glBufferSubData__OOZfauZsrcZfauZglZglproc_167(((NU32) 34963), T39_, T41_, ((void*) ((&(*mesh).indices.p->data[(*mesh).indSlice.a]))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA24_;
	LA37_: ;
	LA24_: ;
	(*mesh).vertSlice = dotdot___pureZunicode_914(((NI) 0), ((NI) 0));
	(*mesh).indSlice = dotdot___pureZunicode_914(((NI) 0), ((NI) 0));
	(*mesh).modifiedVert = NIM_FALSE;
	(*mesh).modifiedInd = NIM_FALSE;
	{
		if (!!((lastVertexType__OOZfauZsrcZfauZmesh_209 == IL64(2066321056)))) goto LA44_;
		{
			NI iX60gensym4_;
			NI i;
			iX60gensym4_ = (NI)0;
			i = ((NI) 0);
			{
				while (1) {
					if (!(i < totalActive__OOZfauZsrcZfauZmesh_208)) goto LA48;
					iX60gensym4_ = i;
					{
						if (!!((activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym4_)- 0] == ((NI) -1)))) goto LA51_;
						glDisableVertexAttribArray__OOZfauZsrcZfauZglZglproc_304(((NU32) (activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym4_)- 0])));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym4_)- 0] = ((NI) -1);
					}
					LA51_: ;
					i += ((NI) 1);
				} LA48: ;
			}
		}
	}
	LA44_: ;
	locX60gensym5_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_3);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ* tmpX60gensym13_;
		if (!!((locX60gensym5_ == ((NI) -1)))) goto LA55_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 0))- 0] = locX60gensym5_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym5_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym5_)), ((NI32) 2), ((NU32) 5126), NIM_FALSE, ((NI32) (vsize)), ((void*) (((NI) 0))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA53_;
	LA55_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 0))- 0] = ((NI) -1);
	}
	LA53_: ;
	locX60gensym6_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_5);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ* tmpX60gensym15_;
		if (!!((locX60gensym6_ == ((NI) -1)))) goto LA60_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 1))- 0] = locX60gensym6_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym6_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym6_)), ((NI32) 2), ((NU32) 5126), NIM_FALSE, ((NI32) (vsize)), ((void*) (((NI) 8))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA58_;
	LA60_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 1))- 0] = ((NI) -1);
	}
	LA58_: ;
	locX60gensym7_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_7);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ* tmpX60gensym17_;
		if (!!((locX60gensym7_ == ((NI) -1)))) goto LA65_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 2))- 0] = locX60gensym7_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym7_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym7_)), ((NI32) 4), ((NU32) 5121), NIM_TRUE, ((NI32) (vsize)), ((void*) (((NI) 16))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA63_;
	LA65_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 2))- 0] = ((NI) -1);
	}
	LA63_: ;
	locX60gensym8_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_9);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_Vert2__9cgwF8BmjkvAg9czRZkuIhqQ* tmpX60gensym19_;
		if (!!((locX60gensym8_ == ((NI) -1)))) goto LA70_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 3))- 0] = locX60gensym8_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym8_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym8_)), ((NI32) 4), ((NU32) 5121), NIM_TRUE, ((NI32) (vsize)), ((void*) (((NI) 20))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA68_;
	LA70_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 3))- 0] = ((NI) -1);
	}
	LA68_: ;
	totalActive__OOZfauZsrcZfauZmesh_208 = ((NI) 4);
	lastVertexType__OOZfauZsrcZfauZmesh_209 = IL64(2066321056);
	{
		if (!(*args).depth) goto LA75_;
		glEnable__OOZfauZsrcZfauZglZglproc_321(((NU32) 2929));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA73_;
	LA75_: ;
	{
		glDisable__OOZfauZsrcZfauZglZglproc_291(((NU32) 2929));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA73_: ;
	T78_ = (NIM_BOOL)0;
	T78_ = (*args).depth;
	if (!(T78_)) goto LA79_;
	T78_ = (*args).writeDepth;
	LA79_: ;
	glDepthMask__OOZfauZsrcZfauZglZglproc_277(T78_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NIM_BOOL T82_;
		T82_ = (NIM_BOOL)0;
		T82_ = eqeq___OOZfauZsrcZfauZbatch_254((*args).blend, blendDisabled__OOZfauZsrcZfauZmesh_82);
		if (!T82_) goto LA83_;
		glDisable__OOZfauZsrcZfauZglZglproc_291(((NU32) 3042));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA80_;
	LA83_: ;
	{
		glEnable__OOZfauZsrcZfauZglZglproc_321(((NU32) 3042));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glBlendFunc__OOZfauZsrcZfauZglZglproc_148((*args).blend.src, (*args).blend.dst);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA80_: ;
	{
		NI T88_;
		NI colontmpD__3;
		NI colontmpD__4;
		NI pcount;
		T88_ = (*mesh).indices.len;
		if (!(T88_ == ((NI) 0))) goto LA89_;
		colontmpD__3 = (NI)0;
		colontmpD__4 = (NI)0;
		{
			NI T95_;
			if (!((*args).count < ((NI) 0))) goto LA93_;
			T95_ = (*mesh).vertices.len;
			colontmpD__3 = T95_;
			pcount = colontmpD__3;
		}
		goto LA91_;
		LA93_: ;
		{
			colontmpD__4 = (*args).count;
			pcount = colontmpD__4;
		}
		LA91_: ;
		glDrawArrays__OOZfauZsrcZfauZglZglproc_308((*mesh).primitiveType, ((NI32) ((*args).offset)), ((NI32) (pcount)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA86_;
	LA89_: ;
	{
		NI colontmpD__5;
		NI colontmpD__6;
		NI pcount_2;
		colontmpD__5 = (NI)0;
		colontmpD__6 = (NI)0;
		{
			NI T102_;
			if (!((*args).count < ((NI) 0))) goto LA100_;
			T102_ = (*mesh).indices.len;
			colontmpD__5 = T102_;
			pcount_2 = colontmpD__5;
		}
		goto LA98_;
		LA100_: ;
		{
			colontmpD__6 = (*args).count;
			pcount_2 = colontmpD__6;
		}
		LA98_: ;
		glDrawElements__OOZfauZsrcZfauZglZglproc_314((*mesh).primitiveType, ((NI32) (pcount_2)), ((NU32) 5123), ((void*) ((NI)((*args).offset * ((NI) 2)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA86_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZbatch_585)(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* dest) {
	eqdestroy___OOZfauZsrcZfauZbatch_535((&(*dest).vertices));
	eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&(*dest).indices));
}
static N_INLINE(NU32, glGenBuffer__OOZfauZsrcZfauZglZglproc_351)(void) {
	NU32 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NU32)0;
	result = glGenBuffer__OOZfauZsrcZfauZglZglad_1783();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg*, newMesh__OOZfauZsrcZfauZbatch_568)(NIM_BOOL isStatic, NU32 primitiveType, tySequence__PARCrxqvYn0HEzfqCVdrBg vertices, tySequence__uFLLGQVsiasALrzzzvqnZw indices) {
	tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* result;
	NIM_BOOL colontmpD_;
	NU32 colontmpD__2;
	tySequence__PARCrxqvYn0HEzfqCVdrBg colontmpD__3;
	tySequence__uFLLGQVsiasALrzzzvqnZw colontmpD__4;
	tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_ = (NIM_BOOL)0;
	colontmpD__2 = (NU32)0;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
	T1_ = NIM_NIL;
	T1_ = (tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg*) nimNewObj(sizeof(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg), NIM_ALIGNOF(tyObject_MeshObj__9bGj6Bfoo471UiZzEq6awZg));
	colontmpD_ = isStatic;
	(*T1_).isStatic = colontmpD_;
	colontmpD__2 = primitiveType;
	(*T1_).primitiveType = colontmpD__2;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	eqcopy___OOZfauZsrcZfauZbatch_538((&colontmpD__3), vertices);
	(*T1_).vertices = colontmpD__3;
	colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
	eqcopy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_267((&colontmpD__4), indices);
	(*T1_).indices = colontmpD__4;
	(*T1_).modifiedVert = NIM_TRUE;
	(*T1_).modifiedInd = NIM_TRUE;
	(*T1_).vertexBuffer = glGenBuffer__OOZfauZsrcZfauZglZglproc_351();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*T1_).indexBuffer = glGenBuffer__OOZfauZsrcZfauZglZglproc_351();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = T1_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZmesh_322)(tySequence__p1OLVUbOUr4hlV5vMqHr7A* dest) {
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
}
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZfauZsrcZfauZmesh_415)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* dest) {
	eqdestroy___OOZfauZsrcZfauZmesh_322((&(*dest).vertices));
	eqdestroy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_264((&(*dest).indices));
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___OOZfauZsrcZfauZmesh_412)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA** dest, tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* src) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___OOZfauZsrcZfauZmesh_415((*dest));
		nimRawDispose((*dest), ((NI) 8));
	}
	LA4_: ;
	(*dest) = src;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___OOZfauZsrcZfauZmesh_325)(tySequence__p1OLVUbOUr4hlV5vMqHr7A* dest, tySequence__p1OLVUbOUr4hlV5vMqHr7A src) {
	NI T1_;
	NI colontmp_;
	T1_ = src.len;
	setLen__OOZfauZsrcZfauZmesh_335((&(*dest)), T1_);
	colontmp_ = ((NI) 0);
	{
		while (1) {
			NI T4_;
			T4_ = (*dest).len;
			if (!(colontmp_ < T4_)) goto LA3;
			(*dest).p->data[colontmp_].pos.x = src.p->data[colontmp_].pos.x;
			(*dest).p->data[colontmp_].pos.y = src.p->data[colontmp_].pos.y;
			(*dest).p->data[colontmp_].uv.x = src.p->data[colontmp_].uv.x;
			(*dest).p->data[colontmp_].uv.y = src.p->data[colontmp_].uv.y;
			(*dest).p->data[colontmp_].color.rv = src.p->data[colontmp_].color.rv;
			(*dest).p->data[colontmp_].color.gv = src.p->data[colontmp_].color.gv;
			(*dest).p->data[colontmp_].color.bv = src.p->data[colontmp_].color.bv;
			(*dest).p->data[colontmp_].color.av = src.p->data[colontmp_].color.av;
			colontmp_ += ((NI) 1);
		} LA3: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA*, newMesh__OOZfauZsrcZfauZmesh_314)(NIM_BOOL isStatic, NU32 primitiveType, tySequence__p1OLVUbOUr4hlV5vMqHr7A vertices, tySequence__uFLLGQVsiasALrzzzvqnZw indices) {
	tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* result;
	NIM_BOOL colontmpD_;
	NU32 colontmpD__2;
	tySequence__p1OLVUbOUr4hlV5vMqHr7A colontmpD__3;
	tySequence__uFLLGQVsiasALrzzzvqnZw colontmpD__4;
	tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_ = (NIM_BOOL)0;
	colontmpD__2 = (NU32)0;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
	T1_ = NIM_NIL;
	T1_ = (tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA*) nimNewObj(sizeof(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA), NIM_ALIGNOF(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA));
	colontmpD_ = isStatic;
	(*T1_).isStatic = colontmpD_;
	colontmpD__2 = primitiveType;
	(*T1_).primitiveType = colontmpD__2;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	eqcopy___OOZfauZsrcZfauZmesh_325((&colontmpD__3), vertices);
	(*T1_).vertices = colontmpD__3;
	colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
	eqcopy___OOZOOZOOZOnimbleZpkgsZstb95image4550O53Zstb95imageZread_267((&colontmpD__4), indices);
	(*T1_).indices = colontmpD__4;
	(*T1_).modifiedVert = NIM_TRUE;
	(*T1_).modifiedInd = NIM_TRUE;
	(*T1_).vertexBuffer = glGenBuffer__OOZfauZsrcZfauZglZglproc_351();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*T1_).indexBuffer = glGenBuffer__OOZfauZsrcZfauZglZglproc_351();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = T1_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA*, newScreenMesh__OOZfauZsrcZfauZmesh_312)(void) {
	tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* result;
	tySequence__p1OLVUbOUr4hlV5vMqHr7A colontmpD_;
	tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA T2_;
	tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA T3_;
	tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA T4_;
	tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA T5_;
	tySequence__uFLLGQVsiasALrzzzvqnZw T6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
	colontmpD_.len = 4; colontmpD_.p = (tySequence__p1OLVUbOUr4hlV5vMqHr7A_Content*) newSeqPayload(4, sizeof(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA), NIM_ALIGNOF(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
	nimZeroMem((void*)(&T2_), sizeof(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
	nimZeroMem((void*)(&T2_.pos), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T2_.pos.x = -1.0f;
	T2_.pos.y = -1.0f;
	nimZeroMem((void*)(&T2_.uv), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T2_.uv.x = 0.0f;
	T2_.uv.y = 0.0f;
	colontmpD_.p->data[0] = T2_;
	nimZeroMem((void*)(&T3_), sizeof(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
	nimZeroMem((void*)(&T3_.pos), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T3_.pos.x = 1.0f;
	T3_.pos.y = -1.0f;
	nimZeroMem((void*)(&T3_.uv), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T3_.uv.x = 1.0f;
	T3_.uv.y = 0.0f;
	colontmpD_.p->data[1] = T3_;
	nimZeroMem((void*)(&T4_), sizeof(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
	nimZeroMem((void*)(&T4_.pos), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T4_.pos.x = 1.0f;
	T4_.pos.y = 1.0f;
	nimZeroMem((void*)(&T4_.uv), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T4_.uv.x = 1.0f;
	T4_.uv.y = 1.0f;
	colontmpD_.p->data[2] = T4_;
	nimZeroMem((void*)(&T5_), sizeof(tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA));
	nimZeroMem((void*)(&T5_.pos), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T5_.pos.x = -1.0f;
	T5_.pos.y = 1.0f;
	nimZeroMem((void*)(&T5_.uv), sizeof(tyObject_Vec2__207B9cwFjt9a8ydWqYFfZZ2w));
	T5_.uv.x = 0.0f;
	T5_.uv.y = 1.0f;
	colontmpD_.p->data[3] = T5_;
	T6_.len = 0; T6_.p = NIM_NIL;
	T6_.len = 0; T6_.p = (tySequence__uFLLGQVsiasALrzzzvqnZw_Content*) newSeqPayload(0, sizeof(NU16), NIM_ALIGNOF(NU16));
	result = newMesh__OOZfauZsrcZfauZmesh_314(NIM_TRUE, ((NU32) 6), colontmpD_, T6_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		eqdestroy___OOZfauZsrcZfauZmesh_322((&colontmpD_));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, vertexSize__OOZfauZsrcZfauZg50Zbloom_74)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* mesh) {
	NI result;
	result = (NI)0;
	result = ((NI) 20);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, renderInternal__OOZfauZsrcZfauZg50Zbloom_55)(tyObject_MeshObj__cPggZRHFWvGLKpQsZMF8yA* mesh, tyObject_ShaderObj__KFmcUvp7lIrtBdspoRxLXw* shader, tyObject_MeshParam__PTeep4m69bNi7Bk4ErRbSdw* args) {
	NU32 colontmpD_;
	NU32 colontmpD__2;
	NU32 T1_;
	NU32 usage;
	NI vsize;
	NI locX60gensym4_;
	NI locX60gensym5_;
	NI locX60gensym6_;
	NIM_BOOL T73_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_ = (NU32)0;
	colontmpD__2 = (NU32)0;
	use__OOZfauZsrcZfauZshader_57(shader);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	use__OOZfauZsrcZfauZframebuffer_85((*args).buffer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NU32)0;
	T1_ = toGlEnum__OOZfauZsrcZfauZmesh_95((*args).cullFace);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	glCullFace__OOZfauZsrcZfauZglZglproc_240(T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(*mesh).isStatic) goto LA4_;
		colontmpD_ = ((NU32) 35044);
		usage = colontmpD_;
	}
	goto LA2_;
	LA4_: ;
	{
		colontmpD__2 = ((NU32) 35040);
		usage = colontmpD__2;
	}
	LA2_: ;
	glBindBuffer__OOZfauZsrcZfauZglZglproc_104(((NU32) 34962), (*mesh).vertexBuffer);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI T9_;
		T9_ = (*mesh).indices.len;
		if (!(((NI) 0) < T9_)) goto LA10_;
		glBindBuffer__OOZfauZsrcZfauZglZglproc_104(((NU32) 34963), (*mesh).indexBuffer);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA10_: ;
	vsize = vertexSize__OOZfauZsrcZfauZg50Zbloom_74(mesh);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI T16_;
		NI T17_;
		if (!(*mesh).modifiedVert) goto LA14_;
		T16_ = (*mesh).vertices.len;
		T17_ = (NI)0;
		T17_ = (NI)(T16_ * vsize);
		glBufferData__OOZfauZsrcZfauZglZglproc_160(((NU32) 34962), T17_, ((void*) ((&(*mesh).vertices.p->data[((NI) 0)]))), usage);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA12_;
	LA14_: ;
	{
		NI T21_;
		NI T22_;
		NI T23_;
		if (!!(((*mesh).vertSlice.b == ((NI) 0)))) goto LA19_;
		T21_ = (NI)0;
		T21_ = (NI)((*mesh).vertSlice.a * vsize);
		T22_ = (NI)0;
		T22_ = len__OOZfauZsrcZfauZbatch_164((*mesh).vertSlice);
		T23_ = (NI)0;
		T23_ = (NI)(T22_ * vsize);
		glBufferSubData__OOZfauZsrcZfauZglZglproc_167(((NU32) 34962), T21_, T23_, ((void*) ((&(*mesh).vertices.p->data[(*mesh).vertSlice.a]))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA12_;
	LA19_: ;
	LA12_: ;
	{
		NIM_BOOL T26_;
		NI T28_;
		NI T31_;
		NI T32_;
		T26_ = (NIM_BOOL)0;
		T26_ = (*mesh).modifiedInd;
		if (!(T26_)) goto LA27_;
		T28_ = (*mesh).indices.len;
		T26_ = (((NI) 0) < T28_);
		LA27_: ;
		if (!T26_) goto LA29_;
		T31_ = (*mesh).indices.len;
		T32_ = (NI)0;
		T32_ = (NI)(T31_ * ((NI) 2));
		glBufferData__OOZfauZsrcZfauZglZglproc_160(((NU32) 34963), T32_, ((void*) ((&(*mesh).indices.p->data[((NI) 0)]))), usage);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA24_;
	LA29_: ;
	{
		NIM_BOOL T34_;
		NI T36_;
		NI T39_;
		NI T40_;
		NI T41_;
		T34_ = (NIM_BOOL)0;
		T34_ = !(((*mesh).indSlice.b == ((NI) 0)));
		if (!(T34_)) goto LA35_;
		T36_ = (*mesh).indices.len;
		T34_ = (((NI) 0) < T36_);
		LA35_: ;
		if (!T34_) goto LA37_;
		T39_ = (NI)0;
		T39_ = (NI)((*mesh).indSlice.a * ((NI) 2));
		T40_ = (NI)0;
		T40_ = len__OOZfauZsrcZfauZbatch_164((*mesh).indSlice);
		T41_ = (NI)0;
		T41_ = (NI)(T40_ * ((NI) 2));
		glBufferSubData__OOZfauZsrcZfauZglZglproc_167(((NU32) 34963), T39_, T41_, ((void*) ((&(*mesh).indices.p->data[(*mesh).indSlice.a]))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA24_;
	LA37_: ;
	LA24_: ;
	(*mesh).vertSlice = dotdot___pureZunicode_914(((NI) 0), ((NI) 0));
	(*mesh).indSlice = dotdot___pureZunicode_914(((NI) 0), ((NI) 0));
	(*mesh).modifiedVert = NIM_FALSE;
	(*mesh).modifiedInd = NIM_FALSE;
	{
		if (!!((lastVertexType__OOZfauZsrcZfauZmesh_209 == IL64(654424285)))) goto LA44_;
		{
			NI iX60gensym3_;
			NI i;
			iX60gensym3_ = (NI)0;
			i = ((NI) 0);
			{
				while (1) {
					if (!(i < totalActive__OOZfauZsrcZfauZmesh_208)) goto LA48;
					iX60gensym3_ = i;
					{
						if (!!((activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym3_)- 0] == ((NI) -1)))) goto LA51_;
						glDisableVertexAttribArray__OOZfauZsrcZfauZglZglproc_304(((NU32) (activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym3_)- 0])));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						activeAttribs__OOZfauZsrcZfauZmesh_207[(iX60gensym3_)- 0] = ((NI) -1);
					}
					LA51_: ;
					i += ((NI) 1);
				} LA48: ;
			}
		}
	}
	LA44_: ;
	locX60gensym4_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_10);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA* tmpX60gensym11_;
		if (!!((locX60gensym4_ == ((NI) -1)))) goto LA55_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 0))- 0] = locX60gensym4_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym4_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym4_)), ((NI32) 2), ((NU32) 5126), NIM_FALSE, ((NI32) (vsize)), ((void*) (((NI) 0))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA53_;
	LA55_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 0))- 0] = ((NI) -1);
	}
	LA53_: ;
	locX60gensym5_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_11);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA* tmpX60gensym13_;
		if (!!((locX60gensym5_ == ((NI) -1)))) goto LA60_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 1))- 0] = locX60gensym5_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym5_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym5_)), ((NI32) 2), ((NU32) 5126), NIM_FALSE, ((NI32) (vsize)), ((void*) (((NI) 8))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA58_;
	LA60_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 1))- 0] = ((NI) -1);
	}
	LA58_: ;
	locX60gensym6_ = getAttributeLoc__OOZfauZsrcZfauZshader_1674(shader, TM__x3uxiXpolF9cmCRqyPPyWeg_12);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_SVert2__LSpciE11m1Wqo7XG9aFatkA* tmpX60gensym15_;
		if (!!((locX60gensym6_ == ((NI) -1)))) goto LA65_;
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 2))- 0] = locX60gensym6_;
		glEnableVertexAttribArray__OOZfauZsrcZfauZglZglproc_325(((NU32) (locX60gensym6_)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glVertexAttribPointer__OOZfauZsrcZfauZglZglproc_804(((NU32) (locX60gensym6_)), ((NI32) 4), ((NU32) 5121), NIM_TRUE, ((NI32) (vsize)), ((void*) (((NI) 16))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA63_;
	LA65_: ;
	{
		activeAttribs__OOZfauZsrcZfauZmesh_207[(((NI) 2))- 0] = ((NI) -1);
	}
	LA63_: ;
	totalActive__OOZfauZsrcZfauZmesh_208 = ((NI) 3);
	lastVertexType__OOZfauZsrcZfauZmesh_209 = IL64(654424285);
	{
		if (!(*args).depth) goto LA70_;
		glEnable__OOZfauZsrcZfauZglZglproc_321(((NU32) 2929));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA68_;
	LA70_: ;
	{
		glDisable__OOZfauZsrcZfauZglZglproc_291(((NU32) 2929));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA68_: ;
	T73_ = (NIM_BOOL)0;
	T73_ = (*args).depth;
	if (!(T73_)) goto LA74_;
	T73_ = (*args).writeDepth;
	LA74_: ;
	glDepthMask__OOZfauZsrcZfauZglZglproc_277(T73_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NIM_BOOL T77_;
		T77_ = (NIM_BOOL)0;
		T77_ = eqeq___OOZfauZsrcZfauZbatch_254((*args).blend, blendDisabled__OOZfauZsrcZfauZmesh_82);
		if (!T77_) goto LA78_;
		glDisable__OOZfauZsrcZfauZglZglproc_291(((NU32) 3042));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA75_;
	LA78_: ;
	{
		glEnable__OOZfauZsrcZfauZglZglproc_321(((NU32) 3042));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		glBlendFunc__OOZfauZsrcZfauZglZglproc_148((*args).blend.src, (*args).blend.dst);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA75_: ;
	{
		NI T83_;
		NI colontmpD__3;
		NI colontmpD__4;
		NI pcount;
		T83_ = (*mesh).indices.len;
		if (!(T83_ == ((NI) 0))) goto LA84_;
		colontmpD__3 = (NI)0;
		colontmpD__4 = (NI)0;
		{
			NI T90_;
			if (!((*args).count < ((NI) 0))) goto LA88_;
			T90_ = (*mesh).vertices.len;
			colontmpD__3 = T90_;
			pcount = colontmpD__3;
		}
		goto LA86_;
		LA88_: ;
		{
			colontmpD__4 = (*args).count;
			pcount = colontmpD__4;
		}
		LA86_: ;
		glDrawArrays__OOZfauZsrcZfauZglZglproc_308((*mesh).primitiveType, ((NI32) ((*args).offset)), ((NI32) (pcount)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA81_;
	LA84_: ;
	{
		NI colontmpD__5;
		NI colontmpD__6;
		NI pcount_2;
		colontmpD__5 = (NI)0;
		colontmpD__6 = (NI)0;
		{
			NI T97_;
			if (!((*args).count < ((NI) 0))) goto LA95_;
			T97_ = (*mesh).indices.len;
			colontmpD__5 = T97_;
			pcount_2 = colontmpD__5;
		}
		goto LA93_;
		LA95_: ;
		{
			colontmpD__6 = (*args).count;
			pcount_2 = colontmpD__6;
		}
		LA93_: ;
		glDrawElements__OOZfauZsrcZfauZglZglproc_314((*mesh).primitiveType, ((NI32) (pcount_2)), ((NU32) 5123), ((void*) ((NI)((*args).offset * ((NI) 2)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA81_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, fau_meshInit000)(void) {
{
	{
		NI i;
		i = ((NI) 0);
		{
			while (1) {
				if (!(i < ((NI) 32))) goto LA3;
				i__OOZfauZsrcZfauZmesh_221 = i;
				activeAttribs__OOZfauZsrcZfauZmesh_207[(i__OOZfauZsrcZfauZmesh_221)- 0] = ((NI) -1);
				i += ((NI) 1);
			} LA3: ;
		}
	}
}
}

