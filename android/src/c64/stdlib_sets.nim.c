/* Generated by Nim Compiler v1.6.4 */
#define NIM_INTBITS 64
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tySequence__tDKRY9bSivOysYIKSb2wA9bA tySequence__tDKRY9bSivOysYIKSb2wA9bA;
typedef struct tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content;
typedef struct tyTuple__cYrPa4YnBV3e5gfhyBNHwA tyTuple__cYrPa4YnBV3e5gfhyBNHwA;
typedef struct tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg;
struct tySequence__tDKRY9bSivOysYIKSb2wA9bA {
  NI len; tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content* p;
};
struct tyTuple__cYrPa4YnBV3e5gfhyBNHwA {
NI Field0;
NU16 Field1;
};
struct tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg {
tySequence__tDKRY9bSivOysYIKSb2wA9bA data;
NI counter;
};


#ifndef tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content_PP
#define tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content_PP
struct tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content { NI cap; tyTuple__cYrPa4YnBV3e5gfhyBNHwA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content_PP
#define tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content_PP
struct tySequence__tDKRY9bSivOysYIKSb2wA9bA_Content { NI cap; tyTuple__cYrPa4YnBV3e5gfhyBNHwA data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
static N_INLINE(NI, slotsNeeded__pureZcollectionsZsets_49)(NI count);
N_LIB_PRIVATE N_NIMCALL(NI, nextPowerOfTwo__pureZmath_177)(NI x);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(void, newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13771)(tySequence__tDKRY9bSivOysYIKSb2wA9bA* s, NI len);
static N_INLINE(NI, rawGet__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13853)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t, NU16 key, NI* hc);
static N_INLINE(NI, hash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_2389)(NU16 x);
static N_INLINE(NI, hashWangYi1__pureZhashes_136)(NU64 x);
static N_INLINE(NU64, hiXorLo__pureZhashes_79)(NU64 a, NU64 b);
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZsets_38)(NI hcode);
static N_INLINE(NI, nextTry__pureZcollectionsZsets_41)(NI h, NI maxHash);
static N_INLINE(NIM_BOOL, mustRehash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14130)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t);
N_LIB_PRIVATE N_NIMCALL(void, enlarge__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14322)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* s);
static N_INLINE(NI, rawGetKnownHC__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14573)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t, NU16 key, NI hc);
N_LIB_PRIVATE N_NIMCALL(void, rawInsert__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14935)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* s, tySequence__tDKRY9bSivOysYIKSb2wA9bA* data, NU16 key, NI hc, NI h);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14108)(tySequence__tDKRY9bSivOysYIKSb2wA9bA* dest);
extern NIM_BOOL nimInErrorMode__system_3443;
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14108)(tySequence__tDKRY9bSivOysYIKSb2wA9bA* dest) {
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyTuple__cYrPa4YnBV3e5gfhyBNHwA));
}
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3443);
	return result;
}
static N_INLINE(NI, slotsNeeded__pureZcollectionsZsets_49)(NI count) {
	NI result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = nextPowerOfTwo__pureZmath_177((NI)((NI)((NI)(((NI) (count)) * ((NI) 3)) / ((NI) 2)) + ((NI) 4)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NU64, hiXorLo__pureZhashes_79)(NU64 a, NU64 b) {
	NU64 result;
	result = (NU64)0;
	__uint128_t r = a; r *= b; result = (r >> 64) ^ r;
	return result;
}
static N_INLINE(NI, hashWangYi1__pureZhashes_136)(NU64 x) {
	NI result;
	NU64 T1_;
	NU64 T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	T1_ = (NU64)0;
	T1_ = hiXorLo__pureZhashes_79(11562461410679940143ULL, (NU64)(x ^ 16646288086500911323ULL));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = (NU64)0;
	T2_ = hiXorLo__pureZhashes_79(T1_, 16952864883938283885ULL);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ((NI) (T2_));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, hash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_2389)(NU16 x) {
	NI result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = hashWangYi1__pureZhashes_136(((NU64) (x)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZsets_38)(NI hcode) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = !((hcode == ((NI) 0)));
	return result;
}
static N_INLINE(NI, nextTry__pureZcollectionsZsets_41)(NI h, NI maxHash) {
	NI result;
	result = (NI)0;
	result = (NI)((NI)(h + ((NI) 1)) & maxHash);
	return result;
}
static N_INLINE(NI, rawGet__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13853)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t, NU16 key, NI* hc) {
	NI result;
	NI T1_;
	NI h;
	NI T11_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	T1_ = (NI)0;
	T1_ = hash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_2389(key);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*hc) = T1_;
	{
		if (!((*hc) == ((NI) 0))) goto LA4_;
		(*hc) = ((NI) 314159265);
	}
	LA4_: ;
	{
		NI T8_;
		T8_ = t.data.len;
		if (!(T8_ == ((NI) 0))) goto LA9_;
		result = ((NI) -1);
		goto BeforeRet_;
	}
	LA9_: ;
	T11_ = (t.data.len-1);
	h = (NI)((*hc) & T11_);
	{
		while (1) {
			NIM_BOOL T14_;
			NI T21_;
			T14_ = (NIM_BOOL)0;
			T14_ = isFilled__pureZcollectionsZsets_38(t.data.p->data[h].Field0);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T14_) goto LA13;
			{
				NIM_BOOL T17_;
				T17_ = (NIM_BOOL)0;
				T17_ = (t.data.p->data[h].Field0 == (*hc));
				if (!(T17_)) goto LA18_;
				T17_ = (t.data.p->data[h].Field1 == key);
				LA18_: ;
				if (!T17_) goto LA19_;
				result = h;
				goto BeforeRet_;
			}
			LA19_: ;
			T21_ = (t.data.len-1);
			h = nextTry__pureZcollectionsZsets_41(h, T21_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA13: ;
	}
	result = (NI)(((NI) -1) - h);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, mustRehash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14130)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	NI T2_;
	NI T4_;
	result = (NIM_BOOL)0;
	T1_ = (NIM_BOOL)0;
	T2_ = t.data.len;
	T1_ = ((NI)(T2_ * ((NI) 2)) < (NI)(t.counter * ((NI) 3)));
	if (T1_) goto LA3_;
	T4_ = t.data.len;
	T1_ = ((NI)(T4_ - t.counter) < ((NI) 4));
	LA3_: ;
	result = T1_;
	return result;
}
static N_INLINE(NI, rawGetKnownHC__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14573)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg t, NU16 key, NI hc) {
	NI result;
	NI h;
	NI T6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	{
		NI T3_;
		T3_ = t.data.len;
		if (!(T3_ == ((NI) 0))) goto LA4_;
		result = ((NI) -1);
		goto BeforeRet_;
	}
	LA4_: ;
	T6_ = (t.data.len-1);
	h = (NI)(hc & T6_);
	{
		while (1) {
			NIM_BOOL T9_;
			NI T16_;
			T9_ = (NIM_BOOL)0;
			T9_ = isFilled__pureZcollectionsZsets_38(t.data.p->data[h].Field0);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T9_) goto LA8;
			{
				NIM_BOOL T12_;
				T12_ = (NIM_BOOL)0;
				T12_ = (t.data.p->data[h].Field0 == hc);
				if (!(T12_)) goto LA13_;
				T12_ = (t.data.p->data[h].Field1 == key);
				LA13_: ;
				if (!T12_) goto LA14_;
				result = h;
				goto BeforeRet_;
			}
			LA14_: ;
			T16_ = (t.data.len-1);
			h = nextTry__pureZcollectionsZsets_41(h, T16_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA8: ;
	}
	result = (NI)(((NI) -1) - h);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, rawInsert__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14935)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* s, tySequence__tDKRY9bSivOysYIKSb2wA9bA* data, NU16 key, NI hc, NI h) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI T3_;
		NI correctSizeX60gensym287_;
		T3_ = (*data).len;
		if (!(T3_ == ((NI) 0))) goto LA4_;
		correctSizeX60gensym287_ = slotsNeeded__pureZcollectionsZsets_49(((NI) 64));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*s).counter = ((NI) 0);
		newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13771((&(*s).data), ((NI) (correctSizeX60gensym287_)));
	}
	LA4_: ;
	(*data).p->data[h].Field1 = key;
	(*data).p->data[h].Field0 = hc;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, enlarge__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14322)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* s) {
	tySequence__tDKRY9bSivOysYIKSb2wA9bA n;
	NI T1_;
	tySequence__tDKRY9bSivOysYIKSb2wA9bA T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	n.len = 0; n.p = NIM_NIL;
	T1_ = (*s).data.len;
	newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13771((&n), ((NI) ((NI)(T1_ * ((NI) 2)))));
	T2_.len = 0; T2_.p = NIM_NIL;
	T2_ = (*s).data;
	(*s).data = n;
	n = T2_;
	{
		NI i;
		NI colontmp_;
		NI T4_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		T4_ = (n.len-1);
		colontmp_ = T4_;
		res = ((NI) 0);
		{
			while (1) {
				if (!(res <= colontmp_)) goto LA6;
				i = res;
				{
					NIM_BOOL T9_;
					NI j;
					NI T12_;
					tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* T13_;
					T9_ = (NIM_BOOL)0;
					T9_ = isFilled__pureZcollectionsZsets_38(n.p->data[i].Field0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					if (!T9_) goto LA10_;
					T12_ = (NI)0;
					T12_ = rawGetKnownHC__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14573((*s), n.p->data[i].Field1, n.p->data[i].Field0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					j = (NI)(((NI) -1) - T12_);
					T13_ = (tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg*)0;
					T13_ = s;
					rawInsert__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14935(T13_, (&(*s).data), n.p->data[i].Field1, n.p->data[i].Field0, j);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
				LA10_: ;
				res += ((NI) 1);
			} LA6: ;
		}
	}
	eqdestroy___OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14108((&n));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, incl__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13696)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* s, NU16 key) {
	NI hc;
	NI index;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI T3_;
		NI correctSizeX60gensym278_;
		T3_ = (*s).data.len;
		if (!(T3_ == ((NI) 0))) goto LA4_;
		correctSizeX60gensym278_ = slotsNeeded__pureZcollectionsZsets_49(((NI) 64));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*s).counter = ((NI) 0);
		newSeq__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13771((&(*s).data), ((NI) (correctSizeX60gensym278_)));
	}
	LA4_: ;
	hc = (NI)0;
	index = rawGet__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13853((*s), key, (&hc));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg* T15_;
		if (!(index < ((NI) 0))) goto LA8_;
		{
			NIM_BOOL T12_;
			T12_ = (NIM_BOOL)0;
			T12_ = mustRehash__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14130((*s));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T12_) goto LA13_;
			enlarge__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14322(s);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			index = rawGetKnownHC__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14573((*s), key, hc);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA13_: ;
		T15_ = (tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg*)0;
		T15_ = s;
		rawInsert__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_14935(T15_, (&(*s).data), key, hc, (NI)(((NI) -1) - index));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(*s).counter += ((NI) 1);
	}
	LA8_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_23306)(tyObject_HashSet__Rzt9aI4RT5sIP7Qyzqs14kg s, NU16 key) {
	NIM_BOOL result;
	NI hc;
	NI index;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	hc = (NI)0;
	index = rawGet__OOZOOZOOZOnimbleZpkgsZpixie4552O48O49ZpixieZfontformatsZopentype_13853(s, key, (&hc));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (((NI) 0) <= index);
	}BeforeRet_: ;
	return result;
}
